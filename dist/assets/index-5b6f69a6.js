(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function z2(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Tb={exports:{}},uu={},Db={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Po=Symbol.for("react.element"),O2=Symbol.for("react.portal"),L2=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),$2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),W2=Symbol.for("react.memo"),G2=Symbol.for("react.lazy"),vf=Symbol.iterator;function H2(s){return s===null||typeof s!="object"?null:(s=vf&&s[vf]||s["@@iterator"],typeof s=="function"?s:null)}var Ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rb=Object.assign,Mb={};function qi(s,t,r){this.props=s,this.context=t,this.refs=Mb,this.updater=r||Ab}qi.prototype.isReactComponent={};qi.prototype.setState=function(s,t){if(typeof s!="object"&&typeof s!="function"&&s!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,s,t,"setState")};qi.prototype.forceUpdate=function(s){this.updater.enqueueForceUpdate(this,s,"forceUpdate")};function zb(){}zb.prototype=qi.prototype;function Sh(s,t,r){this.props=s,this.context=t,this.refs=Mb,this.updater=r||Ab}var _h=Sh.prototype=new zb;_h.constructor=Sh;Rb(_h,qi.prototype);_h.isPureReactComponent=!0;var Nf=Array.isArray,Ob=Object.prototype.hasOwnProperty,Ph={current:null},Lb={key:!0,ref:!0,__self:!0,__source:!0};function Vb(s,t,r){var a,i={},o=null,l=null;if(t!=null)for(a in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)Ob.call(t,a)&&!Lb.hasOwnProperty(a)&&(i[a]=t[a]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var x=Array(c),f=0;f<c;f++)x[f]=arguments[f+2];i.children=x}if(s&&s.defaultProps)for(a in c=s.defaultProps,c)i[a]===void 0&&(i[a]=c[a]);return{$$typeof:Po,type:s,key:o,ref:l,props:i,_owner:Ph.current}}function Q2(s,t){return{$$typeof:Po,type:s.type,key:t,ref:s.ref,props:s.props,_owner:s._owner}}function Th(s){return typeof s=="object"&&s!==null&&s.$$typeof===Po}function K2(s){var t={"=":"=0",":":"=2"};return"$"+s.replace(/[=:]/g,function(r){return t[r]})}var wf=/\/+/g;function gx(s,t){return typeof s=="object"&&s!==null&&s.key!=null?K2(""+s.key):t.toString(36)}function Fc(s,t,r,a,i){var o=typeof s;(o==="undefined"||o==="boolean")&&(s=null);var l=!1;if(s===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(s.$$typeof){case Po:case O2:l=!0}}if(l)return l=s,i=i(l),s=a===""?"."+gx(l,0):a,Nf(i)?(r="",s!=null&&(r=s.replace(wf,"$&/")+"/"),Fc(i,t,r,"",function(f){return f})):i!=null&&(Th(i)&&(i=Q2(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(wf,"$&/")+"/")+s)),t.push(i)),1;if(l=0,a=a===""?".":a+":",Nf(s))for(var c=0;c<s.length;c++){o=s[c];var x=a+gx(o,c);l+=Fc(o,t,r,x,i)}else if(x=H2(s),typeof x=="function")for(s=x.call(s),c=0;!(o=s.next()).done;)o=o.value,x=a+gx(o,c++),l+=Fc(o,t,r,x,i);else if(o==="object")throw t=String(s),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function hc(s,t,r){if(s==null)return s;var a=[],i=0;return Fc(s,a,"","",function(o){return t.call(r,o,i++)}),a}function Y2(s){if(s._status===-1){var t=s._result;t=t(),t.then(function(r){(s._status===0||s._status===-1)&&(s._status=1,s._result=r)},function(r){(s._status===0||s._status===-1)&&(s._status=2,s._result=r)}),s._status===-1&&(s._status=0,s._result=t)}if(s._status===1)return s._result.default;throw s._result}var Os={current:null},Uc={transition:null},J2={ReactCurrentDispatcher:Os,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Ph};function Bb(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:hc,forEach:function(s,t,r){hc(s,function(){t.apply(this,arguments)},r)},count:function(s){var t=0;return hc(s,function(){t++}),t},toArray:function(s){return hc(s,function(t){return t})||[]},only:function(s){if(!Th(s))throw Error("React.Children.only expected to receive a single React element child.");return s}};ht.Component=qi;ht.Fragment=L2;ht.Profiler=B2;ht.PureComponent=Sh;ht.StrictMode=V2;ht.Suspense=q2;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J2;ht.act=Bb;ht.cloneElement=function(s,t,r){if(s==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+s+".");var a=Rb({},s.props),i=s.key,o=s.ref,l=s._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Ph.current),t.key!==void 0&&(i=""+t.key),s.type&&s.type.defaultProps)var c=s.type.defaultProps;for(x in t)Ob.call(t,x)&&!Lb.hasOwnProperty(x)&&(a[x]=t[x]===void 0&&c!==void 0?c[x]:t[x])}var x=arguments.length-2;if(x===1)a.children=r;else if(1<x){c=Array(x);for(var f=0;f<x;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:Po,type:s.type,key:i,ref:o,props:a,_owner:l}};ht.createContext=function(s){return s={$$typeof:U2,_currentValue:s,_currentValue2:s,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},s.Provider={$$typeof:F2,_context:s},s.Consumer=s};ht.createElement=Vb;ht.createFactory=function(s){var t=Vb.bind(null,s);return t.type=s,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(s){return{$$typeof:$2,render:s}};ht.isValidElement=Th;ht.lazy=function(s){return{$$typeof:G2,_payload:{_status:-1,_result:s},_init:Y2}};ht.memo=function(s,t){return{$$typeof:W2,type:s,compare:t===void 0?null:t}};ht.startTransition=function(s){var t=Uc.transition;Uc.transition={};try{s()}finally{Uc.transition=t}};ht.unstable_act=Bb;ht.useCallback=function(s,t){return Os.current.useCallback(s,t)};ht.useContext=function(s){return Os.current.useContext(s)};ht.useDebugValue=function(){};ht.useDeferredValue=function(s){return Os.current.useDeferredValue(s)};ht.useEffect=function(s,t){return Os.current.useEffect(s,t)};ht.useId=function(){return Os.current.useId()};ht.useImperativeHandle=function(s,t,r){return Os.current.useImperativeHandle(s,t,r)};ht.useInsertionEffect=function(s,t){return Os.current.useInsertionEffect(s,t)};ht.useLayoutEffect=function(s,t){return Os.current.useLayoutEffect(s,t)};ht.useMemo=function(s,t){return Os.current.useMemo(s,t)};ht.useReducer=function(s,t,r){return Os.current.useReducer(s,t,r)};ht.useRef=function(s){return Os.current.useRef(s)};ht.useState=function(s){return Os.current.useState(s)};ht.useSyncExternalStore=function(s,t,r){return Os.current.useSyncExternalStore(s,t,r)};ht.useTransition=function(){return Os.current.useTransition()};ht.version="18.3.1";Db.exports=ht;var j=Db.exports;const La=z2(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X2=j,Z2=Symbol.for("react.element"),e4=Symbol.for("react.fragment"),t4=Object.prototype.hasOwnProperty,s4=X2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r4={key:!0,ref:!0,__self:!0,__source:!0};function Fb(s,t,r){var a,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(a in t)t4.call(t,a)&&!r4.hasOwnProperty(a)&&(i[a]=t[a]);if(s&&s.defaultProps)for(a in t=s.defaultProps,t)i[a]===void 0&&(i[a]=t[a]);return{$$typeof:Z2,type:s,key:o,ref:l,props:i,_owner:s4.current}}uu.Fragment=e4;uu.jsx=Fb;uu.jsxs=Fb;Tb.exports=uu;var e=Tb.exports,im={},Ub={exports:{}},rr={},$b={exports:{}},qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(de,ge){var me=de.length;de.push(ge);e:for(;0<me;){var Q=me-1>>>1,se=de[Q];if(0<i(se,ge))de[Q]=ge,de[me]=se,me=Q;else break e}}function r(de){return de.length===0?null:de[0]}function a(de){if(de.length===0)return null;var ge=de[0],me=de.pop();if(me!==ge){de[0]=me;e:for(var Q=0,se=de.length,n=se>>>1;Q<n;){var y=2*(Q+1)-1,m=de[y],P=y+1,F=de[P];if(0>i(m,me))P<se&&0>i(F,m)?(de[Q]=F,de[P]=me,Q=P):(de[Q]=m,de[y]=me,Q=y);else if(P<se&&0>i(F,me))de[Q]=F,de[P]=me,Q=P;else break e}}return ge}function i(de,ge){var me=de.sortIndex-ge.sortIndex;return me!==0?me:de.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();s.unstable_now=function(){return l.now()-c}}var x=[],f=[],N=1,I=null,S=3,D=!1,g=!1,L=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(de){for(var ge=r(f);ge!==null;){if(ge.callback===null)a(f);else if(ge.startTime<=de)a(f),ge.sortIndex=ge.expirationTime,t(x,ge);else break;ge=r(f)}}function H(de){if(L=!1,R(de),!g)if(r(x)!==null)g=!0,Te(K);else{var ge=r(f);ge!==null&&Le(H,ge.startTime-de)}}function K(de,ge){g=!1,L&&(L=!1,_(d),d=-1),D=!0;var me=S;try{for(R(ge),I=r(x);I!==null&&(!(I.expirationTime>ge)||de&&!X());){var Q=I.callback;if(typeof Q=="function"){I.callback=null,S=I.priorityLevel;var se=Q(I.expirationTime<=ge);ge=s.unstable_now(),typeof se=="function"?I.callback=se:I===r(x)&&a(x),R(ge)}else a(x);I=r(x)}if(I!==null)var n=!0;else{var y=r(f);y!==null&&Le(H,y.startTime-ge),n=!1}return n}finally{I=null,S=me,D=!1}}var W=!1,A=null,d=-1,q=5,B=-1;function X(){return!(s.unstable_now()-B<q)}function E(){if(A!==null){var de=s.unstable_now();B=de;var ge=!0;try{ge=A(!0,de)}finally{ge?U():(W=!1,A=null)}}else W=!1}var U;if(typeof z=="function")U=function(){z(E)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Se=Ae.port2;Ae.port1.onmessage=E,U=function(){Se.postMessage(null)}}else U=function(){v(E,0)};function Te(de){A=de,W||(W=!0,U())}function Le(de,ge){d=v(function(){de(s.unstable_now())},ge)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(de){de.callback=null},s.unstable_continueExecution=function(){g||D||(g=!0,Te(K))},s.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<de?Math.floor(1e3/de):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return r(x)},s.unstable_next=function(de){switch(S){case 1:case 2:case 3:var ge=3;break;default:ge=S}var me=S;S=ge;try{return de()}finally{S=me}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(de,ge){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var me=S;S=de;try{return ge()}finally{S=me}},s.unstable_scheduleCallback=function(de,ge,me){var Q=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Q+me:Q):me=Q,de){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=me+se,de={id:N++,callback:ge,priorityLevel:de,startTime:me,expirationTime:se,sortIndex:-1},me>Q?(de.sortIndex=me,t(f,de),r(x)===null&&de===r(f)&&(L?(_(d),d=-1):L=!0,Le(H,me-Q))):(de.sortIndex=se,t(x,de),g||D||(g=!0,Te(K))),de},s.unstable_shouldYield=X,s.unstable_wrapCallback=function(de){var ge=S;return function(){var me=S;S=ge;try{return de.apply(this,arguments)}finally{S=me}}}})(qb);$b.exports=qb;var a4=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4=j,sr=a4;function Ee(s){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+s,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Wb=new Set,Xl={};function Bn(s,t){_i(s,t),_i(s+"Capture",t)}function _i(s,t){for(Xl[s]=t,s=0;s<t.length;s++)Wb.add(t[s])}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=Object.prototype.hasOwnProperty,i4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kf={},Cf={};function l4(s){return lm.call(Cf,s)?!0:lm.call(kf,s)?!1:i4.test(s)?Cf[s]=!0:(kf[s]=!0,!1)}function o4(s,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function c4(s,t,r,a){if(t===null||typeof t>"u"||o4(s,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ls(s,t,r,a,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=s,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var js={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){js[s]=new Ls(s,0,!1,s,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var t=s[0];js[t]=new Ls(t,1,!1,s[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(s){js[s]=new Ls(s,2,!1,s.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){js[s]=new Ls(s,2,!1,s,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){js[s]=new Ls(s,3,!1,s.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(s){js[s]=new Ls(s,3,!0,s,null,!1,!1)});["capture","download"].forEach(function(s){js[s]=new Ls(s,4,!1,s,null,!1,!1)});["cols","rows","size","span"].forEach(function(s){js[s]=new Ls(s,6,!1,s,null,!1,!1)});["rowSpan","start"].forEach(function(s){js[s]=new Ls(s,5,!1,s.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function Ah(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var t=s.replace(Dh,Ah);js[t]=new Ls(t,1,!1,s,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var t=s.replace(Dh,Ah);js[t]=new Ls(t,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(s){var t=s.replace(Dh,Ah);js[t]=new Ls(t,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(s){js[s]=new Ls(s,1,!1,s.toLowerCase(),null,!1,!1)});js.xlinkHref=new Ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(s){js[s]=new Ls(s,1,!1,s.toLowerCase(),null,!0,!0)});function Rh(s,t,r,a){var i=js.hasOwnProperty(t)?js[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(c4(t,r,i,a)&&(r=null),a||i===null?l4(t)&&(r===null?s.removeAttribute(t):s.setAttribute(t,""+r)):i.mustUseProperty?s[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,a=i.attributeNamespace,r===null?s.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,a?s.setAttributeNS(a,t,r):s.setAttribute(t,r))))}var fa=n4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pc=Symbol.for("react.element"),ni=Symbol.for("react.portal"),ii=Symbol.for("react.fragment"),Mh=Symbol.for("react.strict_mode"),om=Symbol.for("react.profiler"),Gb=Symbol.for("react.provider"),Hb=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),cm=Symbol.for("react.suspense"),dm=Symbol.for("react.suspense_list"),Oh=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),Qb=Symbol.for("react.offscreen"),If=Symbol.iterator;function hl(s){return s===null||typeof s!="object"?null:(s=If&&s[If]||s["@@iterator"],typeof s=="function"?s:null)}var Ht=Object.assign,yx;function Cl(s){if(yx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);yx=t&&t[1]||""}return`
`+yx+s}var bx=!1;function jx(s,t){if(!s||bx)return"";bx=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var a=f}Reflect.construct(s,[],t)}else{try{t.call()}catch(f){a=f}s.call(t.prototype)}else{try{throw Error()}catch(f){a=f}s()}}catch(f){if(f&&a&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=a.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var x=`
`+i[l].replace(" at new "," at ");return s.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",s.displayName)),x}while(1<=l&&0<=c);break}}}finally{bx=!1,Error.prepareStackTrace=r}return(s=s?s.displayName||s.name:"")?Cl(s):""}function d4(s){switch(s.tag){case 5:return Cl(s.type);case 16:return Cl("Lazy");case 13:return Cl("Suspense");case 19:return Cl("SuspenseList");case 0:case 2:case 15:return s=jx(s.type,!1),s;case 11:return s=jx(s.type.render,!1),s;case 1:return s=jx(s.type,!0),s;default:return""}}function um(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case ii:return"Fragment";case ni:return"Portal";case om:return"Profiler";case Mh:return"StrictMode";case cm:return"Suspense";case dm:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case Hb:return(s.displayName||"Context")+".Consumer";case Gb:return(s._context.displayName||"Context")+".Provider";case zh:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Oh:return t=s.displayName||null,t!==null?t:um(s.type)||"Memo";case Ea:t=s._payload,s=s._init;try{return um(s(t))}catch{}}return null}function u4(s){var t=s.type;switch(s.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=t.render,s=s.displayName||s.name||"",t.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return um(t);case 8:return t===Mh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ja(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Kb(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x4(s){var t=Kb(s)?"checked":"value",r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t),a=""+s[t];if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,o.call(this,l)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function fc(s){s._valueTracker||(s._valueTracker=x4(s))}function Yb(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return s&&(a=Kb(s)?s.checked?"true":"false":s.value),s=a,s!==r?(t.setValue(s),!0):!1}function xd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xm(s,t){var r=t.checked;return Ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??s._wrapperState.initialChecked})}function Ef(s,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=Ja(t.value!=null?t.value:r),s._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jb(s,t){t=t.checked,t!=null&&Rh(s,"checked",t,!1)}function mm(s,t){Jb(s,t);var r=Ja(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+r):s.value!==""+r&&(s.value=""+r);else if(a==="submit"||a==="reset"){s.removeAttribute("value");return}t.hasOwnProperty("value")?hm(s,t.type,r):t.hasOwnProperty("defaultValue")&&hm(s,t.type,Ja(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(s.defaultChecked=!!t.defaultChecked)}function Sf(s,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+s._wrapperState.initialValue,r||t===s.value||(s.value=t),s.defaultValue=t}r=s.name,r!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,r!==""&&(s.name=r)}function hm(s,t,r){(t!=="number"||xd(s.ownerDocument)!==s)&&(r==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+r&&(s.defaultValue=""+r))}var Il=Array.isArray;function bi(s,t,r,a){if(s=s.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<s.length;r++)i=t.hasOwnProperty("$"+s[r].value),s[r].selected!==i&&(s[r].selected=i),i&&a&&(s[r].defaultSelected=!0)}else{for(r=""+Ja(r),t=null,i=0;i<s.length;i++){if(s[i].value===r){s[i].selected=!0,a&&(s[i].defaultSelected=!0);return}t!==null||s[i].disabled||(t=s[i])}t!==null&&(t.selected=!0)}}function pm(s,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return Ht({},t,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function _f(s,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(Il(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}s._wrapperState={initialValue:Ja(r)}}function Xb(s,t){var r=Ja(t.value),a=Ja(t.defaultValue);r!=null&&(r=""+r,r!==s.value&&(s.value=r),t.defaultValue==null&&s.defaultValue!==r&&(s.defaultValue=r)),a!=null&&(s.defaultValue=""+a)}function Pf(s){var t=s.textContent;t===s._wrapperState.initialValue&&t!==""&&t!==null&&(s.value=t)}function Zb(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fm(s,t){return s==null||s==="http://www.w3.org/1999/xhtml"?Zb(t):s==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var gc,ej=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,i){MSApp.execUnsafeLocalFunction(function(){return s(t,r,a,i)})}:s}(function(s,t){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=t;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gc.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;t.firstChild;)s.appendChild(t.firstChild)}});function Zl(s,t){if(t){var r=s.firstChild;if(r&&r===s.lastChild&&r.nodeType===3){r.nodeValue=t;return}}s.textContent=t}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m4=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(s){m4.forEach(function(t){t=t+s.charAt(0).toUpperCase()+s.substring(1),Ml[t]=Ml[s]})});function tj(s,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ml.hasOwnProperty(s)&&Ml[s]?(""+t).trim():t+"px"}function sj(s,t){s=s.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,i=tj(r,t[r],a);r==="float"&&(r="cssFloat"),a?s.setProperty(r,i):s[r]=i}}var h4=Ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(s,t){if(t){if(h4[s]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,s));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function ym(s,t){if(s.indexOf("-")===-1)return typeof t.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=null;function Lh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var jm=null,ji=null,vi=null;function Tf(s){if(s=Ao(s)){if(typeof jm!="function")throw Error(Ee(280));var t=s.stateNode;t&&(t=fu(t),jm(s.stateNode,s.type,t))}}function rj(s){ji?vi?vi.push(s):vi=[s]:ji=s}function aj(){if(ji){var s=ji,t=vi;if(vi=ji=null,Tf(s),t)for(s=0;s<t.length;s++)Tf(t[s])}}function nj(s,t){return s(t)}function ij(){}var vx=!1;function lj(s,t,r){if(vx)return s(t,r);vx=!0;try{return nj(s,t,r)}finally{vx=!1,(ji!==null||vi!==null)&&(ij(),aj())}}function eo(s,t){var r=s.stateNode;if(r===null)return null;var a=fu(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(s=s.type,a=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!a;break e;default:s=!1}if(s)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var vm=!1;if(la)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){vm=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{vm=!1}function p4(s,t,r,a,i,o,l,c,x){var f=Array.prototype.slice.call(arguments,3);try{t.apply(r,f)}catch(N){this.onError(N)}}var zl=!1,md=null,hd=!1,Nm=null,f4={onError:function(s){zl=!0,md=s}};function g4(s,t,r,a,i,o,l,c,x){zl=!1,md=null,p4.apply(f4,arguments)}function y4(s,t,r,a,i,o,l,c,x){if(g4.apply(this,arguments),zl){if(zl){var f=md;zl=!1,md=null}else throw Error(Ee(198));hd||(hd=!0,Nm=f)}}function Fn(s){var t=s,r=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(r=t.return),s=t.return;while(s)}return t.tag===3?r:null}function oj(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function Df(s){if(Fn(s)!==s)throw Error(Ee(188))}function b4(s){var t=s.alternate;if(!t){if(t=Fn(s),t===null)throw Error(Ee(188));return t!==s?null:s}for(var r=s,a=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(a=i.return,a!==null){r=a;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Df(i),s;if(o===a)return Df(i),t;o=o.sibling}throw Error(Ee(188))}if(r.return!==a.return)r=i,a=o;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,a=o;break}if(c===a){l=!0,a=i,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,a=i;break}if(c===a){l=!0,a=o,r=i;break}c=c.sibling}if(!l)throw Error(Ee(189))}}if(r.alternate!==a)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?s:t}function cj(s){return s=b4(s),s!==null?dj(s):null}function dj(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var t=dj(s);if(t!==null)return t;s=s.sibling}return null}var uj=sr.unstable_scheduleCallback,Af=sr.unstable_cancelCallback,j4=sr.unstable_shouldYield,v4=sr.unstable_requestPaint,Xt=sr.unstable_now,N4=sr.unstable_getCurrentPriorityLevel,Vh=sr.unstable_ImmediatePriority,xj=sr.unstable_UserBlockingPriority,pd=sr.unstable_NormalPriority,w4=sr.unstable_LowPriority,mj=sr.unstable_IdlePriority,xu=null,zr=null;function k4(s){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(xu,s,void 0,(s.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:E4,C4=Math.log,I4=Math.LN2;function E4(s){return s>>>=0,s===0?32:31-(C4(s)/I4|0)|0}var yc=64,bc=4194304;function El(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function fd(s,t){var r=s.pendingLanes;if(r===0)return 0;var a=0,i=s.suspendedLanes,o=s.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?a=El(c):(o&=l,o!==0&&(a=El(o)))}else l=r&~i,l!==0?a=El(l):o!==0&&(a=El(o));if(a===0)return 0;if(t!==0&&t!==a&&!(t&i)&&(i=a&-a,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(a&4&&(a|=r&16),t=s.entangledLanes,t!==0)for(s=s.entanglements,t&=a;0<t;)r=31-kr(t),i=1<<r,a|=s[r],t&=~i;return a}function S4(s,t){switch(s){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _4(s,t){for(var r=s.suspendedLanes,a=s.pingedLanes,i=s.expirationTimes,o=s.pendingLanes;0<o;){var l=31-kr(o),c=1<<l,x=i[l];x===-1?(!(c&r)||c&a)&&(i[l]=S4(c,t)):x<=t&&(s.expiredLanes|=c),o&=~c}}function wm(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function hj(){var s=yc;return yc<<=1,!(yc&4194240)&&(yc=64),s}function Nx(s){for(var t=[],r=0;31>r;r++)t.push(s);return t}function To(s,t,r){s.pendingLanes|=t,t!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,t=31-kr(t),s[t]=r}function P4(s,t){var r=s.pendingLanes&~t;s.pendingLanes=t,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=t,s.mutableReadLanes&=t,s.entangledLanes&=t,t=s.entanglements;var a=s.eventTimes;for(s=s.expirationTimes;0<r;){var i=31-kr(r),o=1<<i;t[i]=0,a[i]=-1,s[i]=-1,r&=~o}}function Bh(s,t){var r=s.entangledLanes|=t;for(s=s.entanglements;r;){var a=31-kr(r),i=1<<a;i&t|s[a]&t&&(s[a]|=t),r&=~i}}var Et=0;function pj(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var fj,Fh,gj,yj,bj,km=!1,jc=[],Va=null,Ba=null,Fa=null,to=new Map,so=new Map,_a=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rf(s,t){switch(s){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":to.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(t.pointerId)}}function fl(s,t,r,a,i,o){return s===null||s.nativeEvent!==o?(s={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ao(t),t!==null&&Fh(t)),s):(s.eventSystemFlags|=a,t=s.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),s)}function D4(s,t,r,a,i){switch(t){case"focusin":return Va=fl(Va,s,t,r,a,i),!0;case"dragenter":return Ba=fl(Ba,s,t,r,a,i),!0;case"mouseover":return Fa=fl(Fa,s,t,r,a,i),!0;case"pointerover":var o=i.pointerId;return to.set(o,fl(to.get(o)||null,s,t,r,a,i)),!0;case"gotpointercapture":return o=i.pointerId,so.set(o,fl(so.get(o)||null,s,t,r,a,i)),!0}return!1}function jj(s){var t=jn(s.target);if(t!==null){var r=Fn(t);if(r!==null){if(t=r.tag,t===13){if(t=oj(r),t!==null){s.blockedOn=t,bj(s.priority,function(){gj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){s.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $c(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var r=Cm(s.domEventName,s.eventSystemFlags,t[0],s.nativeEvent);if(r===null){r=s.nativeEvent;var a=new r.constructor(r.type,r);bm=a,r.target.dispatchEvent(a),bm=null}else return t=Ao(r),t!==null&&Fh(t),s.blockedOn=r,!1;t.shift()}return!0}function Mf(s,t,r){$c(s)&&r.delete(t)}function A4(){km=!1,Va!==null&&$c(Va)&&(Va=null),Ba!==null&&$c(Ba)&&(Ba=null),Fa!==null&&$c(Fa)&&(Fa=null),to.forEach(Mf),so.forEach(Mf)}function gl(s,t){s.blockedOn===t&&(s.blockedOn=null,km||(km=!0,sr.unstable_scheduleCallback(sr.unstable_NormalPriority,A4)))}function ro(s){function t(i){return gl(i,s)}if(0<jc.length){gl(jc[0],s);for(var r=1;r<jc.length;r++){var a=jc[r];a.blockedOn===s&&(a.blockedOn=null)}}for(Va!==null&&gl(Va,s),Ba!==null&&gl(Ba,s),Fa!==null&&gl(Fa,s),to.forEach(t),so.forEach(t),r=0;r<_a.length;r++)a=_a[r],a.blockedOn===s&&(a.blockedOn=null);for(;0<_a.length&&(r=_a[0],r.blockedOn===null);)jj(r),r.blockedOn===null&&_a.shift()}var Ni=fa.ReactCurrentBatchConfig,gd=!0;function R4(s,t,r,a){var i=Et,o=Ni.transition;Ni.transition=null;try{Et=1,Uh(s,t,r,a)}finally{Et=i,Ni.transition=o}}function M4(s,t,r,a){var i=Et,o=Ni.transition;Ni.transition=null;try{Et=4,Uh(s,t,r,a)}finally{Et=i,Ni.transition=o}}function Uh(s,t,r,a){if(gd){var i=Cm(s,t,r,a);if(i===null)Dx(s,t,a,yd,r),Rf(s,a);else if(D4(i,s,t,r,a))a.stopPropagation();else if(Rf(s,a),t&4&&-1<T4.indexOf(s)){for(;i!==null;){var o=Ao(i);if(o!==null&&fj(o),o=Cm(s,t,r,a),o===null&&Dx(s,t,a,yd,r),o===i)break;i=o}i!==null&&a.stopPropagation()}else Dx(s,t,a,null,r)}}var yd=null;function Cm(s,t,r,a){if(yd=null,s=Lh(a),s=jn(s),s!==null)if(t=Fn(s),t===null)s=null;else if(r=t.tag,r===13){if(s=oj(t),s!==null)return s;s=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null);return yd=s,null}function vj(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N4()){case Vh:return 1;case xj:return 4;case pd:case w4:return 16;case mj:return 536870912;default:return 16}default:return 16}}var Ma=null,$h=null,qc=null;function Nj(){if(qc)return qc;var s,t=$h,r=t.length,a,i="value"in Ma?Ma.value:Ma.textContent,o=i.length;for(s=0;s<r&&t[s]===i[s];s++);var l=r-s;for(a=1;a<=l&&t[r-a]===i[o-a];a++);return qc=i.slice(s,1<a?1-a:void 0)}function Wc(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function vc(){return!0}function zf(){return!1}function ar(s){function t(r,a,i,o,l){this._reactName=r,this._targetInst=i,this.type=a,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in s)s.hasOwnProperty(c)&&(r=s[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vc:zf,this.isPropagationStopped=zf,this}return Ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),t}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=ar(Wi),Do=Ht({},Wi,{view:0,detail:0}),z4=ar(Do),wx,kx,yl,mu=Ht({},Do,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yl&&(yl&&s.type==="mousemove"?(wx=s.screenX-yl.screenX,kx=s.screenY-yl.screenY):kx=wx=0,yl=s),wx)},movementY:function(s){return"movementY"in s?s.movementY:kx}}),Of=ar(mu),O4=Ht({},mu,{dataTransfer:0}),L4=ar(O4),V4=Ht({},Do,{relatedTarget:0}),Cx=ar(V4),B4=Ht({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),F4=ar(B4),U4=Ht({},Wi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$4=ar(U4),q4=Ht({},Wi,{data:0}),Lf=ar(q4),W4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},H4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q4(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=H4[s])?!!t[s]:!1}function Wh(){return Q4}var K4=Ht({},Do,{key:function(s){if(s.key){var t=W4[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Wc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?G4[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wh,charCode:function(s){return s.type==="keypress"?Wc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Y4=ar(K4),J4=Ht({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vf=ar(J4),X4=Ht({},Do,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wh}),Z4=ar(X4),ek=Ht({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),tk=ar(ek),sk=Ht({},mu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=ar(sk),ak=[9,13,27,32],Gh=la&&"CompositionEvent"in window,Ol=null;la&&"documentMode"in document&&(Ol=document.documentMode);var nk=la&&"TextEvent"in window&&!Ol,wj=la&&(!Gh||Ol&&8<Ol&&11>=Ol),Bf=String.fromCharCode(32),Ff=!1;function kj(s,t){switch(s){case"keyup":return ak.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var li=!1;function ik(s,t){switch(s){case"compositionend":return Cj(t);case"keypress":return t.which!==32?null:(Ff=!0,Bf);case"textInput":return s=t.data,s===Bf&&Ff?null:s;default:return null}}function lk(s,t){if(li)return s==="compositionend"||!Gh&&kj(s,t)?(s=Nj(),qc=$h=Ma=null,li=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wj&&t.locale!=="ko"?null:t.data;default:return null}}var ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!ok[s.type]:t==="textarea"}function Ij(s,t,r,a){rj(a),t=bd(t,"onChange"),0<t.length&&(r=new qh("onChange","change",null,r,a),s.push({event:r,listeners:t}))}var Ll=null,ao=null;function ck(s){Oj(s,0)}function hu(s){var t=di(s);if(Yb(t))return s}function dk(s,t){if(s==="change")return t}var Ej=!1;if(la){var Ix;if(la){var Ex="oninput"in document;if(!Ex){var $f=document.createElement("div");$f.setAttribute("oninput","return;"),Ex=typeof $f.oninput=="function"}Ix=Ex}else Ix=!1;Ej=Ix&&(!document.documentMode||9<document.documentMode)}function qf(){Ll&&(Ll.detachEvent("onpropertychange",Sj),ao=Ll=null)}function Sj(s){if(s.propertyName==="value"&&hu(ao)){var t=[];Ij(t,ao,s,Lh(s)),lj(ck,t)}}function uk(s,t,r){s==="focusin"?(qf(),Ll=t,ao=r,Ll.attachEvent("onpropertychange",Sj)):s==="focusout"&&qf()}function xk(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hu(ao)}function mk(s,t){if(s==="click")return hu(t)}function hk(s,t){if(s==="input"||s==="change")return hu(t)}function pk(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Ir=typeof Object.is=="function"?Object.is:pk;function no(s,t){if(Ir(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var r=Object.keys(s),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var i=r[a];if(!lm.call(t,i)||!Ir(s[i],t[i]))return!1}return!0}function Wf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Gf(s,t){var r=Wf(s);s=0;for(var a;r;){if(r.nodeType===3){if(a=s+r.textContent.length,s<=t&&a>=t)return{node:r,offset:t-s};s=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Wf(r)}}function _j(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?_j(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function Pj(){for(var s=window,t=xd();t instanceof s.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)s=t.contentWindow;else break;t=xd(s.document)}return t}function Hh(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}function fk(s){var t=Pj(),r=s.focusedElem,a=s.selectionRange;if(t!==r&&r&&r.ownerDocument&&_j(r.ownerDocument.documentElement,r)){if(a!==null&&Hh(r)){if(t=a.start,s=a.end,s===void 0&&(s=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(s,r.value.length);else if(s=(t=r.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var i=r.textContent.length,o=Math.min(a.start,i);a=a.end===void 0?o:Math.min(a.end,i),!s.extend&&o>a&&(i=a,a=o,o=i),i=Gf(r,o);var l=Gf(r,a);i&&l&&(s.rangeCount!==1||s.anchorNode!==i.node||s.anchorOffset!==i.offset||s.focusNode!==l.node||s.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),s.removeAllRanges(),o>a?(s.addRange(t),s.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),s.addRange(t)))}}for(t=[],s=r;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)s=t[r],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gk=la&&"documentMode"in document&&11>=document.documentMode,oi=null,Im=null,Vl=null,Em=!1;function Hf(s,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Em||oi==null||oi!==xd(a)||(a=oi,"selectionStart"in a&&Hh(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Vl&&no(Vl,a)||(Vl=a,a=bd(Im,"onSelect"),0<a.length&&(t=new qh("onSelect","select",null,t,r),s.push({event:t,listeners:a}),t.target=oi)))}function Nc(s,t){var r={};return r[s.toLowerCase()]=t.toLowerCase(),r["Webkit"+s]="webkit"+t,r["Moz"+s]="moz"+t,r}var ci={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},Sx={},Tj={};la&&(Tj=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function pu(s){if(Sx[s])return Sx[s];if(!ci[s])return s;var t=ci[s],r;for(r in t)if(t.hasOwnProperty(r)&&r in Tj)return Sx[s]=t[r];return s}var Dj=pu("animationend"),Aj=pu("animationiteration"),Rj=pu("animationstart"),Mj=pu("transitionend"),zj=new Map,Qf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ln(s,t){zj.set(s,t),Bn(t,[s])}for(var _x=0;_x<Qf.length;_x++){var Px=Qf[_x],yk=Px.toLowerCase(),bk=Px[0].toUpperCase()+Px.slice(1);ln(yk,"on"+bk)}ln(Dj,"onAnimationEnd");ln(Aj,"onAnimationIteration");ln(Rj,"onAnimationStart");ln("dblclick","onDoubleClick");ln("focusin","onFocus");ln("focusout","onBlur");ln(Mj,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sl));function Kf(s,t,r){var a=s.type||"unknown-event";s.currentTarget=r,y4(a,t,void 0,s),s.currentTarget=null}function Oj(s,t){t=(t&4)!==0;for(var r=0;r<s.length;r++){var a=s[r],i=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var l=a.length-1;0<=l;l--){var c=a[l],x=c.instance,f=c.currentTarget;if(c=c.listener,x!==o&&i.isPropagationStopped())break e;Kf(i,c,f),o=x}else for(l=0;l<a.length;l++){if(c=a[l],x=c.instance,f=c.currentTarget,c=c.listener,x!==o&&i.isPropagationStopped())break e;Kf(i,c,f),o=x}}}if(hd)throw s=Nm,hd=!1,Nm=null,s}function Ft(s,t){var r=t[Dm];r===void 0&&(r=t[Dm]=new Set);var a=s+"__bubble";r.has(a)||(Lj(t,s,2,!1),r.add(a))}function Tx(s,t,r){var a=0;t&&(a|=4),Lj(r,s,a,t)}var wc="_reactListening"+Math.random().toString(36).slice(2);function io(s){if(!s[wc]){s[wc]=!0,Wb.forEach(function(r){r!=="selectionchange"&&(jk.has(r)||Tx(r,!1,s),Tx(r,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[wc]||(t[wc]=!0,Tx("selectionchange",!1,t))}}function Lj(s,t,r,a){switch(vj(t)){case 1:var i=R4;break;case 4:i=M4;break;default:i=Uh}r=i.bind(null,t,r,s),i=void 0,!vm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?s.addEventListener(t,r,{capture:!0,passive:i}):s.addEventListener(t,r,!0):i!==void 0?s.addEventListener(t,r,{passive:i}):s.addEventListener(t,r,!1)}function Dx(s,t,r,a,i){var o=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var c=a.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=a.return;l!==null;){var x=l.tag;if((x===3||x===4)&&(x=l.stateNode.containerInfo,x===i||x.nodeType===8&&x.parentNode===i))return;l=l.return}for(;c!==null;){if(l=jn(c),l===null)return;if(x=l.tag,x===5||x===6){a=o=l;continue e}c=c.parentNode}}a=a.return}lj(function(){var f=o,N=Lh(r),I=[];e:{var S=zj.get(s);if(S!==void 0){var D=qh,g=s;switch(s){case"keypress":if(Wc(r)===0)break e;case"keydown":case"keyup":D=Y4;break;case"focusin":g="focus",D=Cx;break;case"focusout":g="blur",D=Cx;break;case"beforeblur":case"afterblur":D=Cx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=L4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Z4;break;case Dj:case Aj:case Rj:D=F4;break;case Mj:D=tk;break;case"scroll":D=z4;break;case"wheel":D=rk;break;case"copy":case"cut":case"paste":D=$4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Vf}var L=(t&4)!==0,v=!L&&s==="scroll",_=L?S!==null?S+"Capture":null:S;L=[];for(var z=f,R;z!==null;){R=z;var H=R.stateNode;if(R.tag===5&&H!==null&&(R=H,_!==null&&(H=eo(z,_),H!=null&&L.push(lo(z,H,R)))),v)break;z=z.return}0<L.length&&(S=new D(S,g,null,r,N),I.push({event:S,listeners:L}))}}if(!(t&7)){e:{if(S=s==="mouseover"||s==="pointerover",D=s==="mouseout"||s==="pointerout",S&&r!==bm&&(g=r.relatedTarget||r.fromElement)&&(jn(g)||g[oa]))break e;if((D||S)&&(S=N.window===N?N:(S=N.ownerDocument)?S.defaultView||S.parentWindow:window,D?(g=r.relatedTarget||r.toElement,D=f,g=g?jn(g):null,g!==null&&(v=Fn(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(D=null,g=f),D!==g)){if(L=Of,H="onMouseLeave",_="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(L=Vf,H="onPointerLeave",_="onPointerEnter",z="pointer"),v=D==null?S:di(D),R=g==null?S:di(g),S=new L(H,z+"leave",D,r,N),S.target=v,S.relatedTarget=R,H=null,jn(N)===f&&(L=new L(_,z+"enter",g,r,N),L.target=R,L.relatedTarget=v,H=L),v=H,D&&g)t:{for(L=D,_=g,z=0,R=L;R;R=ei(R))z++;for(R=0,H=_;H;H=ei(H))R++;for(;0<z-R;)L=ei(L),z--;for(;0<R-z;)_=ei(_),R--;for(;z--;){if(L===_||_!==null&&L===_.alternate)break t;L=ei(L),_=ei(_)}L=null}else L=null;D!==null&&Yf(I,S,D,L,!1),g!==null&&v!==null&&Yf(I,v,g,L,!0)}}e:{if(S=f?di(f):window,D=S.nodeName&&S.nodeName.toLowerCase(),D==="select"||D==="input"&&S.type==="file")var K=dk;else if(Uf(S))if(Ej)K=hk;else{K=xk;var W=uk}else(D=S.nodeName)&&D.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(K=mk);if(K&&(K=K(s,f))){Ij(I,K,r,N);break e}W&&W(s,S,f),s==="focusout"&&(W=S._wrapperState)&&W.controlled&&S.type==="number"&&hm(S,"number",S.value)}switch(W=f?di(f):window,s){case"focusin":(Uf(W)||W.contentEditable==="true")&&(oi=W,Im=f,Vl=null);break;case"focusout":Vl=Im=oi=null;break;case"mousedown":Em=!0;break;case"contextmenu":case"mouseup":case"dragend":Em=!1,Hf(I,r,N);break;case"selectionchange":if(gk)break;case"keydown":case"keyup":Hf(I,r,N)}var A;if(Gh)e:{switch(s){case"compositionstart":var d="onCompositionStart";break e;case"compositionend":d="onCompositionEnd";break e;case"compositionupdate":d="onCompositionUpdate";break e}d=void 0}else li?kj(s,r)&&(d="onCompositionEnd"):s==="keydown"&&r.keyCode===229&&(d="onCompositionStart");d&&(wj&&r.locale!=="ko"&&(li||d!=="onCompositionStart"?d==="onCompositionEnd"&&li&&(A=Nj()):(Ma=N,$h="value"in Ma?Ma.value:Ma.textContent,li=!0)),W=bd(f,d),0<W.length&&(d=new Lf(d,s,null,r,N),I.push({event:d,listeners:W}),A?d.data=A:(A=Cj(r),A!==null&&(d.data=A)))),(A=nk?ik(s,r):lk(s,r))&&(f=bd(f,"onBeforeInput"),0<f.length&&(N=new Lf("onBeforeInput","beforeinput",null,r,N),I.push({event:N,listeners:f}),N.data=A))}Oj(I,t)})}function lo(s,t,r){return{instance:s,listener:t,currentTarget:r}}function bd(s,t){for(var r=t+"Capture",a=[];s!==null;){var i=s,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=eo(s,r),o!=null&&a.unshift(lo(s,o,i)),o=eo(s,t),o!=null&&a.push(lo(s,o,i))),s=s.return}return a}function ei(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Yf(s,t,r,a,i){for(var o=t._reactName,l=[];r!==null&&r!==a;){var c=r,x=c.alternate,f=c.stateNode;if(x!==null&&x===a)break;c.tag===5&&f!==null&&(c=f,i?(x=eo(r,o),x!=null&&l.unshift(lo(r,x,c))):i||(x=eo(r,o),x!=null&&l.push(lo(r,x,c)))),r=r.return}l.length!==0&&s.push({event:t,listeners:l})}var vk=/\r\n?/g,Nk=/\u0000|\uFFFD/g;function Jf(s){return(typeof s=="string"?s:""+s).replace(vk,`
`).replace(Nk,"")}function kc(s,t,r){if(t=Jf(t),Jf(s)!==t&&r)throw Error(Ee(425))}function jd(){}var Sm=null,_m=null;function Pm(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tm=typeof setTimeout=="function"?setTimeout:void 0,wk=typeof clearTimeout=="function"?clearTimeout:void 0,Xf=typeof Promise=="function"?Promise:void 0,kk=typeof queueMicrotask=="function"?queueMicrotask:typeof Xf<"u"?function(s){return Xf.resolve(null).then(s).catch(Ck)}:Tm;function Ck(s){setTimeout(function(){throw s})}function Ax(s,t){var r=t,a=0;do{var i=r.nextSibling;if(s.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(a===0){s.removeChild(i),ro(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=i}while(r);ro(t)}function Ua(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return s}function Zf(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return s;t--}else r==="/$"&&t++}s=s.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Gi,oo="__reactProps$"+Gi,oa="__reactContainer$"+Gi,Dm="__reactEvents$"+Gi,Ik="__reactListeners$"+Gi,Ek="__reactHandles$"+Gi;function jn(s){var t=s[Rr];if(t)return t;for(var r=s.parentNode;r;){if(t=r[oa]||r[Rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(s=Zf(s);s!==null;){if(r=s[Rr])return r;s=Zf(s)}return t}s=r,r=s.parentNode}return null}function Ao(s){return s=s[Rr]||s[oa],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function di(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(Ee(33))}function fu(s){return s[oo]||null}var Am=[],ui=-1;function on(s){return{current:s}}function Ut(s){0>ui||(s.current=Am[ui],Am[ui]=null,ui--)}function Lt(s,t){ui++,Am[ui]=s.current,s.current=t}var Xa={},Ps=on(Xa),Us=on(!1),Sn=Xa;function Pi(s,t){var r=s.type.contextTypes;if(!r)return Xa;var a=s.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=t,s.__reactInternalMemoizedMaskedChildContext=i),i}function $s(s){return s=s.childContextTypes,s!=null}function vd(){Ut(Us),Ut(Ps)}function eg(s,t,r){if(Ps.current!==Xa)throw Error(Ee(168));Lt(Ps,t),Lt(Us,r)}function Vj(s,t,r){var a=s.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(Ee(108,u4(s)||"Unknown",i));return Ht({},r,a)}function Nd(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Xa,Sn=Ps.current,Lt(Ps,s),Lt(Us,Us.current),!0}function tg(s,t,r){var a=s.stateNode;if(!a)throw Error(Ee(169));r?(s=Vj(s,t,Sn),a.__reactInternalMemoizedMergedChildContext=s,Ut(Us),Ut(Ps),Lt(Ps,s)):Ut(Us),Lt(Us,r)}var Zr=null,gu=!1,Rx=!1;function Bj(s){Zr===null?Zr=[s]:Zr.push(s)}function Sk(s){gu=!0,Bj(s)}function cn(){if(!Rx&&Zr!==null){Rx=!0;var s=0,t=Et;try{var r=Zr;for(Et=1;s<r.length;s++){var a=r[s];do a=a(!0);while(a!==null)}Zr=null,gu=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(s+1)),uj(Vh,cn),i}finally{Et=t,Rx=!1}}return null}var xi=[],mi=0,wd=null,kd=0,ir=[],lr=0,_n=null,ea=1,ta="";function gn(s,t){xi[mi++]=kd,xi[mi++]=wd,wd=s,kd=t}function Fj(s,t,r){ir[lr++]=ea,ir[lr++]=ta,ir[lr++]=_n,_n=s;var a=ea;s=ta;var i=32-kr(a)-1;a&=~(1<<i),r+=1;var o=32-kr(t)+i;if(30<o){var l=i-i%5;o=(a&(1<<l)-1).toString(32),a>>=l,i-=l,ea=1<<32-kr(t)+i|r<<i|a,ta=o+s}else ea=1<<o|r<<i|a,ta=s}function Qh(s){s.return!==null&&(gn(s,1),Fj(s,1,0))}function Kh(s){for(;s===wd;)wd=xi[--mi],xi[mi]=null,kd=xi[--mi],xi[mi]=null;for(;s===_n;)_n=ir[--lr],ir[lr]=null,ta=ir[--lr],ir[lr]=null,ea=ir[--lr],ir[lr]=null}var Zs=null,Js=null,$t=!1,vr=null;function Uj(s,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=s,t=s.deletions,t===null?(s.deletions=[r],s.flags|=16):t.push(r)}function sg(s,t){switch(s.tag){case 5:var r=s.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(s.stateNode=t,Zs=s,Js=Ua(t.firstChild),!0):!1;case 6:return t=s.pendingProps===""||t.nodeType!==3?null:t,t!==null?(s.stateNode=t,Zs=s,Js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_n!==null?{id:ea,overflow:ta}:null,s.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=s,s.child=r,Zs=s,Js=null,!0):!1;default:return!1}}function Rm(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mm(s){if($t){var t=Js;if(t){var r=t;if(!sg(s,t)){if(Rm(s))throw Error(Ee(418));t=Ua(r.nextSibling);var a=Zs;t&&sg(s,t)?Uj(a,r):(s.flags=s.flags&-4097|2,$t=!1,Zs=s)}}else{if(Rm(s))throw Error(Ee(418));s.flags=s.flags&-4097|2,$t=!1,Zs=s}}}function rg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zs=s}function Cc(s){if(s!==Zs)return!1;if(!$t)return rg(s),$t=!0,!1;var t;if((t=s.tag!==3)&&!(t=s.tag!==5)&&(t=s.type,t=t!=="head"&&t!=="body"&&!Pm(s.type,s.memoizedProps)),t&&(t=Js)){if(Rm(s))throw $j(),Error(Ee(418));for(;t;)Uj(s,t),t=Ua(t.nextSibling)}if(rg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));e:{for(s=s.nextSibling,t=0;s;){if(s.nodeType===8){var r=s.data;if(r==="/$"){if(t===0){Js=Ua(s.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}s=s.nextSibling}Js=null}}else Js=Zs?Ua(s.stateNode.nextSibling):null;return!0}function $j(){for(var s=Js;s;)s=Ua(s.nextSibling)}function Ti(){Js=Zs=null,$t=!1}function Yh(s){vr===null?vr=[s]:vr.push(s)}var _k=fa.ReactCurrentBatchConfig;function bl(s,t,r){if(s=r.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var a=r.stateNode}if(!a)throw Error(Ee(147,s));var i=a,o=""+s;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof s!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,s))}return s}function Ic(s,t){throw s=Object.prototype.toString.call(t),Error(Ee(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s))}function ag(s){var t=s._init;return t(s._payload)}function qj(s){function t(_,z){if(s){var R=_.deletions;R===null?(_.deletions=[z],_.flags|=16):R.push(z)}}function r(_,z){if(!s)return null;for(;z!==null;)t(_,z),z=z.sibling;return null}function a(_,z){for(_=new Map;z!==null;)z.key!==null?_.set(z.key,z):_.set(z.index,z),z=z.sibling;return _}function i(_,z){return _=Ga(_,z),_.index=0,_.sibling=null,_}function o(_,z,R){return _.index=R,s?(R=_.alternate,R!==null?(R=R.index,R<z?(_.flags|=2,z):R):(_.flags|=2,z)):(_.flags|=1048576,z)}function l(_){return s&&_.alternate===null&&(_.flags|=2),_}function c(_,z,R,H){return z===null||z.tag!==6?(z=Fx(R,_.mode,H),z.return=_,z):(z=i(z,R),z.return=_,z)}function x(_,z,R,H){var K=R.type;return K===ii?N(_,z,R.props.children,H,R.key):z!==null&&(z.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ea&&ag(K)===z.type)?(H=i(z,R.props),H.ref=bl(_,z,R),H.return=_,H):(H=Xc(R.type,R.key,R.props,null,_.mode,H),H.ref=bl(_,z,R),H.return=_,H)}function f(_,z,R,H){return z===null||z.tag!==4||z.stateNode.containerInfo!==R.containerInfo||z.stateNode.implementation!==R.implementation?(z=Ux(R,_.mode,H),z.return=_,z):(z=i(z,R.children||[]),z.return=_,z)}function N(_,z,R,H,K){return z===null||z.tag!==7?(z=In(R,_.mode,H,K),z.return=_,z):(z=i(z,R),z.return=_,z)}function I(_,z,R){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Fx(""+z,_.mode,R),z.return=_,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case pc:return R=Xc(z.type,z.key,z.props,null,_.mode,R),R.ref=bl(_,null,z),R.return=_,R;case ni:return z=Ux(z,_.mode,R),z.return=_,z;case Ea:var H=z._init;return I(_,H(z._payload),R)}if(Il(z)||hl(z))return z=In(z,_.mode,R,null),z.return=_,z;Ic(_,z)}return null}function S(_,z,R,H){var K=z!==null?z.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return K!==null?null:c(_,z,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case pc:return R.key===K?x(_,z,R,H):null;case ni:return R.key===K?f(_,z,R,H):null;case Ea:return K=R._init,S(_,z,K(R._payload),H)}if(Il(R)||hl(R))return K!==null?null:N(_,z,R,H,null);Ic(_,R)}return null}function D(_,z,R,H,K){if(typeof H=="string"&&H!==""||typeof H=="number")return _=_.get(R)||null,c(z,_,""+H,K);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case pc:return _=_.get(H.key===null?R:H.key)||null,x(z,_,H,K);case ni:return _=_.get(H.key===null?R:H.key)||null,f(z,_,H,K);case Ea:var W=H._init;return D(_,z,R,W(H._payload),K)}if(Il(H)||hl(H))return _=_.get(R)||null,N(z,_,H,K,null);Ic(z,H)}return null}function g(_,z,R,H){for(var K=null,W=null,A=z,d=z=0,q=null;A!==null&&d<R.length;d++){A.index>d?(q=A,A=null):q=A.sibling;var B=S(_,A,R[d],H);if(B===null){A===null&&(A=q);break}s&&A&&B.alternate===null&&t(_,A),z=o(B,z,d),W===null?K=B:W.sibling=B,W=B,A=q}if(d===R.length)return r(_,A),$t&&gn(_,d),K;if(A===null){for(;d<R.length;d++)A=I(_,R[d],H),A!==null&&(z=o(A,z,d),W===null?K=A:W.sibling=A,W=A);return $t&&gn(_,d),K}for(A=a(_,A);d<R.length;d++)q=D(A,_,d,R[d],H),q!==null&&(s&&q.alternate!==null&&A.delete(q.key===null?d:q.key),z=o(q,z,d),W===null?K=q:W.sibling=q,W=q);return s&&A.forEach(function(X){return t(_,X)}),$t&&gn(_,d),K}function L(_,z,R,H){var K=hl(R);if(typeof K!="function")throw Error(Ee(150));if(R=K.call(R),R==null)throw Error(Ee(151));for(var W=K=null,A=z,d=z=0,q=null,B=R.next();A!==null&&!B.done;d++,B=R.next()){A.index>d?(q=A,A=null):q=A.sibling;var X=S(_,A,B.value,H);if(X===null){A===null&&(A=q);break}s&&A&&X.alternate===null&&t(_,A),z=o(X,z,d),W===null?K=X:W.sibling=X,W=X,A=q}if(B.done)return r(_,A),$t&&gn(_,d),K;if(A===null){for(;!B.done;d++,B=R.next())B=I(_,B.value,H),B!==null&&(z=o(B,z,d),W===null?K=B:W.sibling=B,W=B);return $t&&gn(_,d),K}for(A=a(_,A);!B.done;d++,B=R.next())B=D(A,_,d,B.value,H),B!==null&&(s&&B.alternate!==null&&A.delete(B.key===null?d:B.key),z=o(B,z,d),W===null?K=B:W.sibling=B,W=B);return s&&A.forEach(function(E){return t(_,E)}),$t&&gn(_,d),K}function v(_,z,R,H){if(typeof R=="object"&&R!==null&&R.type===ii&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case pc:e:{for(var K=R.key,W=z;W!==null;){if(W.key===K){if(K=R.type,K===ii){if(W.tag===7){r(_,W.sibling),z=i(W,R.props.children),z.return=_,_=z;break e}}else if(W.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===Ea&&ag(K)===W.type){r(_,W.sibling),z=i(W,R.props),z.ref=bl(_,W,R),z.return=_,_=z;break e}r(_,W);break}else t(_,W);W=W.sibling}R.type===ii?(z=In(R.props.children,_.mode,H,R.key),z.return=_,_=z):(H=Xc(R.type,R.key,R.props,null,_.mode,H),H.ref=bl(_,z,R),H.return=_,_=H)}return l(_);case ni:e:{for(W=R.key;z!==null;){if(z.key===W)if(z.tag===4&&z.stateNode.containerInfo===R.containerInfo&&z.stateNode.implementation===R.implementation){r(_,z.sibling),z=i(z,R.children||[]),z.return=_,_=z;break e}else{r(_,z);break}else t(_,z);z=z.sibling}z=Ux(R,_.mode,H),z.return=_,_=z}return l(_);case Ea:return W=R._init,v(_,z,W(R._payload),H)}if(Il(R))return g(_,z,R,H);if(hl(R))return L(_,z,R,H);Ic(_,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,z!==null&&z.tag===6?(r(_,z.sibling),z=i(z,R),z.return=_,_=z):(r(_,z),z=Fx(R,_.mode,H),z.return=_,_=z),l(_)):r(_,z)}return v}var Di=qj(!0),Wj=qj(!1),Cd=on(null),Id=null,hi=null,Jh=null;function Xh(){Jh=hi=Id=null}function Zh(s){var t=Cd.current;Ut(Cd),s._currentValue=t}function zm(s,t,r){for(;s!==null;){var a=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),s===r)break;s=s.return}}function wi(s,t){Id=s,Jh=hi=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&t&&(Fs=!0),s.firstContext=null)}function ur(s){var t=s._currentValue;if(Jh!==s)if(s={context:s,memoizedValue:t,next:null},hi===null){if(Id===null)throw Error(Ee(308));hi=s,Id.dependencies={lanes:0,firstContext:s}}else hi=hi.next=s;return t}var vn=null;function e0(s){vn===null?vn=[s]:vn.push(s)}function Gj(s,t,r,a){var i=t.interleaved;return i===null?(r.next=r,e0(t)):(r.next=i.next,i.next=r),t.interleaved=r,ca(s,a)}function ca(s,t){s.lanes|=t;var r=s.alternate;for(r!==null&&(r.lanes|=t),r=s,s=s.return;s!==null;)s.childLanes|=t,r=s.alternate,r!==null&&(r.childLanes|=t),r=s,s=s.return;return r.tag===3?r.stateNode:null}var Sa=!1;function t0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hj(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function aa(s,t){return{eventTime:s,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(s,t,r){var a=s.updateQueue;if(a===null)return null;if(a=a.shared,Nt&2){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,ca(s,r)}return i=a.interleaved,i===null?(t.next=t,e0(a)):(t.next=i.next,i.next=t),a.interleaved=t,ca(s,r)}function Gc(s,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Bh(s,r)}}function ng(s,t){var r=s.updateQueue,a=s.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:a.shared,effects:a.effects},s.updateQueue=r;return}s=r.lastBaseUpdate,s===null?r.firstBaseUpdate=t:s.next=t,r.lastBaseUpdate=t}function Ed(s,t,r,a){var i=s.updateQueue;Sa=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var x=c,f=x.next;x.next=null,l===null?o=f:l.next=f,l=x;var N=s.alternate;N!==null&&(N=N.updateQueue,c=N.lastBaseUpdate,c!==l&&(c===null?N.firstBaseUpdate=f:c.next=f,N.lastBaseUpdate=x))}if(o!==null){var I=i.baseState;l=0,N=f=x=null,c=o;do{var S=c.lane,D=c.eventTime;if((a&S)===S){N!==null&&(N=N.next={eventTime:D,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=s,L=c;switch(S=t,D=r,L.tag){case 1:if(g=L.payload,typeof g=="function"){I=g.call(D,I,S);break e}I=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=L.payload,S=typeof g=="function"?g.call(D,I,S):g,S==null)break e;I=Ht({},I,S);break e;case 2:Sa=!0}}c.callback!==null&&c.lane!==0&&(s.flags|=64,S=i.effects,S===null?i.effects=[c]:S.push(c))}else D={eventTime:D,lane:S,tag:c.tag,payload:c.payload,callback:c.callback,next:null},N===null?(f=N=D,x=I):N=N.next=D,l|=S;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;S=c,c=S.next,S.next=null,i.lastBaseUpdate=S,i.shared.pending=null}}while(1);if(N===null&&(x=I),i.baseState=x,i.firstBaseUpdate=f,i.lastBaseUpdate=N,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Tn|=l,s.lanes=l,s.memoizedState=I}}function ig(s,t,r){if(s=t.effects,t.effects=null,s!==null)for(t=0;t<s.length;t++){var a=s[t],i=a.callback;if(i!==null){if(a.callback=null,a=r,typeof i!="function")throw Error(Ee(191,i));i.call(a)}}}var Ro={},Or=on(Ro),co=on(Ro),uo=on(Ro);function Nn(s){if(s===Ro)throw Error(Ee(174));return s}function s0(s,t){switch(Lt(uo,t),Lt(co,s),Lt(Or,Ro),s=t.nodeType,s){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fm(null,"");break;default:s=s===8?t.parentNode:t,t=s.namespaceURI||null,s=s.tagName,t=fm(t,s)}Ut(Or),Lt(Or,t)}function Ai(){Ut(Or),Ut(co),Ut(uo)}function Qj(s){Nn(uo.current);var t=Nn(Or.current),r=fm(t,s.type);t!==r&&(Lt(co,s),Lt(Or,r))}function r0(s){co.current===s&&(Ut(Or),Ut(co))}var qt=on(0);function Sd(s){for(var t=s;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mx=[];function a0(){for(var s=0;s<Mx.length;s++)Mx[s]._workInProgressVersionPrimary=null;Mx.length=0}var Hc=fa.ReactCurrentDispatcher,zx=fa.ReactCurrentBatchConfig,Pn=0,Wt=null,as=null,cs=null,_d=!1,Bl=!1,xo=0,Pk=0;function ks(){throw Error(Ee(321))}function n0(s,t){if(t===null)return!1;for(var r=0;r<t.length&&r<s.length;r++)if(!Ir(s[r],t[r]))return!1;return!0}function i0(s,t,r,a,i,o){if(Pn=o,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hc.current=s===null||s.memoizedState===null?Rk:Mk,s=r(a,i),Bl){o=0;do{if(Bl=!1,xo=0,25<=o)throw Error(Ee(301));o+=1,cs=as=null,t.updateQueue=null,Hc.current=zk,s=r(a,i)}while(Bl)}if(Hc.current=Pd,t=as!==null&&as.next!==null,Pn=0,cs=as=Wt=null,_d=!1,t)throw Error(Ee(300));return s}function l0(){var s=xo!==0;return xo=0,s}function Dr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?Wt.memoizedState=cs=s:cs=cs.next=s,cs}function xr(){if(as===null){var s=Wt.alternate;s=s!==null?s.memoizedState:null}else s=as.next;var t=cs===null?Wt.memoizedState:cs.next;if(t!==null)cs=t,as=s;else{if(s===null)throw Error(Ee(310));as=s,s={memoizedState:as.memoizedState,baseState:as.baseState,baseQueue:as.baseQueue,queue:as.queue,next:null},cs===null?Wt.memoizedState=cs=s:cs=cs.next=s}return cs}function mo(s,t){return typeof t=="function"?t(s):t}function Ox(s){var t=xr(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=s;var a=as,i=a.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}a.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,a=a.baseState;var c=l=null,x=null,f=o;do{var N=f.lane;if((Pn&N)===N)x!==null&&(x=x.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),a=f.hasEagerState?f.eagerState:s(a,f.action);else{var I={lane:N,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};x===null?(c=x=I,l=a):x=x.next=I,Wt.lanes|=N,Tn|=N}f=f.next}while(f!==null&&f!==o);x===null?l=a:x.next=c,Ir(a,t.memoizedState)||(Fs=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=x,r.lastRenderedState=a}if(s=r.interleaved,s!==null){i=s;do o=i.lane,Wt.lanes|=o,Tn|=o,i=i.next;while(i!==s)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lx(s){var t=xr(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=s;var a=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=s(o,l.action),l=l.next;while(l!==i);Ir(o,t.memoizedState)||(Fs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,a]}function Kj(){}function Yj(s,t){var r=Wt,a=xr(),i=t(),o=!Ir(a.memoizedState,i);if(o&&(a.memoizedState=i,Fs=!0),a=a.queue,o0(Zj.bind(null,r,a,s),[s]),a.getSnapshot!==t||o||cs!==null&&cs.memoizedState.tag&1){if(r.flags|=2048,ho(9,Xj.bind(null,r,a,i,t),void 0,null),xs===null)throw Error(Ee(349));Pn&30||Jj(r,t,i)}return i}function Jj(s,t,r){s.flags|=16384,s={getSnapshot:t,value:r},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[s]):(r=t.stores,r===null?t.stores=[s]:r.push(s))}function Xj(s,t,r,a){t.value=r,t.getSnapshot=a,ev(t)&&tv(s)}function Zj(s,t,r){return r(function(){ev(t)&&tv(s)})}function ev(s){var t=s.getSnapshot;s=s.value;try{var r=t();return!Ir(s,r)}catch{return!0}}function tv(s){var t=ca(s,1);t!==null&&Cr(t,s,1,-1)}function lg(s){var t=Dr();return typeof s=="function"&&(s=s()),t.memoizedState=t.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:s},t.queue=s,s=s.dispatch=Ak.bind(null,Wt,s),[t.memoizedState,s]}function ho(s,t,r,a){return s={tag:s,create:t,destroy:r,deps:a,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=s.next=s):(r=t.lastEffect,r===null?t.lastEffect=s.next=s:(a=r.next,r.next=s,s.next=a,t.lastEffect=s)),s}function sv(){return xr().memoizedState}function Qc(s,t,r,a){var i=Dr();Wt.flags|=s,i.memoizedState=ho(1|t,r,void 0,a===void 0?null:a)}function yu(s,t,r,a){var i=xr();a=a===void 0?null:a;var o=void 0;if(as!==null){var l=as.memoizedState;if(o=l.destroy,a!==null&&n0(a,l.deps)){i.memoizedState=ho(t,r,o,a);return}}Wt.flags|=s,i.memoizedState=ho(1|t,r,o,a)}function og(s,t){return Qc(8390656,8,s,t)}function o0(s,t){return yu(2048,8,s,t)}function rv(s,t){return yu(4,2,s,t)}function av(s,t){return yu(4,4,s,t)}function nv(s,t){if(typeof t=="function")return s=s(),t(s),function(){t(null)};if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function iv(s,t,r){return r=r!=null?r.concat([s]):null,yu(4,4,nv.bind(null,t,s),r)}function c0(){}function lv(s,t){var r=xr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&n0(t,a[1])?a[0]:(r.memoizedState=[s,t],s)}function ov(s,t){var r=xr();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&n0(t,a[1])?a[0]:(s=s(),r.memoizedState=[s,t],s)}function cv(s,t,r){return Pn&21?(Ir(r,t)||(r=hj(),Wt.lanes|=r,Tn|=r,s.baseState=!0),t):(s.baseState&&(s.baseState=!1,Fs=!0),s.memoizedState=r)}function Tk(s,t){var r=Et;Et=r!==0&&4>r?r:4,s(!0);var a=zx.transition;zx.transition={};try{s(!1),t()}finally{Et=r,zx.transition=a}}function dv(){return xr().memoizedState}function Dk(s,t,r){var a=Wa(s);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},uv(s))xv(t,r);else if(r=Gj(s,t,r,a),r!==null){var i=Ms();Cr(r,s,a,i),mv(r,t,a)}}function Ak(s,t,r){var a=Wa(s),i={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(uv(s))xv(t,i);else{var o=s.alternate;if(s.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,r);if(i.hasEagerState=!0,i.eagerState=c,Ir(c,l)){var x=t.interleaved;x===null?(i.next=i,e0(t)):(i.next=x.next,x.next=i),t.interleaved=i;return}}catch{}finally{}r=Gj(s,t,i,a),r!==null&&(i=Ms(),Cr(r,s,a,i),mv(r,t,a))}}function uv(s){var t=s.alternate;return s===Wt||t!==null&&t===Wt}function xv(s,t){Bl=_d=!0;var r=s.pending;r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t}function mv(s,t,r){if(r&4194240){var a=t.lanes;a&=s.pendingLanes,r|=a,t.lanes=r,Bh(s,r)}}var Pd={readContext:ur,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},Rk={readContext:ur,useCallback:function(s,t){return Dr().memoizedState=[s,t===void 0?null:t],s},useContext:ur,useEffect:og,useImperativeHandle:function(s,t,r){return r=r!=null?r.concat([s]):null,Qc(4194308,4,nv.bind(null,t,s),r)},useLayoutEffect:function(s,t){return Qc(4194308,4,s,t)},useInsertionEffect:function(s,t){return Qc(4,2,s,t)},useMemo:function(s,t){var r=Dr();return t=t===void 0?null:t,s=s(),r.memoizedState=[s,t],s},useReducer:function(s,t,r){var a=Dr();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:t},a.queue=s,s=s.dispatch=Dk.bind(null,Wt,s),[a.memoizedState,s]},useRef:function(s){var t=Dr();return s={current:s},t.memoizedState=s},useState:lg,useDebugValue:c0,useDeferredValue:function(s){return Dr().memoizedState=s},useTransition:function(){var s=lg(!1),t=s[0];return s=Tk.bind(null,s[1]),Dr().memoizedState=s,[t,s]},useMutableSource:function(){},useSyncExternalStore:function(s,t,r){var a=Wt,i=Dr();if($t){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),xs===null)throw Error(Ee(349));Pn&30||Jj(a,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,og(Zj.bind(null,a,o,s),[s]),a.flags|=2048,ho(9,Xj.bind(null,a,o,r,t),void 0,null),r},useId:function(){var s=Dr(),t=xs.identifierPrefix;if($t){var r=ta,a=ea;r=(a&~(1<<32-kr(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=xo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Pk++,t=":"+t+"r"+r.toString(32)+":";return s.memoizedState=t},unstable_isNewReconciler:!1},Mk={readContext:ur,useCallback:lv,useContext:ur,useEffect:o0,useImperativeHandle:iv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:ov,useReducer:Ox,useRef:sv,useState:function(){return Ox(mo)},useDebugValue:c0,useDeferredValue:function(s){var t=xr();return cv(t,as.memoizedState,s)},useTransition:function(){var s=Ox(mo)[0],t=xr().memoizedState;return[s,t]},useMutableSource:Kj,useSyncExternalStore:Yj,useId:dv,unstable_isNewReconciler:!1},zk={readContext:ur,useCallback:lv,useContext:ur,useEffect:o0,useImperativeHandle:iv,useInsertionEffect:rv,useLayoutEffect:av,useMemo:ov,useReducer:Lx,useRef:sv,useState:function(){return Lx(mo)},useDebugValue:c0,useDeferredValue:function(s){var t=xr();return as===null?t.memoizedState=s:cv(t,as.memoizedState,s)},useTransition:function(){var s=Lx(mo)[0],t=xr().memoizedState;return[s,t]},useMutableSource:Kj,useSyncExternalStore:Yj,useId:dv,unstable_isNewReconciler:!1};function br(s,t){if(s&&s.defaultProps){t=Ht({},t),s=s.defaultProps;for(var r in s)t[r]===void 0&&(t[r]=s[r]);return t}return t}function Om(s,t,r,a){t=s.memoizedState,r=r(a,t),r=r==null?t:Ht({},t,r),s.memoizedState=r,s.lanes===0&&(s.updateQueue.baseState=r)}var bu={isMounted:function(s){return(s=s._reactInternals)?Fn(s)===s:!1},enqueueSetState:function(s,t,r){s=s._reactInternals;var a=Ms(),i=Wa(s),o=aa(a,i);o.payload=t,r!=null&&(o.callback=r),t=$a(s,o,i),t!==null&&(Cr(t,s,i,a),Gc(t,s,i))},enqueueReplaceState:function(s,t,r){s=s._reactInternals;var a=Ms(),i=Wa(s),o=aa(a,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=$a(s,o,i),t!==null&&(Cr(t,s,i,a),Gc(t,s,i))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var r=Ms(),a=Wa(s),i=aa(r,a);i.tag=2,t!=null&&(i.callback=t),t=$a(s,i,a),t!==null&&(Cr(t,s,a,r),Gc(t,s,a))}};function cg(s,t,r,a,i,o,l){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(a,o,l):t.prototype&&t.prototype.isPureReactComponent?!no(r,a)||!no(i,o):!0}function hv(s,t,r){var a=!1,i=Xa,o=t.contextType;return typeof o=="object"&&o!==null?o=ur(o):(i=$s(t)?Sn:Ps.current,a=t.contextTypes,o=(a=a!=null)?Pi(s,i):Xa),t=new t(r,o),s.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bu,s.stateNode=t,t._reactInternals=s,a&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=o),t}function dg(s,t,r,a){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==s&&bu.enqueueReplaceState(t,t.state,null)}function Lm(s,t,r,a){var i=s.stateNode;i.props=r,i.state=s.memoizedState,i.refs={},t0(s);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ur(o):(o=$s(t)?Sn:Ps.current,i.context=Pi(s,o)),i.state=s.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Om(s,t,o,r),i.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bu.enqueueReplaceState(i,i.state,null),Ed(s,r,i,a),i.state=s.memoizedState),typeof i.componentDidMount=="function"&&(s.flags|=4194308)}function Ri(s,t){try{var r="",a=t;do r+=d4(a),a=a.return;while(a);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:s,source:t,stack:i,digest:null}}function Vx(s,t,r){return{value:s,source:null,stack:r??null,digest:t??null}}function Vm(s,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ok=typeof WeakMap=="function"?WeakMap:Map;function pv(s,t,r){r=aa(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){Dd||(Dd=!0,Km=a),Vm(s,t)},r}function fv(s,t,r){r=aa(-1,r),r.tag=3;var a=s.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;r.payload=function(){return a(i)},r.callback=function(){Vm(s,t)}}var o=s.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Vm(s,t),typeof a!="function"&&(qa===null?qa=new Set([this]):qa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function ug(s,t,r){var a=s.pingCache;if(a===null){a=s.pingCache=new Ok;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(r)||(i.add(r),s=Jk.bind(null,s,t,r),t.then(s,s))}function xg(s){do{var t;if((t=s.tag===13)&&(t=s.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return s;s=s.return}while(s!==null);return null}function mg(s,t,r,a,i){return s.mode&1?(s.flags|=65536,s.lanes=i,s):(s===t?s.flags|=65536:(s.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=aa(-1,1),t.tag=2,$a(r,t,1))),r.lanes|=1),s)}var Lk=fa.ReactCurrentOwner,Fs=!1;function As(s,t,r,a){t.child=s===null?Wj(t,null,r,a):Di(t,s.child,r,a)}function hg(s,t,r,a,i){r=r.render;var o=t.ref;return wi(t,i),a=i0(s,t,r,a,o,i),r=l0(),s!==null&&!Fs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,da(s,t,i)):($t&&r&&Qh(t),t.flags|=1,As(s,t,a,i),t.child)}function pg(s,t,r,a,i){if(s===null){var o=r.type;return typeof o=="function"&&!g0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,gv(s,t,o,a,i)):(s=Xc(r.type,null,a,t,t.mode,i),s.ref=t.ref,s.return=t,t.child=s)}if(o=s.child,!(s.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:no,r(l,a)&&s.ref===t.ref)return da(s,t,i)}return t.flags|=1,s=Ga(o,a),s.ref=t.ref,s.return=t,t.child=s}function gv(s,t,r,a,i){if(s!==null){var o=s.memoizedProps;if(no(o,a)&&s.ref===t.ref)if(Fs=!1,t.pendingProps=a=o,(s.lanes&i)!==0)s.flags&131072&&(Fs=!0);else return t.lanes=s.lanes,da(s,t,i)}return Bm(s,t,r,a,i)}function yv(s,t,r){var a=t.pendingProps,i=a.children,o=s!==null?s.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lt(fi,Ks),Ks|=r;else{if(!(r&1073741824))return s=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:s,cachePool:null,transitions:null},t.updateQueue=null,Lt(fi,Ks),Ks|=s,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=o!==null?o.baseLanes:r,Lt(fi,Ks),Ks|=a}else o!==null?(a=o.baseLanes|r,t.memoizedState=null):a=r,Lt(fi,Ks),Ks|=a;return As(s,t,i,r),t.child}function bv(s,t){var r=t.ref;(s===null&&r!==null||s!==null&&s.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Bm(s,t,r,a,i){var o=$s(r)?Sn:Ps.current;return o=Pi(t,o),wi(t,i),r=i0(s,t,r,a,o,i),a=l0(),s!==null&&!Fs?(t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~i,da(s,t,i)):($t&&a&&Qh(t),t.flags|=1,As(s,t,r,i),t.child)}function fg(s,t,r,a,i){if($s(r)){var o=!0;Nd(t)}else o=!1;if(wi(t,i),t.stateNode===null)Kc(s,t),hv(t,r,a),Lm(t,r,a,i),a=!0;else if(s===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var x=l.context,f=r.contextType;typeof f=="object"&&f!==null?f=ur(f):(f=$s(r)?Sn:Ps.current,f=Pi(t,f));var N=r.getDerivedStateFromProps,I=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function";I||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==a||x!==f)&&dg(t,l,a,f),Sa=!1;var S=t.memoizedState;l.state=S,Ed(t,a,l,i),x=t.memoizedState,c!==a||S!==x||Us.current||Sa?(typeof N=="function"&&(Om(t,r,N,a),x=t.memoizedState),(c=Sa||cg(t,r,c,a,S,x,f))?(I||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=x),l.props=a,l.state=x,l.context=f,a=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Hj(s,t),c=t.memoizedProps,f=t.type===t.elementType?c:br(t.type,c),l.props=f,I=t.pendingProps,S=l.context,x=r.contextType,typeof x=="object"&&x!==null?x=ur(x):(x=$s(r)?Sn:Ps.current,x=Pi(t,x));var D=r.getDerivedStateFromProps;(N=typeof D=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==I||S!==x)&&dg(t,l,a,x),Sa=!1,S=t.memoizedState,l.state=S,Ed(t,a,l,i);var g=t.memoizedState;c!==I||S!==g||Us.current||Sa?(typeof D=="function"&&(Om(t,r,D,a),g=t.memoizedState),(f=Sa||cg(t,r,f,a,S,g,x)||!1)?(N||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(a,g,x),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(a,g,x)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=g),l.props=a,l.state=g,l.context=x,a=f):(typeof l.componentDidUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===s.memoizedProps&&S===s.memoizedState||(t.flags|=1024),a=!1)}return Fm(s,t,r,a,o,i)}function Fm(s,t,r,a,i,o){bv(s,t);var l=(t.flags&128)!==0;if(!a&&!l)return i&&tg(t,r,!1),da(s,t,o);a=t.stateNode,Lk.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,s!==null&&l?(t.child=Di(t,s.child,null,o),t.child=Di(t,null,c,o)):As(s,t,c,o),t.memoizedState=a.state,i&&tg(t,r,!0),t.child}function jv(s){var t=s.stateNode;t.pendingContext?eg(s,t.pendingContext,t.pendingContext!==t.context):t.context&&eg(s,t.context,!1),s0(s,t.containerInfo)}function gg(s,t,r,a,i){return Ti(),Yh(i),t.flags|=256,As(s,t,r,a),t.child}var Um={dehydrated:null,treeContext:null,retryLane:0};function $m(s){return{baseLanes:s,cachePool:null,transitions:null}}function vv(s,t,r){var a=t.pendingProps,i=qt.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=s!==null&&s.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(s===null||s.memoizedState!==null)&&(i|=1),Lt(qt,i&1),s===null)return Mm(t),s=t.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(t.mode&1?s.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=a.children,s=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},!(a&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Nu(l,a,0,null),s=In(s,a,r,null),o.return=t,s.return=t,o.sibling=s,t.child=o,t.child.memoizedState=$m(r),t.memoizedState=Um,s):d0(t,l));if(i=s.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return Vk(s,t,l,a,c,i,r);if(o){o=a.fallback,l=t.mode,i=s.child,c=i.sibling;var x={mode:"hidden",children:a.children};return!(l&1)&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=x,t.deletions=null):(a=Ga(i,x),a.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Ga(c,o):(o=In(o,l,r,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=s.child.memoizedState,l=l===null?$m(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=s.childLanes&~r,t.memoizedState=Um,a}return o=s.child,s=o.sibling,a=Ga(o,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,s!==null&&(r=t.deletions,r===null?(t.deletions=[s],t.flags|=16):r.push(s)),t.child=a,t.memoizedState=null,a}function d0(s,t){return t=Nu({mode:"visible",children:t},s.mode,0,null),t.return=s,s.child=t}function Ec(s,t,r,a){return a!==null&&Yh(a),Di(t,s.child,null,r),s=d0(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function Vk(s,t,r,a,i,o,l){if(r)return t.flags&256?(t.flags&=-257,a=Vx(Error(Ee(422))),Ec(s,t,l,a)):t.memoizedState!==null?(t.child=s.child,t.flags|=128,null):(o=a.fallback,i=t.mode,a=Nu({mode:"visible",children:a.children},i,0,null),o=In(o,i,l,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,t.mode&1&&Di(t,s.child,null,l),t.child.memoizedState=$m(l),t.memoizedState=Um,o);if(!(t.mode&1))return Ec(s,t,l,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var c=a.dgst;return a=c,o=Error(Ee(419)),a=Vx(o,a,void 0),Ec(s,t,l,a)}if(c=(l&s.childLanes)!==0,Fs||c){if(a=xs,a!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ca(s,i),Cr(a,s,i,-1))}return f0(),a=Vx(Error(Ee(421))),Ec(s,t,l,a)}return i.data==="$?"?(t.flags|=128,t.child=s.child,t=Xk.bind(null,s),i._reactRetry=t,null):(s=o.treeContext,Js=Ua(i.nextSibling),Zs=t,$t=!0,vr=null,s!==null&&(ir[lr++]=ea,ir[lr++]=ta,ir[lr++]=_n,ea=s.id,ta=s.overflow,_n=t),t=d0(t,a.children),t.flags|=4096,t)}function yg(s,t,r){s.lanes|=t;var a=s.alternate;a!==null&&(a.lanes|=t),zm(s.return,t,r)}function Bx(s,t,r,a,i){var o=s.memoizedState;o===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=r,o.tailMode=i)}function Nv(s,t,r){var a=t.pendingProps,i=a.revealOrder,o=a.tail;if(As(s,t,a.children,r),a=qt.current,a&2)a=a&1|2,t.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&yg(s,r,t);else if(s.tag===19)yg(s,r,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a&=1}if(Lt(qt,a),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)s=r.alternate,s!==null&&Sd(s)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Bx(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(s=i.alternate,s!==null&&Sd(s)===null){t.child=i;break}s=i.sibling,i.sibling=r,r=i,i=s}Bx(t,!0,r,null,o);break;case"together":Bx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Kc(s,t){!(t.mode&1)&&s!==null&&(s.alternate=null,t.alternate=null,t.flags|=2)}function da(s,t,r){if(s!==null&&(t.dependencies=s.dependencies),Tn|=t.lanes,!(r&t.childLanes))return null;if(s!==null&&t.child!==s.child)throw Error(Ee(153));if(t.child!==null){for(s=t.child,r=Ga(s,s.pendingProps),t.child=r,r.return=t;s.sibling!==null;)s=s.sibling,r=r.sibling=Ga(s,s.pendingProps),r.return=t;r.sibling=null}return t.child}function Bk(s,t,r){switch(t.tag){case 3:jv(t),Ti();break;case 5:Qj(t);break;case 1:$s(t.type)&&Nd(t);break;case 4:s0(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Lt(Cd,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Lt(qt,qt.current&1),t.flags|=128,null):r&t.child.childLanes?vv(s,t,r):(Lt(qt,qt.current&1),s=da(s,t,r),s!==null?s.sibling:null);Lt(qt,qt.current&1);break;case 19:if(a=(r&t.childLanes)!==0,s.flags&128){if(a)return Nv(s,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lt(qt,qt.current),a)break;return null;case 22:case 23:return t.lanes=0,yv(s,t,r)}return da(s,t,r)}var wv,qm,kv,Cv;wv=function(s,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)s.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qm=function(){};kv=function(s,t,r,a){var i=s.memoizedProps;if(i!==a){s=t.stateNode,Nn(Or.current);var o=null;switch(r){case"input":i=xm(s,i),a=xm(s,a),o=[];break;case"select":i=Ht({},i,{value:void 0}),a=Ht({},a,{value:void 0}),o=[];break;case"textarea":i=pm(s,i),a=pm(s,a),o=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(s.onclick=jd)}gm(r,a);var l;r=null;for(f in i)if(!a.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var c=i[f];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Xl.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in a){var x=a[f];if(c=i!=null?i[f]:void 0,a.hasOwnProperty(f)&&x!==c&&(x!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||x&&x.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in x)x.hasOwnProperty(l)&&c[l]!==x[l]&&(r||(r={}),r[l]=x[l])}else r||(o||(o=[]),o.push(f,r)),r=x;else f==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,c=c?c.__html:void 0,x!=null&&c!==x&&(o=o||[]).push(f,x)):f==="children"?typeof x!="string"&&typeof x!="number"||(o=o||[]).push(f,""+x):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Xl.hasOwnProperty(f)?(x!=null&&f==="onScroll"&&Ft("scroll",s),o||c===x||(o=[])):(o=o||[]).push(f,x))}r&&(o=o||[]).push("style",r);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};Cv=function(s,t,r,a){r!==a&&(t.flags|=4)};function jl(s,t){if(!$t)switch(s.tailMode){case"hidden":t=s.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?s.tail=null:r.sibling=null;break;case"collapsed":r=s.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:a.sibling=null}}function Cs(s){var t=s.alternate!==null&&s.alternate.child===s.child,r=0,a=0;if(t)for(var i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)r|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=a,s.childLanes=r,t}function Fk(s,t,r){var a=t.pendingProps;switch(Kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(t),null;case 1:return $s(t.type)&&vd(),Cs(t),null;case 3:return a=t.stateNode,Ai(),Ut(Us),Ut(Ps),a0(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(s===null||s.child===null)&&(Cc(t)?t.flags|=4:s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(Xm(vr),vr=null))),qm(s,t),Cs(t),null;case 5:r0(t);var i=Nn(uo.current);if(r=t.type,s!==null&&t.stateNode!=null)kv(s,t,r,a,i),s.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(Ee(166));return Cs(t),null}if(s=Nn(Or.current),Cc(t)){a=t.stateNode,r=t.type;var o=t.memoizedProps;switch(a[Rr]=t,a[oo]=o,s=(t.mode&1)!==0,r){case"dialog":Ft("cancel",a),Ft("close",a);break;case"iframe":case"object":case"embed":Ft("load",a);break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ft(Sl[i],a);break;case"source":Ft("error",a);break;case"img":case"image":case"link":Ft("error",a),Ft("load",a);break;case"details":Ft("toggle",a);break;case"input":Ef(a,o),Ft("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!o.multiple},Ft("invalid",a);break;case"textarea":_f(a,o),Ft("invalid",a)}gm(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?a.textContent!==c&&(o.suppressHydrationWarning!==!0&&kc(a.textContent,c,s),i=["children",c]):typeof c=="number"&&a.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&kc(a.textContent,c,s),i=["children",""+c]):Xl.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Ft("scroll",a)}switch(r){case"input":fc(a),Sf(a,o,!0);break;case"textarea":fc(a),Pf(a);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(a.onclick=jd)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Zb(r)),s==="http://www.w3.org/1999/xhtml"?r==="script"?(s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof a.is=="string"?s=l.createElement(r,{is:a.is}):(s=l.createElement(r),r==="select"&&(l=s,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):s=l.createElementNS(s,r),s[Rr]=t,s[oo]=a,wv(s,t,!1,!1),t.stateNode=s;e:{switch(l=ym(r,a),r){case"dialog":Ft("cancel",s),Ft("close",s),i=a;break;case"iframe":case"object":case"embed":Ft("load",s),i=a;break;case"video":case"audio":for(i=0;i<Sl.length;i++)Ft(Sl[i],s);i=a;break;case"source":Ft("error",s),i=a;break;case"img":case"image":case"link":Ft("error",s),Ft("load",s),i=a;break;case"details":Ft("toggle",s),i=a;break;case"input":Ef(s,a),i=xm(s,a),Ft("invalid",s);break;case"option":i=a;break;case"select":s._wrapperState={wasMultiple:!!a.multiple},i=Ht({},a,{value:void 0}),Ft("invalid",s);break;case"textarea":_f(s,a),i=pm(s,a),Ft("invalid",s);break;default:i=a}gm(r,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var x=c[o];o==="style"?sj(s,x):o==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ej(s,x)):o==="children"?typeof x=="string"?(r!=="textarea"||x!=="")&&Zl(s,x):typeof x=="number"&&Zl(s,""+x):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Xl.hasOwnProperty(o)?x!=null&&o==="onScroll"&&Ft("scroll",s):x!=null&&Rh(s,o,x,l))}switch(r){case"input":fc(s),Sf(s,a,!1);break;case"textarea":fc(s),Pf(s);break;case"option":a.value!=null&&s.setAttribute("value",""+Ja(a.value));break;case"select":s.multiple=!!a.multiple,o=a.value,o!=null?bi(s,!!a.multiple,o,!1):a.defaultValue!=null&&bi(s,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(s.onclick=jd)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cs(t),null;case 6:if(s&&t.stateNode!=null)Cv(s,t,s.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=Nn(uo.current),Nn(Or.current),Cc(t)){if(a=t.stateNode,r=t.memoizedProps,a[Rr]=t,(o=a.nodeValue!==r)&&(s=Zs,s!==null))switch(s.tag){case 3:kc(a.nodeValue,r,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&kc(a.nodeValue,r,(s.mode&1)!==0)}o&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Rr]=t,t.stateNode=a}return Cs(t),null;case 13:if(Ut(qt),a=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&Js!==null&&t.mode&1&&!(t.flags&128))$j(),Ti(),t.flags|=98560,o=!1;else if(o=Cc(t),a!==null&&a.dehydrated!==null){if(s===null){if(!o)throw Error(Ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ee(317));o[Rr]=t}else Ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cs(t),o=!1}else vr!==null&&(Xm(vr),vr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(s!==null&&s.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(s===null||qt.current&1?ns===0&&(ns=3):f0())),t.updateQueue!==null&&(t.flags|=4),Cs(t),null);case 4:return Ai(),qm(s,t),s===null&&io(t.stateNode.containerInfo),Cs(t),null;case 10:return Zh(t.type._context),Cs(t),null;case 17:return $s(t.type)&&vd(),Cs(t),null;case 19:if(Ut(qt),o=t.memoizedState,o===null)return Cs(t),null;if(a=(t.flags&128)!==0,l=o.rendering,l===null)if(a)jl(o,!1);else{if(ns!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(l=Sd(s),l!==null){for(t.flags|=128,jl(o,!1),a=l.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)o=r,s=a,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,s=l.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r=r.sibling;return Lt(qt,qt.current&1|2),t.child}s=s.sibling}o.tail!==null&&Xt()>Mi&&(t.flags|=128,a=!0,jl(o,!1),t.lanes=4194304)}else{if(!a)if(s=Sd(l),s!==null){if(t.flags|=128,a=!0,r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!$t)return Cs(t),null}else 2*Xt()-o.renderingStartTime>Mi&&r!==1073741824&&(t.flags|=128,a=!0,jl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xt(),t.sibling=null,r=qt.current,Lt(qt,a?r&1|2:r&1),t):(Cs(t),null);case 22:case 23:return p0(),a=t.memoizedState!==null,s!==null&&s.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Ks&1073741824&&(Cs(t),t.subtreeFlags&6&&(t.flags|=8192)):Cs(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function Uk(s,t){switch(Kh(t),t.tag){case 1:return $s(t.type)&&vd(),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return Ai(),Ut(Us),Ut(Ps),a0(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 5:return r0(t),null;case 13:if(Ut(qt),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));Ti()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return Ut(qt),null;case 4:return Ai(),null;case 10:return Zh(t.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var Sc=!1,_s=!1,$k=typeof WeakSet=="function"?WeakSet:Set,$e=null;function pi(s,t){var r=s.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Yt(s,t,a)}else r.current=null}function Wm(s,t,r){try{r()}catch(a){Yt(s,t,a)}}var bg=!1;function qk(s,t){if(Sm=gd,s=Pj(),Hh(s)){if("selectionStart"in s)var r={start:s.selectionStart,end:s.selectionEnd};else e:{r=(r=s.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var i=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,c=-1,x=-1,f=0,N=0,I=s,S=null;t:for(;;){for(var D;I!==r||i!==0&&I.nodeType!==3||(c=l+i),I!==o||a!==0&&I.nodeType!==3||(x=l+a),I.nodeType===3&&(l+=I.nodeValue.length),(D=I.firstChild)!==null;)S=I,I=D;for(;;){if(I===s)break t;if(S===r&&++f===i&&(c=l),S===o&&++N===a&&(x=l),(D=I.nextSibling)!==null)break;I=S,S=I.parentNode}I=D}r=c===-1||x===-1?null:{start:c,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(_m={focusedElem:s,selectionRange:r},gd=!1,$e=t;$e!==null;)if(t=$e,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,$e=s;else for(;$e!==null;){t=$e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var L=g.memoizedProps,v=g.memoizedState,_=t.stateNode,z=_.getSnapshotBeforeUpdate(t.elementType===t.type?L:br(t.type,L),v);_.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var R=t.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(H){Yt(t,t.return,H)}if(s=t.sibling,s!==null){s.return=t.return,$e=s;break}$e=t.return}return g=bg,bg=!1,g}function Fl(s,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&s)===s){var o=i.destroy;i.destroy=void 0,o!==void 0&&Wm(t,r,o)}i=i.next}while(i!==a)}}function ju(s,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&s)===s){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function Gm(s){var t=s.ref;if(t!==null){var r=s.stateNode;switch(s.tag){case 5:s=r;break;default:s=r}typeof t=="function"?t(s):t.current=s}}function Iv(s){var t=s.alternate;t!==null&&(s.alternate=null,Iv(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&(delete t[Rr],delete t[oo],delete t[Dm],delete t[Ik],delete t[Ek])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ev(s){return s.tag===5||s.tag===3||s.tag===4}function jg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ev(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(s,t):r.insertBefore(s,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(s,r)):(t=r,t.appendChild(s)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=jd));else if(a!==4&&(s=s.child,s!==null))for(Hm(s,t,r),s=s.sibling;s!==null;)Hm(s,t,r),s=s.sibling}function Qm(s,t,r){var a=s.tag;if(a===5||a===6)s=s.stateNode,t?r.insertBefore(s,t):r.appendChild(s);else if(a!==4&&(s=s.child,s!==null))for(Qm(s,t,r),s=s.sibling;s!==null;)Qm(s,t,r),s=s.sibling}var hs=null,jr=!1;function Ca(s,t,r){for(r=r.child;r!==null;)Sv(s,t,r),r=r.sibling}function Sv(s,t,r){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(xu,r)}catch{}switch(r.tag){case 5:_s||pi(r,t);case 6:var a=hs,i=jr;hs=null,Ca(s,t,r),hs=a,jr=i,hs!==null&&(jr?(s=hs,r=r.stateNode,s.nodeType===8?s.parentNode.removeChild(r):s.removeChild(r)):hs.removeChild(r.stateNode));break;case 18:hs!==null&&(jr?(s=hs,r=r.stateNode,s.nodeType===8?Ax(s.parentNode,r):s.nodeType===1&&Ax(s,r),ro(s)):Ax(hs,r.stateNode));break;case 4:a=hs,i=jr,hs=r.stateNode.containerInfo,jr=!0,Ca(s,t,r),hs=a,jr=i;break;case 0:case 11:case 14:case 15:if(!_s&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Wm(r,t,l),i=i.next}while(i!==a)}Ca(s,t,r);break;case 1:if(!_s&&(pi(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(c){Yt(r,t,c)}Ca(s,t,r);break;case 21:Ca(s,t,r);break;case 22:r.mode&1?(_s=(a=_s)||r.memoizedState!==null,Ca(s,t,r),_s=a):Ca(s,t,r);break;default:Ca(s,t,r)}}function vg(s){var t=s.updateQueue;if(t!==null){s.updateQueue=null;var r=s.stateNode;r===null&&(r=s.stateNode=new $k),t.forEach(function(a){var i=Zk.bind(null,s,a);r.has(a)||(r.add(a),a.then(i,i))})}}function yr(s,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];try{var o=s,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:hs=c.stateNode,jr=!1;break e;case 3:hs=c.stateNode.containerInfo,jr=!0;break e;case 4:hs=c.stateNode.containerInfo,jr=!0;break e}c=c.return}if(hs===null)throw Error(Ee(160));Sv(o,l,i),hs=null,jr=!1;var x=i.alternate;x!==null&&(x.return=null),i.return=null}catch(f){Yt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_v(t,s),t=t.sibling}function _v(s,t){var r=s.alternate,a=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yr(t,s),Tr(s),a&4){try{Fl(3,s,s.return),ju(3,s)}catch(L){Yt(s,s.return,L)}try{Fl(5,s,s.return)}catch(L){Yt(s,s.return,L)}}break;case 1:yr(t,s),Tr(s),a&512&&r!==null&&pi(r,r.return);break;case 5:if(yr(t,s),Tr(s),a&512&&r!==null&&pi(r,r.return),s.flags&32){var i=s.stateNode;try{Zl(i,"")}catch(L){Yt(s,s.return,L)}}if(a&4&&(i=s.stateNode,i!=null)){var o=s.memoizedProps,l=r!==null?r.memoizedProps:o,c=s.type,x=s.updateQueue;if(s.updateQueue=null,x!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Jb(i,o),ym(c,l);var f=ym(c,o);for(l=0;l<x.length;l+=2){var N=x[l],I=x[l+1];N==="style"?sj(i,I):N==="dangerouslySetInnerHTML"?ej(i,I):N==="children"?Zl(i,I):Rh(i,N,I,f)}switch(c){case"input":mm(i,o);break;case"textarea":Xb(i,o);break;case"select":var S=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var D=o.value;D!=null?bi(i,!!o.multiple,D,!1):S!==!!o.multiple&&(o.defaultValue!=null?bi(i,!!o.multiple,o.defaultValue,!0):bi(i,!!o.multiple,o.multiple?[]:"",!1))}i[oo]=o}catch(L){Yt(s,s.return,L)}}break;case 6:if(yr(t,s),Tr(s),a&4){if(s.stateNode===null)throw Error(Ee(162));i=s.stateNode,o=s.memoizedProps;try{i.nodeValue=o}catch(L){Yt(s,s.return,L)}}break;case 3:if(yr(t,s),Tr(s),a&4&&r!==null&&r.memoizedState.isDehydrated)try{ro(t.containerInfo)}catch(L){Yt(s,s.return,L)}break;case 4:yr(t,s),Tr(s);break;case 13:yr(t,s),Tr(s),i=s.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(m0=Xt())),a&4&&vg(s);break;case 22:if(N=r!==null&&r.memoizedState!==null,s.mode&1?(_s=(f=_s)||N,yr(t,s),_s=f):yr(t,s),Tr(s),a&8192){if(f=s.memoizedState!==null,(s.stateNode.isHidden=f)&&!N&&s.mode&1)for($e=s,N=s.child;N!==null;){for(I=$e=N;$e!==null;){switch(S=$e,D=S.child,S.tag){case 0:case 11:case 14:case 15:Fl(4,S,S.return);break;case 1:pi(S,S.return);var g=S.stateNode;if(typeof g.componentWillUnmount=="function"){a=S,r=S.return;try{t=a,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(L){Yt(a,r,L)}}break;case 5:pi(S,S.return);break;case 22:if(S.memoizedState!==null){wg(I);continue}}D!==null?(D.return=S,$e=D):wg(I)}N=N.sibling}e:for(N=null,I=s;;){if(I.tag===5){if(N===null){N=I;try{i=I.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=I.stateNode,x=I.memoizedProps.style,l=x!=null&&x.hasOwnProperty("display")?x.display:null,c.style.display=tj("display",l))}catch(L){Yt(s,s.return,L)}}}else if(I.tag===6){if(N===null)try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(L){Yt(s,s.return,L)}}else if((I.tag!==22&&I.tag!==23||I.memoizedState===null||I===s)&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===s)break e;for(;I.sibling===null;){if(I.return===null||I.return===s)break e;N===I&&(N=null),I=I.return}N===I&&(N=null),I.sibling.return=I.return,I=I.sibling}}break;case 19:yr(t,s),Tr(s),a&4&&vg(s);break;case 21:break;default:yr(t,s),Tr(s)}}function Tr(s){var t=s.flags;if(t&2){try{e:{for(var r=s.return;r!==null;){if(Ev(r)){var a=r;break e}r=r.return}throw Error(Ee(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Zl(i,""),a.flags&=-33);var o=jg(s);Qm(s,o,i);break;case 3:case 4:var l=a.stateNode.containerInfo,c=jg(s);Hm(s,c,l);break;default:throw Error(Ee(161))}}catch(x){Yt(s,s.return,x)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function Wk(s,t,r){$e=s,Pv(s)}function Pv(s,t,r){for(var a=(s.mode&1)!==0;$e!==null;){var i=$e,o=i.child;if(i.tag===22&&a){var l=i.memoizedState!==null||Sc;if(!l){var c=i.alternate,x=c!==null&&c.memoizedState!==null||_s;c=Sc;var f=_s;if(Sc=l,(_s=x)&&!f)for($e=i;$e!==null;)l=$e,x=l.child,l.tag===22&&l.memoizedState!==null?kg(i):x!==null?(x.return=l,$e=x):kg(i);for(;o!==null;)$e=o,Pv(o),o=o.sibling;$e=i,Sc=c,_s=f}Ng(s)}else i.subtreeFlags&8772&&o!==null?(o.return=i,$e=o):Ng(s)}}function Ng(s){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_s||ju(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!_s)if(r===null)a.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:br(t.type,r.memoizedProps);a.componentDidUpdate(i,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ig(t,o,a);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ig(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&r.focus();break;case"img":x.src&&(r.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var N=f.memoizedState;if(N!==null){var I=N.dehydrated;I!==null&&ro(I)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}_s||t.flags&512&&Gm(t)}catch(S){Yt(t,t.return,S)}}if(t===s){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function wg(s){for(;$e!==null;){var t=$e;if(t===s){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function kg(s){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ju(4,t)}catch(x){Yt(t,r,x)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(x){Yt(t,i,x)}}var o=t.return;try{Gm(t)}catch(x){Yt(t,o,x)}break;case 5:var l=t.return;try{Gm(t)}catch(x){Yt(t,l,x)}}}catch(x){Yt(t,t.return,x)}if(t===s){$e=null;break}var c=t.sibling;if(c!==null){c.return=t.return,$e=c;break}$e=t.return}}var Gk=Math.ceil,Td=fa.ReactCurrentDispatcher,u0=fa.ReactCurrentOwner,dr=fa.ReactCurrentBatchConfig,Nt=0,xs=null,ts=null,ys=0,Ks=0,fi=on(0),ns=0,po=null,Tn=0,vu=0,x0=0,Ul=null,Bs=null,m0=0,Mi=1/0,Xr=null,Dd=!1,Km=null,qa=null,_c=!1,za=null,Ad=0,$l=0,Ym=null,Yc=-1,Jc=0;function Ms(){return Nt&6?Xt():Yc!==-1?Yc:Yc=Xt()}function Wa(s){return s.mode&1?Nt&2&&ys!==0?ys&-ys:_k.transition!==null?(Jc===0&&(Jc=hj()),Jc):(s=Et,s!==0||(s=window.event,s=s===void 0?16:vj(s.type)),s):1}function Cr(s,t,r,a){if(50<$l)throw $l=0,Ym=null,Error(Ee(185));To(s,r,a),(!(Nt&2)||s!==xs)&&(s===xs&&(!(Nt&2)&&(vu|=r),ns===4&&Pa(s,ys)),qs(s,a),r===1&&Nt===0&&!(t.mode&1)&&(Mi=Xt()+500,gu&&cn()))}function qs(s,t){var r=s.callbackNode;_4(s,t);var a=fd(s,s===xs?ys:0);if(a===0)r!==null&&Af(r),s.callbackNode=null,s.callbackPriority=0;else if(t=a&-a,s.callbackPriority!==t){if(r!=null&&Af(r),t===1)s.tag===0?Sk(Cg.bind(null,s)):Bj(Cg.bind(null,s)),kk(function(){!(Nt&6)&&cn()}),r=null;else{switch(pj(a)){case 1:r=Vh;break;case 4:r=xj;break;case 16:r=pd;break;case 536870912:r=mj;break;default:r=pd}r=Lv(r,Tv.bind(null,s))}s.callbackPriority=t,s.callbackNode=r}}function Tv(s,t){if(Yc=-1,Jc=0,Nt&6)throw Error(Ee(327));var r=s.callbackNode;if(ki()&&s.callbackNode!==r)return null;var a=fd(s,s===xs?ys:0);if(a===0)return null;if(a&30||a&s.expiredLanes||t)t=Rd(s,a);else{t=a;var i=Nt;Nt|=2;var o=Av();(xs!==s||ys!==t)&&(Xr=null,Mi=Xt()+500,Cn(s,t));do try{Kk();break}catch(c){Dv(s,c)}while(1);Xh(),Td.current=o,Nt=i,ts!==null?t=0:(xs=null,ys=0,t=ns)}if(t!==0){if(t===2&&(i=wm(s),i!==0&&(a=i,t=Jm(s,i))),t===1)throw r=po,Cn(s,0),Pa(s,a),qs(s,Xt()),r;if(t===6)Pa(s,a);else{if(i=s.current.alternate,!(a&30)&&!Hk(i)&&(t=Rd(s,a),t===2&&(o=wm(s),o!==0&&(a=o,t=Jm(s,o))),t===1))throw r=po,Cn(s,0),Pa(s,a),qs(s,Xt()),r;switch(s.finishedWork=i,s.finishedLanes=a,t){case 0:case 1:throw Error(Ee(345));case 2:yn(s,Bs,Xr);break;case 3:if(Pa(s,a),(a&130023424)===a&&(t=m0+500-Xt(),10<t)){if(fd(s,0)!==0)break;if(i=s.suspendedLanes,(i&a)!==a){Ms(),s.pingedLanes|=s.suspendedLanes&i;break}s.timeoutHandle=Tm(yn.bind(null,s,Bs,Xr),t);break}yn(s,Bs,Xr);break;case 4:if(Pa(s,a),(a&4194240)===a)break;for(t=s.eventTimes,i=-1;0<a;){var l=31-kr(a);o=1<<l,l=t[l],l>i&&(i=l),a&=~o}if(a=i,a=Xt()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Gk(a/1960))-a,10<a){s.timeoutHandle=Tm(yn.bind(null,s,Bs,Xr),a);break}yn(s,Bs,Xr);break;case 5:yn(s,Bs,Xr);break;default:throw Error(Ee(329))}}}return qs(s,Xt()),s.callbackNode===r?Tv.bind(null,s):null}function Jm(s,t){var r=Ul;return s.current.memoizedState.isDehydrated&&(Cn(s,t).flags|=256),s=Rd(s,t),s!==2&&(t=Bs,Bs=r,t!==null&&Xm(t)),s}function Xm(s){Bs===null?Bs=s:Bs.push.apply(Bs,s)}function Hk(s){for(var t=s;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var i=r[a],o=i.getSnapshot;i=i.value;try{if(!Ir(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pa(s,t){for(t&=~x0,t&=~vu,s.suspendedLanes|=t,s.pingedLanes&=~t,s=s.expirationTimes;0<t;){var r=31-kr(t),a=1<<r;s[r]=-1,t&=~a}}function Cg(s){if(Nt&6)throw Error(Ee(327));ki();var t=fd(s,0);if(!(t&1))return qs(s,Xt()),null;var r=Rd(s,t);if(s.tag!==0&&r===2){var a=wm(s);a!==0&&(t=a,r=Jm(s,a))}if(r===1)throw r=po,Cn(s,0),Pa(s,t),qs(s,Xt()),r;if(r===6)throw Error(Ee(345));return s.finishedWork=s.current.alternate,s.finishedLanes=t,yn(s,Bs,Xr),qs(s,Xt()),null}function h0(s,t){var r=Nt;Nt|=1;try{return s(t)}finally{Nt=r,Nt===0&&(Mi=Xt()+500,gu&&cn())}}function Dn(s){za!==null&&za.tag===0&&!(Nt&6)&&ki();var t=Nt;Nt|=1;var r=dr.transition,a=Et;try{if(dr.transition=null,Et=1,s)return s()}finally{Et=a,dr.transition=r,Nt=t,!(Nt&6)&&cn()}}function p0(){Ks=fi.current,Ut(fi)}function Cn(s,t){s.finishedWork=null,s.finishedLanes=0;var r=s.timeoutHandle;if(r!==-1&&(s.timeoutHandle=-1,wk(r)),ts!==null)for(r=ts.return;r!==null;){var a=r;switch(Kh(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&vd();break;case 3:Ai(),Ut(Us),Ut(Ps),a0();break;case 5:r0(a);break;case 4:Ai();break;case 13:Ut(qt);break;case 19:Ut(qt);break;case 10:Zh(a.type._context);break;case 22:case 23:p0()}r=r.return}if(xs=s,ts=s=Ga(s.current,null),ys=Ks=t,ns=0,po=null,x0=vu=Tn=0,Bs=Ul=null,vn!==null){for(t=0;t<vn.length;t++)if(r=vn[t],a=r.interleaved,a!==null){r.interleaved=null;var i=a.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,a.next=l}r.pending=a}vn=null}return s}function Dv(s,t){do{var r=ts;try{if(Xh(),Hc.current=Pd,_d){for(var a=Wt.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}_d=!1}if(Pn=0,cs=as=Wt=null,Bl=!1,xo=0,u0.current=null,r===null||r.return===null){ns=1,po=t,ts=null;break}e:{var o=s,l=r.return,c=r,x=t;if(t=ys,c.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var f=x,N=c,I=N.tag;if(!(N.mode&1)&&(I===0||I===11||I===15)){var S=N.alternate;S?(N.updateQueue=S.updateQueue,N.memoizedState=S.memoizedState,N.lanes=S.lanes):(N.updateQueue=null,N.memoizedState=null)}var D=xg(l);if(D!==null){D.flags&=-257,mg(D,l,c,o,t),D.mode&1&&ug(o,f,t),t=D,x=f;var g=t.updateQueue;if(g===null){var L=new Set;L.add(x),t.updateQueue=L}else g.add(x);break e}else{if(!(t&1)){ug(o,f,t),f0();break e}x=Error(Ee(426))}}else if($t&&c.mode&1){var v=xg(l);if(v!==null){!(v.flags&65536)&&(v.flags|=256),mg(v,l,c,o,t),Yh(Ri(x,c));break e}}o=x=Ri(x,c),ns!==4&&(ns=2),Ul===null?Ul=[o]:Ul.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=pv(o,x,t);ng(o,_);break e;case 1:c=x;var z=o.type,R=o.stateNode;if(!(o.flags&128)&&(typeof z.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(qa===null||!qa.has(R)))){o.flags|=65536,t&=-t,o.lanes|=t;var H=fv(o,c,t);ng(o,H);break e}}o=o.return}while(o!==null)}Mv(r)}catch(K){t=K,ts===r&&r!==null&&(ts=r=r.return);continue}break}while(1)}function Av(){var s=Td.current;return Td.current=Pd,s===null?Pd:s}function f0(){(ns===0||ns===3||ns===2)&&(ns=4),xs===null||!(Tn&268435455)&&!(vu&268435455)||Pa(xs,ys)}function Rd(s,t){var r=Nt;Nt|=2;var a=Av();(xs!==s||ys!==t)&&(Xr=null,Cn(s,t));do try{Qk();break}catch(i){Dv(s,i)}while(1);if(Xh(),Nt=r,Td.current=a,ts!==null)throw Error(Ee(261));return xs=null,ys=0,ns}function Qk(){for(;ts!==null;)Rv(ts)}function Kk(){for(;ts!==null&&!j4();)Rv(ts)}function Rv(s){var t=Ov(s.alternate,s,Ks);s.memoizedProps=s.pendingProps,t===null?Mv(s):ts=t,u0.current=null}function Mv(s){var t=s;do{var r=t.alternate;if(s=t.return,t.flags&32768){if(r=Uk(r,t),r!==null){r.flags&=32767,ts=r;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ns=6,ts=null;return}}else if(r=Fk(r,t,Ks),r!==null){ts=r;return}if(t=t.sibling,t!==null){ts=t;return}ts=t=s}while(t!==null);ns===0&&(ns=5)}function yn(s,t,r){var a=Et,i=dr.transition;try{dr.transition=null,Et=1,Yk(s,t,r,a)}finally{dr.transition=i,Et=a}return null}function Yk(s,t,r,a){do ki();while(za!==null);if(Nt&6)throw Error(Ee(327));r=s.finishedWork;var i=s.finishedLanes;if(r===null)return null;if(s.finishedWork=null,s.finishedLanes=0,r===s.current)throw Error(Ee(177));s.callbackNode=null,s.callbackPriority=0;var o=r.lanes|r.childLanes;if(P4(s,o),s===xs&&(ts=xs=null,ys=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_c||(_c=!0,Lv(pd,function(){return ki(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=dr.transition,dr.transition=null;var l=Et;Et=1;var c=Nt;Nt|=4,u0.current=null,qk(s,r),_v(r,s),fk(_m),gd=!!Sm,_m=Sm=null,s.current=r,Wk(r),v4(),Nt=c,Et=l,dr.transition=o}else s.current=r;if(_c&&(_c=!1,za=s,Ad=i),o=s.pendingLanes,o===0&&(qa=null),k4(r.stateNode),qs(s,Xt()),t!==null)for(a=s.onRecoverableError,r=0;r<t.length;r++)i=t[r],a(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,s=Km,Km=null,s;return Ad&1&&s.tag!==0&&ki(),o=s.pendingLanes,o&1?s===Ym?$l++:($l=0,Ym=s):$l=0,cn(),null}function ki(){if(za!==null){var s=pj(Ad),t=dr.transition,r=Et;try{if(dr.transition=null,Et=16>s?16:s,za===null)var a=!1;else{if(s=za,za=null,Ad=0,Nt&6)throw Error(Ee(331));var i=Nt;for(Nt|=4,$e=s.current;$e!==null;){var o=$e,l=o.child;if($e.flags&16){var c=o.deletions;if(c!==null){for(var x=0;x<c.length;x++){var f=c[x];for($e=f;$e!==null;){var N=$e;switch(N.tag){case 0:case 11:case 15:Fl(8,N,o)}var I=N.child;if(I!==null)I.return=N,$e=I;else for(;$e!==null;){N=$e;var S=N.sibling,D=N.return;if(Iv(N),N===f){$e=null;break}if(S!==null){S.return=D,$e=S;break}$e=D}}}var g=o.alternate;if(g!==null){var L=g.child;if(L!==null){g.child=null;do{var v=L.sibling;L.sibling=null,L=v}while(L!==null)}}$e=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,$e=l;else e:for(;$e!==null;){if(o=$e,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,$e=_;break e}$e=o.return}}var z=s.current;for($e=z;$e!==null;){l=$e;var R=l.child;if(l.subtreeFlags&2064&&R!==null)R.return=l,$e=R;else e:for(l=z;$e!==null;){if(c=$e,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:ju(9,c)}}catch(K){Yt(c,c.return,K)}if(c===l){$e=null;break e}var H=c.sibling;if(H!==null){H.return=c.return,$e=H;break e}$e=c.return}}if(Nt=i,cn(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(xu,s)}catch{}a=!0}return a}finally{Et=r,dr.transition=t}}return!1}function Ig(s,t,r){t=Ri(r,t),t=pv(s,t,1),s=$a(s,t,1),t=Ms(),s!==null&&(To(s,1,t),qs(s,t))}function Yt(s,t,r){if(s.tag===3)Ig(s,s,r);else for(;t!==null;){if(t.tag===3){Ig(t,s,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(qa===null||!qa.has(a))){s=Ri(r,s),s=fv(t,s,1),t=$a(t,s,1),s=Ms(),t!==null&&(To(t,1,s),qs(t,s));break}}t=t.return}}function Jk(s,t,r){var a=s.pingCache;a!==null&&a.delete(t),t=Ms(),s.pingedLanes|=s.suspendedLanes&r,xs===s&&(ys&r)===r&&(ns===4||ns===3&&(ys&130023424)===ys&&500>Xt()-m0?Cn(s,0):x0|=r),qs(s,t)}function zv(s,t){t===0&&(s.mode&1?(t=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):t=1);var r=Ms();s=ca(s,t),s!==null&&(To(s,t,r),qs(s,r))}function Xk(s){var t=s.memoizedState,r=0;t!==null&&(r=t.retryLane),zv(s,r)}function Zk(s,t){var r=0;switch(s.tag){case 13:var a=s.stateNode,i=s.memoizedState;i!==null&&(r=i.retryLane);break;case 19:a=s.stateNode;break;default:throw Error(Ee(314))}a!==null&&a.delete(t),zv(s,r)}var Ov;Ov=function(s,t,r){if(s!==null)if(s.memoizedProps!==t.pendingProps||Us.current)Fs=!0;else{if(!(s.lanes&r)&&!(t.flags&128))return Fs=!1,Bk(s,t,r);Fs=!!(s.flags&131072)}else Fs=!1,$t&&t.flags&1048576&&Fj(t,kd,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Kc(s,t),s=t.pendingProps;var i=Pi(t,Ps.current);wi(t,r),i=i0(null,t,a,s,i,r);var o=l0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,$s(a)?(o=!0,Nd(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,t0(t),i.updater=bu,t.stateNode=i,i._reactInternals=t,Lm(t,a,s,r),t=Fm(null,t,a,!0,o,r)):(t.tag=0,$t&&o&&Qh(t),As(null,t,i,r),t=t.child),t;case 16:a=t.elementType;e:{switch(Kc(s,t),s=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=t3(a),s=br(a,s),i){case 0:t=Bm(null,t,a,s,r);break e;case 1:t=fg(null,t,a,s,r);break e;case 11:t=hg(null,t,a,s,r);break e;case 14:t=pg(null,t,a,br(a.type,s),r);break e}throw Error(Ee(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:br(a,i),Bm(s,t,a,i,r);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:br(a,i),fg(s,t,a,i,r);case 3:e:{if(jv(t),s===null)throw Error(Ee(387));a=t.pendingProps,o=t.memoizedState,i=o.element,Hj(s,t),Ed(t,a,null,r);var l=t.memoizedState;if(a=l.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ri(Error(Ee(423)),t),t=gg(s,t,a,r,i);break e}else if(a!==i){i=Ri(Error(Ee(424)),t),t=gg(s,t,a,r,i);break e}else for(Js=Ua(t.stateNode.containerInfo.firstChild),Zs=t,$t=!0,vr=null,r=Wj(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ti(),a===i){t=da(s,t,r);break e}As(s,t,a,r)}t=t.child}return t;case 5:return Qj(t),s===null&&Mm(t),a=t.type,i=t.pendingProps,o=s!==null?s.memoizedProps:null,l=i.children,Pm(a,i)?l=null:o!==null&&Pm(a,o)&&(t.flags|=32),bv(s,t),As(s,t,l,r),t.child;case 6:return s===null&&Mm(t),null;case 13:return vv(s,t,r);case 4:return s0(t,t.stateNode.containerInfo),a=t.pendingProps,s===null?t.child=Di(t,null,a,r):As(s,t,a,r),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:br(a,i),hg(s,t,a,i,r);case 7:return As(s,t,t.pendingProps,r),t.child;case 8:return As(s,t,t.pendingProps.children,r),t.child;case 12:return As(s,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Lt(Cd,a._currentValue),a._currentValue=l,o!==null)if(Ir(o.value,l)){if(o.children===i.children&&!Us.current){t=da(s,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var x=c.firstContext;x!==null;){if(x.context===a){if(o.tag===1){x=aa(-1,r&-r),x.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var N=f.pending;N===null?x.next=x:(x.next=N.next,N.next=x),f.pending=x}}o.lanes|=r,x=o.alternate,x!==null&&(x.lanes|=r),zm(o.return,r,t),c.lanes|=r;break}x=x.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Ee(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),zm(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}As(s,t,i.children,r),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,wi(t,r),i=ur(i),a=a(i),t.flags|=1,As(s,t,a,r),t.child;case 14:return a=t.type,i=br(a,t.pendingProps),i=br(a.type,i),pg(s,t,a,i,r);case 15:return gv(s,t,t.type,t.pendingProps,r);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:br(a,i),Kc(s,t),t.tag=1,$s(a)?(s=!0,Nd(t)):s=!1,wi(t,r),hv(t,a,i),Lm(t,a,i,r),Fm(null,t,a,!0,s,r);case 19:return Nv(s,t,r);case 22:return yv(s,t,r)}throw Error(Ee(156,t.tag))};function Lv(s,t){return uj(s,t)}function e3(s,t,r,a){this.tag=s,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(s,t,r,a){return new e3(s,t,r,a)}function g0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function t3(s){if(typeof s=="function")return g0(s)?1:0;if(s!=null){if(s=s.$$typeof,s===zh)return 11;if(s===Oh)return 14}return 2}function Ga(s,t){var r=s.alternate;return r===null?(r=cr(s.tag,t,s.key,s.mode),r.elementType=s.elementType,r.type=s.type,r.stateNode=s.stateNode,r.alternate=s,s.alternate=r):(r.pendingProps=t,r.type=s.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=s.flags&14680064,r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,t=s.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=s.sibling,r.index=s.index,r.ref=s.ref,r}function Xc(s,t,r,a,i,o){var l=2;if(a=s,typeof s=="function")g0(s)&&(l=1);else if(typeof s=="string")l=5;else e:switch(s){case ii:return In(r.children,i,o,t);case Mh:l=8,i|=8;break;case om:return s=cr(12,r,t,i|2),s.elementType=om,s.lanes=o,s;case cm:return s=cr(13,r,t,i),s.elementType=cm,s.lanes=o,s;case dm:return s=cr(19,r,t,i),s.elementType=dm,s.lanes=o,s;case Qb:return Nu(r,i,o,t);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Gb:l=10;break e;case Hb:l=9;break e;case zh:l=11;break e;case Oh:l=14;break e;case Ea:l=16,a=null;break e}throw Error(Ee(130,s==null?s:typeof s,""))}return t=cr(l,r,t,i),t.elementType=s,t.type=a,t.lanes=o,t}function In(s,t,r,a){return s=cr(7,s,a,t),s.lanes=r,s}function Nu(s,t,r,a){return s=cr(22,s,a,t),s.elementType=Qb,s.lanes=r,s.stateNode={isHidden:!1},s}function Fx(s,t,r){return s=cr(6,s,null,t),s.lanes=r,s}function Ux(s,t,r){return t=cr(4,s.children!==null?s.children:[],s.key,t),t.lanes=r,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}function s3(s,t,r,a,i){this.tag=t,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nx(0),this.expirationTimes=Nx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nx(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function y0(s,t,r,a,i,o,l,c,x){return s=new s3(s,t,r,c,x),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cr(3,null,null,t),s.current=o,o.stateNode=s,o.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},t0(o),s}function r3(s,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ni,key:a==null?null:""+a,children:s,containerInfo:t,implementation:r}}function Vv(s){if(!s)return Xa;s=s._reactInternals;e:{if(Fn(s)!==s||s.tag!==1)throw Error(Ee(170));var t=s;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if($s(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(s.tag===1){var r=s.type;if($s(r))return Vj(s,r,t)}return t}function Bv(s,t,r,a,i,o,l,c,x){return s=y0(r,a,!0,s,i,o,l,c,x),s.context=Vv(null),r=s.current,a=Ms(),i=Wa(r),o=aa(a,i),o.callback=t??null,$a(r,o,i),s.current.lanes=i,To(s,i,a),qs(s,a),s}function wu(s,t,r,a){var i=t.current,o=Ms(),l=Wa(i);return r=Vv(r),t.context===null?t.context=r:t.pendingContext=r,t=aa(o,l),t.payload={element:s},a=a===void 0?null:a,a!==null&&(t.callback=a),s=$a(i,t,l),s!==null&&(Cr(s,i,l,o),Gc(s,i,l)),l}function Md(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Eg(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var r=s.retryLane;s.retryLane=r!==0&&r<t?r:t}}function b0(s,t){Eg(s,t),(s=s.alternate)&&Eg(s,t)}function a3(){return null}var Fv=typeof reportError=="function"?reportError:function(s){console.error(s)};function j0(s){this._internalRoot=s}ku.prototype.render=j0.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(Ee(409));wu(s,t,null,null)};ku.prototype.unmount=j0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;Dn(function(){wu(null,s,null,null)}),t[oa]=null}};function ku(s){this._internalRoot=s}ku.prototype.unstable_scheduleHydration=function(s){if(s){var t=yj();s={blockedOn:null,target:s,priority:t};for(var r=0;r<_a.length&&t!==0&&t<_a[r].priority;r++);_a.splice(r,0,s),r===0&&jj(s)}};function v0(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sg(){}function n3(s,t,r,a,i){if(i){if(typeof a=="function"){var o=a;a=function(){var f=Md(l);o.call(f)}}var l=Bv(t,a,s,0,null,!1,!1,"",Sg);return s._reactRootContainer=l,s[oa]=l.current,io(s.nodeType===8?s.parentNode:s),Dn(),l}for(;i=s.lastChild;)s.removeChild(i);if(typeof a=="function"){var c=a;a=function(){var f=Md(x);c.call(f)}}var x=y0(s,0,!1,null,null,!1,!1,"",Sg);return s._reactRootContainer=x,s[oa]=x.current,io(s.nodeType===8?s.parentNode:s),Dn(function(){wu(t,x,r,a)}),x}function Iu(s,t,r,a,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var x=Md(l);c.call(x)}}wu(t,l,s,i)}else l=n3(r,t,s,i,a);return Md(l)}fj=function(s){switch(s.tag){case 3:var t=s.stateNode;if(t.current.memoizedState.isDehydrated){var r=El(t.pendingLanes);r!==0&&(Bh(t,r|1),qs(t,Xt()),!(Nt&6)&&(Mi=Xt()+500,cn()))}break;case 13:Dn(function(){var a=ca(s,1);if(a!==null){var i=Ms();Cr(a,s,1,i)}}),b0(s,1)}};Fh=function(s){if(s.tag===13){var t=ca(s,134217728);if(t!==null){var r=Ms();Cr(t,s,134217728,r)}b0(s,134217728)}};gj=function(s){if(s.tag===13){var t=Wa(s),r=ca(s,t);if(r!==null){var a=Ms();Cr(r,s,t,a)}b0(s,t)}};yj=function(){return Et};bj=function(s,t){var r=Et;try{return Et=s,t()}finally{Et=r}};jm=function(s,t,r){switch(t){case"input":if(mm(s,r),t=r.name,r.type==="radio"&&t!=null){for(r=s;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==s&&a.form===s.form){var i=fu(a);if(!i)throw Error(Ee(90));Yb(a),mm(a,i)}}}break;case"textarea":Xb(s,r);break;case"select":t=r.value,t!=null&&bi(s,!!r.multiple,t,!1)}};nj=h0;ij=Dn;var i3={usingClientEntryPoint:!1,Events:[Ao,di,fu,rj,aj,h0]},vl={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l3={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fa.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=cj(s),s===null?null:s.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||a3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{xu=Pc.inject(l3),zr=Pc}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i3;rr.createPortal=function(s,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v0(t))throw Error(Ee(200));return r3(s,t,null,r)};rr.createRoot=function(s,t){if(!v0(s))throw Error(Ee(299));var r=!1,a="",i=Fv;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=y0(s,1,!1,null,null,r,!1,a,i),s[oa]=t.current,io(s.nodeType===8?s.parentNode:s),new j0(t)};rr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(Ee(188)):(s=Object.keys(s).join(","),Error(Ee(268,s)));return s=cj(t),s=s===null?null:s.stateNode,s};rr.flushSync=function(s){return Dn(s)};rr.hydrate=function(s,t,r){if(!Cu(t))throw Error(Ee(200));return Iu(null,s,t,!0,r)};rr.hydrateRoot=function(s,t,r){if(!v0(s))throw Error(Ee(405));var a=r!=null&&r.hydratedSources||null,i=!1,o="",l=Fv;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Bv(t,null,s,1,r??null,i,!1,o,l),s[oa]=t.current,io(s),a)for(s=0;s<a.length;s++)r=a[s],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ku(t)};rr.render=function(s,t,r){if(!Cu(t))throw Error(Ee(200));return Iu(null,s,t,!1,r)};rr.unmountComponentAtNode=function(s){if(!Cu(s))throw Error(Ee(40));return s._reactRootContainer?(Dn(function(){Iu(null,null,s,!1,function(){s._reactRootContainer=null,s[oa]=null})}),!0):!1};rr.unstable_batchedUpdates=h0;rr.unstable_renderSubtreeIntoContainer=function(s,t,r,a){if(!Cu(r))throw Error(Ee(200));if(s==null||s._reactInternals===void 0)throw Error(Ee(38));return Iu(s,t,r,!1,a)};rr.version="18.3.1-next-f1338f8080-20240426";function Uv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uv)}catch(s){console.error(s)}}Uv(),Ub.exports=rr;var o3=Ub.exports,_g=o3;im.createRoot=_g.createRoot,im.hydrateRoot=_g.hydrateRoot;const c3="modulepreload",d3=function(s){return"/"+s},Pg={},u3=function(t,r,a){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=d3(o),o in Pg)return;Pg[o]=!0;const l=o.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(!!a)for(let N=i.length-1;N>=0;N--){const I=i[N];if(I.href===o&&(!l||I.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":c3,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((N,I)=>{f.addEventListener("load",N),f.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})};var N0={};Object.defineProperty(N0,"__esModule",{value:!0});N0.parse=y3;N0.serialize=b3;const x3=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,m3=/^[\u0021-\u003A\u003C-\u007E]*$/,h3=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,p3=/^[\u0020-\u003A\u003D-\u007E]*$/,f3=Object.prototype.toString,g3=(()=>{const s=function(){};return s.prototype=Object.create(null),s})();function y3(s,t){const r=new g3,a=s.length;if(a<2)return r;const i=(t==null?void 0:t.decode)||j3;let o=0;do{const l=s.indexOf("=",o);if(l===-1)break;const c=s.indexOf(";",o),x=c===-1?a:c;if(l>x){o=s.lastIndexOf(";",l-1)+1;continue}const f=Tg(s,o,l),N=Dg(s,l,f),I=s.slice(f,N);if(r[I]===void 0){let S=Tg(s,l+1,x),D=Dg(s,x,S);const g=i(s.slice(S,D));r[I]=g}o=x+1}while(o<a);return r}function Tg(s,t,r){do{const a=s.charCodeAt(t);if(a!==32&&a!==9)return t}while(++t<r);return r}function Dg(s,t,r){for(;t>r;){const a=s.charCodeAt(--t);if(a!==32&&a!==9)return t+1}return r}function b3(s,t,r){const a=(r==null?void 0:r.encode)||encodeURIComponent;if(!x3.test(s))throw new TypeError(`argument name is invalid: ${s}`);const i=a(t);if(!m3.test(i))throw new TypeError(`argument val is invalid: ${t}`);let o=s+"="+i;if(!r)return o;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);o+="; Max-Age="+r.maxAge}if(r.domain){if(!h3.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);o+="; Domain="+r.domain}if(r.path){if(!p3.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);o+="; Path="+r.path}if(r.expires){if(!v3(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);o+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.partitioned&&(o+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return o}function j3(s){if(s.indexOf("%")===-1)return s;try{return decodeURIComponent(s)}catch{return s}}function v3(s){return f3.call(s)==="[object Date]"}var Ag="popstate";function N3(s={}){function t(a,i){let{pathname:o,search:l,hash:c}=a.location;return Zm("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:fo(i)}return k3(t,r,null,s)}function Gt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Ur(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function w3(){return Math.random().toString(36).substring(2,10)}function Rg(s,t){return{usr:s.state,key:s.key,idx:t}}function Zm(s,t,r=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Hi(t):t,state:r,key:t&&t.key||a||w3()}}function fo({pathname:s="/",search:t="",hash:r=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Hi(s){let t={};if(s){let r=s.indexOf("#");r>=0&&(t.hash=s.substring(r),s=s.substring(0,r));let a=s.indexOf("?");a>=0&&(t.search=s.substring(a),s=s.substring(0,a)),s&&(t.pathname=s)}return t}function k3(s,t,r,a={}){let{window:i=document.defaultView,v5Compat:o=!1}=a,l=i.history,c="POP",x=null,f=N();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function N(){return(l.state||{idx:null}).idx}function I(){c="POP";let v=N(),_=v==null?null:v-f;f=v,x&&x({action:c,location:L.location,delta:_})}function S(v,_){c="PUSH";let z=Zm(L.location,v,_);r&&r(z,v),f=N()+1;let R=Rg(z,f),H=L.createHref(z);try{l.pushState(R,"",H)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(H)}o&&x&&x({action:c,location:L.location,delta:1})}function D(v,_){c="REPLACE";let z=Zm(L.location,v,_);r&&r(z,v),f=N();let R=Rg(z,f),H=L.createHref(z);l.replaceState(R,"",H),o&&x&&x({action:c,location:L.location,delta:0})}function g(v){let _=i.location.origin!=="null"?i.location.origin:i.location.href,z=typeof v=="string"?v:fo(v);return z=z.replace(/ $/,"%20"),Gt(_,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,_)}let L={get action(){return c},get location(){return s(i,l)},listen(v){if(x)throw new Error("A history only accepts one active listener");return i.addEventListener(Ag,I),x=v,()=>{i.removeEventListener(Ag,I),x=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let _=g(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:S,replace:D,go(v){return l.go(v)}};return L}function $v(s,t,r="/"){return C3(s,t,r,!1)}function C3(s,t,r,a){let i=typeof t=="string"?Hi(t):t,o=ua(i.pathname||"/",r);if(o==null)return null;let l=qv(s);I3(l);let c=null;for(let x=0;c==null&&x<l.length;++x){let f=O3(o);c=M3(l[x],f,a)}return c}function qv(s,t=[],r=[],a=""){let i=(o,l,c)=>{let x={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};x.relativePath.startsWith("/")&&(Gt(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length));let f=na([a,x.relativePath]),N=r.concat(x);o.children&&o.children.length>0&&(Gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),qv(o.children,t,N,f)),!(o.path==null&&!o.index)&&t.push({path:f,score:A3(f,o.index),routesMeta:N})};return s.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let x of Wv(o.path))i(o,l,x)}),t}function Wv(s){let t=s.split("/");if(t.length===0)return[];let[r,...a]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(a.length===0)return i?[o,""]:[o];let l=Wv(a.join("/")),c=[];return c.push(...l.map(x=>x===""?o:[o,x].join("/"))),i&&c.push(...l),c.map(x=>s.startsWith("/")&&x===""?"/":x)}function I3(s){s.sort((t,r)=>t.score!==r.score?r.score-t.score:R3(t.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var E3=/^:[\w-]+$/,S3=3,_3=2,P3=1,T3=10,D3=-2,Mg=s=>s==="*";function A3(s,t){let r=s.split("/"),a=r.length;return r.some(Mg)&&(a+=D3),t&&(a+=_3),r.filter(i=>!Mg(i)).reduce((i,o)=>i+(E3.test(o)?S3:o===""?P3:T3),a)}function R3(s,t){return s.length===t.length&&s.slice(0,-1).every((a,i)=>a===t[i])?s[s.length-1]-t[t.length-1]:0}function M3(s,t,r=!1){let{routesMeta:a}=s,i={},o="/",l=[];for(let c=0;c<a.length;++c){let x=a[c],f=c===a.length-1,N=o==="/"?t:t.slice(o.length)||"/",I=zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:f},N),S=x.route;if(!I&&f&&r&&!a[a.length-1].route.index&&(I=zd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},N)),!I)return null;Object.assign(i,I.params),l.push({params:i,pathname:na([o,I.pathname]),pathnameBase:F3(na([o,I.pathnameBase])),route:S}),I.pathnameBase!=="/"&&(o=na([o,I.pathnameBase]))}return l}function zd(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,a]=z3(s.path,s.caseSensitive,s.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:a.reduce((f,{paramName:N,isOptional:I},S)=>{if(N==="*"){let g=c[S]||"";l=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const D=c[S];return I&&!D?f[N]=void 0:f[N]=(D||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:s}}function z3(s,t=!1,r=!0){Ur(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,x)=>(a.push({paramName:c,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),a]}function O3(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ur(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function ua(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=s.charAt(r);return a&&a!=="/"?null:s.slice(r)||"/"}function L3(s,t="/"){let{pathname:r,search:a="",hash:i=""}=typeof s=="string"?Hi(s):s;return{pathname:r?r.startsWith("/")?r:V3(r,t):t,search:U3(a),hash:$3(i)}}function V3(s,t){let r=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $x(s,t,r,a){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B3(s){return s.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Gv(s){let t=B3(s);return t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase)}function Hv(s,t,r,a=!1){let i;typeof s=="string"?i=Hi(s):(i={...s},Gt(!i.pathname||!i.pathname.includes("?"),$x("?","pathname","search",i)),Gt(!i.pathname||!i.pathname.includes("#"),$x("#","pathname","hash",i)),Gt(!i.search||!i.search.includes("#"),$x("#","search","hash",i)));let o=s===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=r;else{let I=t.length-1;if(!a&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),I-=1;i.pathname=S.join("/")}c=I>=0?t[I]:"/"}let x=L3(i,c),f=l&&l!=="/"&&l.endsWith("/"),N=(o||l===".")&&r.endsWith("/");return!x.pathname.endsWith("/")&&(f||N)&&(x.pathname+="/"),x}var na=s=>s.join("/").replace(/\/\/+/g,"/"),F3=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),U3=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,$3=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function q3(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Qv=["POST","PUT","PATCH","DELETE"];new Set(Qv);var W3=["GET",...Qv];new Set(W3);var Qi=j.createContext(null);Qi.displayName="DataRouter";var Eu=j.createContext(null);Eu.displayName="DataRouterState";var Kv=j.createContext({isTransitioning:!1});Kv.displayName="ViewTransition";var G3=j.createContext(new Map);G3.displayName="Fetchers";var H3=j.createContext(null);H3.displayName="Await";var Gr=j.createContext(null);Gr.displayName="Navigation";var Mo=j.createContext(null);Mo.displayName="Location";var ga=j.createContext({outlet:null,matches:[],isDataRoute:!1});ga.displayName="Route";var w0=j.createContext(null);w0.displayName="RouteError";function Q3(s,{relative:t}={}){Gt(zo(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=j.useContext(Gr),{hash:i,pathname:o,search:l}=Oo(s,{relative:t}),c=o;return r!=="/"&&(c=o==="/"?r:na([r,o])),a.createHref({pathname:c,search:l,hash:i})}function zo(){return j.useContext(Mo)!=null}function Un(){return Gt(zo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Mo).location}var Yv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jv(s){j.useContext(Gr).static||j.useLayoutEffect(s)}function ut(){let{isDataRoute:s}=j.useContext(ga);return s?lC():K3()}function K3(){Gt(zo(),"useNavigate() may be used only in the context of a <Router> component.");let s=j.useContext(Qi),{basename:t,navigator:r}=j.useContext(Gr),{matches:a}=j.useContext(ga),{pathname:i}=Un(),o=JSON.stringify(Gv(a)),l=j.useRef(!1);return Jv(()=>{l.current=!0}),j.useCallback((x,f={})=>{if(Ur(l.current,Yv),!l.current)return;if(typeof x=="number"){r.go(x);return}let N=Hv(x,JSON.parse(o),i,f.relative==="path");s==null&&t!=="/"&&(N.pathname=N.pathname==="/"?t:na([t,N.pathname])),(f.replace?r.replace:r.push)(N,f.state,f)},[t,r,o,i,s])}j.createContext(null);function Oo(s,{relative:t}={}){let{matches:r}=j.useContext(ga),{pathname:a}=Un(),i=JSON.stringify(Gv(r));return j.useMemo(()=>Hv(s,JSON.parse(i),a,t==="path"),[s,i,a,t])}function Y3(s,t){return Xv(s,t)}function Xv(s,t,r,a){var z;Gt(zo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=j.useContext(Gr),{matches:l}=j.useContext(ga),c=l[l.length-1],x=c?c.params:{},f=c?c.pathname:"/",N=c?c.pathnameBase:"/",I=c&&c.route;{let R=I&&I.path||"";Zv(f,!I||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let S=Un(),D;if(t){let R=typeof t=="string"?Hi(t):t;Gt(N==="/"||((z=R.pathname)==null?void 0:z.startsWith(N)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${N}" but pathname "${R.pathname}" was given in the \`location\` prop.`),D=R}else D=S;let g=D.pathname||"/",L=g;if(N!=="/"){let R=N.replace(/^\//,"").split("/");L="/"+g.replace(/^\//,"").split("/").slice(R.length).join("/")}let v=!o&&r&&r.matches&&r.matches.length>0?r.matches:$v(s,{pathname:L});Ur(I||v!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Ur(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=tC(v&&v.map(R=>Object.assign({},R,{params:Object.assign({},x,R.params),pathname:na([N,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?N:na([N,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),l,r,a);return t&&_?j.createElement(Mo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},_):_}function J3(){let s=iC(),t=q3(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},o={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",s),l=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:i},r):null,l)}var X3=j.createElement(J3,null),Z3=class extends j.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?j.createElement(ga.Provider,{value:this.props.routeContext},j.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:s,match:t,children:r}){let a=j.useContext(Qi);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(ga.Provider,{value:s},r)}function tC(s,t=[],r=null,a=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let i=s,o=r==null?void 0:r.errors;if(o!=null){let x=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);Gt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,x+1))}let l=!1,c=-1;if(r)for(let x=0;x<i.length;x++){let f=i[x];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=x),f.route.id){let{loaderData:N,errors:I}=r,S=f.route.loader&&!N.hasOwnProperty(f.route.id)&&(!I||I[f.route.id]===void 0);if(f.route.lazy||S){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((x,f,N)=>{let I,S=!1,D=null,g=null;r&&(I=o&&f.route.id?o[f.route.id]:void 0,D=f.route.errorElement||X3,l&&(c<0&&N===0?(Zv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,g=null):c===N&&(S=!0,g=f.route.hydrateFallbackElement||null)));let L=t.concat(i.slice(0,N+1)),v=()=>{let _;return I?_=D:S?_=g:f.route.Component?_=j.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=x,j.createElement(eC,{match:f,routeContext:{outlet:x,matches:L,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||N===0)?j.createElement(Z3,{location:r.location,revalidation:r.revalidation,component:D,error:I,children:v(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):v()},null)}function k0(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sC(s){let t=j.useContext(Qi);return Gt(t,k0(s)),t}function rC(s){let t=j.useContext(Eu);return Gt(t,k0(s)),t}function aC(s){let t=j.useContext(ga);return Gt(t,k0(s)),t}function C0(s){let t=aC(s),r=t.matches[t.matches.length-1];return Gt(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function nC(){return C0("useRouteId")}function iC(){var a;let s=j.useContext(w0),t=rC("useRouteError"),r=C0("useRouteError");return s!==void 0?s:(a=t.errors)==null?void 0:a[r]}function lC(){let{router:s}=sC("useNavigate"),t=C0("useNavigate"),r=j.useRef(!1);return Jv(()=>{r.current=!0}),j.useCallback(async(i,o={})=>{Ur(r.current,Yv),r.current&&(typeof i=="number"?s.navigate(i):await s.navigate(i,{fromRouteId:t,...o}))},[s,t])}var zg={};function Zv(s,t,r){!t&&!zg[s]&&(zg[s]=!0,Ur(!1,r))}j.memo(oC);function oC({routes:s,future:t,state:r}){return Xv(s,void 0,r,t)}function xt(s){Gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:s="/",children:t=null,location:r,navigationType:a="POP",navigator:i,static:o=!1}){Gt(!zo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=s.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof r=="string"&&(r=Hi(r));let{pathname:x="/",search:f="",hash:N="",state:I=null,key:S="default"}=r,D=j.useMemo(()=>{let g=ua(x,l);return g==null?null:{location:{pathname:g,search:f,hash:N,state:I,key:S},navigationType:a}},[l,x,f,N,I,S,a]);return Ur(D!=null,`<Router basename="${l}"> is not able to match the URL "${x}${f}${N}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(Gr.Provider,{value:c},j.createElement(Mo.Provider,{children:t,value:D}))}function dC({children:s,location:t}){return Y3(eh(s),t)}function eh(s,t=[]){let r=[];return j.Children.forEach(s,(a,i)=>{if(!j.isValidElement(a))return;let o=[...t,i];if(a.type===j.Fragment){r.push.apply(r,eh(a.props.children,o));return}Gt(a.type===xt,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=eh(a.props.children,o)),r.push(l)}),r}var Zc="get",ed="application/x-www-form-urlencoded";function Su(s){return s!=null&&typeof s.tagName=="string"}function uC(s){return Su(s)&&s.tagName.toLowerCase()==="button"}function xC(s){return Su(s)&&s.tagName.toLowerCase()==="form"}function mC(s){return Su(s)&&s.tagName.toLowerCase()==="input"}function hC(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function pC(s,t){return s.button===0&&(!t||t==="_self")&&!hC(s)}var Tc=null;function fC(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qx(s){return s!=null&&!gC.has(s)?(Ur(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):s}function yC(s,t){let r,a,i,o,l;if(xC(s)){let c=s.getAttribute("action");a=c?ua(c,t):null,r=s.getAttribute("method")||Zc,i=qx(s.getAttribute("enctype"))||ed,o=new FormData(s)}else if(uC(s)||mC(s)&&(s.type==="submit"||s.type==="image")){let c=s.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||c.getAttribute("action");if(a=x?ua(x,t):null,r=s.getAttribute("formmethod")||c.getAttribute("method")||Zc,i=qx(s.getAttribute("formenctype"))||qx(c.getAttribute("enctype"))||ed,o=new FormData(c,s),!fC()){let{name:f,type:N,value:I}=s;if(N==="image"){let S=f?`${f}.`:"";o.append(`${S}x`,"0"),o.append(`${S}y`,"0")}else f&&o.append(f,I)}}else{if(Su(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Zc,a=null,i=ed,l=s}return o&&i==="text/plain"&&(l=o,o=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:o,body:l}}function I0(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function bC(s,t){if(s.id in t)return t[s.id];try{let r=await u3(()=>import(s.module),[]);return t[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jC(s){return s!=null&&typeof s.page=="string"}function vC(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function NC(s,t,r){let a=await Promise.all(s.map(async i=>{let o=t.routes[i.route.id];if(o){let l=await bC(o,r);return l.links?l.links():[]}return[]}));return IC(a.flat(1).filter(vC).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Og(s,t,r,a,i,o){let l=(x,f)=>r[f]?x.route.id!==r[f].route.id:!0,c=(x,f)=>{var N;return r[f].pathname!==x.pathname||((N=r[f].route.path)==null?void 0:N.endsWith("*"))&&r[f].params["*"]!==x.params["*"]};return o==="assets"?t.filter((x,f)=>l(x,f)||c(x,f)):o==="data"?t.filter((x,f)=>{var I;let N=a.routes[x.route.id];if(!N||!N.hasLoader)return!1;if(l(x,f)||c(x,f))return!0;if(x.route.shouldRevalidate){let S=x.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((I=r[0])==null?void 0:I.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function wC(s,t,{includeHydrateFallback:r}={}){return kC(s.map(a=>{let i=t.routes[a.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kC(s){return[...new Set(s)]}function CC(s){let t={},r=Object.keys(s).sort();for(let a of r)t[a]=s[a];return t}function IC(s,t){let r=new Set,a=new Set(t);return s.reduce((i,o)=>{if(t&&!jC(o)&&o.as==="script"&&o.href&&a.has(o.href))return i;let c=JSON.stringify(CC(o));return r.has(c)||(r.add(c),i.push({key:c,link:o})),i},[])}function EC(s,t){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname="_root.data":t&&ua(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function eN(){let s=j.useContext(Qi);return I0(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function SC(){let s=j.useContext(Eu);return I0(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var E0=j.createContext(void 0);E0.displayName="FrameworkContext";function tN(){let s=j.useContext(E0);return I0(s,"You must render this element inside a <HydratedRouter> element"),s}function _C(s,t){let r=j.useContext(E0),[a,i]=j.useState(!1),[o,l]=j.useState(!1),{onFocus:c,onBlur:x,onMouseEnter:f,onMouseLeave:N,onTouchStart:I}=t,S=j.useRef(null);j.useEffect(()=>{if(s==="render"&&l(!0),s==="viewport"){let L=_=>{_.forEach(z=>{l(z.isIntersecting)})},v=new IntersectionObserver(L,{threshold:.5});return S.current&&v.observe(S.current),()=>{v.disconnect()}}},[s]),j.useEffect(()=>{if(a){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[a]);let D=()=>{i(!0)},g=()=>{i(!1),l(!1)};return r?s!=="intent"?[o,S,{}]:[o,S,{onFocus:Nl(c,D),onBlur:Nl(x,g),onMouseEnter:Nl(f,D),onMouseLeave:Nl(N,g),onTouchStart:Nl(I,D)}]:[!1,S,{}]}function Nl(s,t){return r=>{s&&s(r),r.defaultPrevented||t(r)}}function PC({page:s,...t}){let{router:r}=eN(),a=j.useMemo(()=>$v(r.routes,s,r.basename),[r.routes,s,r.basename]);return a?j.createElement(DC,{page:s,matches:a,...t}):null}function TC(s){let{manifest:t,routeModules:r}=tN(),[a,i]=j.useState([]);return j.useEffect(()=>{let o=!1;return NC(s,t,r).then(l=>{o||i(l)}),()=>{o=!0}},[s,t,r]),a}function DC({page:s,matches:t,...r}){let a=Un(),{manifest:i,routeModules:o}=tN(),{basename:l}=eN(),{loaderData:c,matches:x}=SC(),f=j.useMemo(()=>Og(s,t,x,i,a,"data"),[s,t,x,i,a]),N=j.useMemo(()=>Og(s,t,x,i,a,"assets"),[s,t,x,i,a]),I=j.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let g=new Set,L=!1;if(t.forEach(_=>{var R;let z=i.routes[_.route.id];!z||!z.hasLoader||(!f.some(H=>H.route.id===_.route.id)&&_.route.id in c&&((R=o[_.route.id])!=null&&R.shouldRevalidate)||z.hasClientLoader?L=!0:g.add(_.route.id))}),g.size===0)return[];let v=EC(s,l);return L&&g.size>0&&v.searchParams.set("_routes",t.filter(_=>g.has(_.route.id)).map(_=>_.route.id).join(",")),[v.pathname+v.search]},[l,c,a,i,f,t,s,o]),S=j.useMemo(()=>wC(N,i),[N,i]),D=TC(N);return j.createElement(j.Fragment,null,I.map(g=>j.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),S.map(g=>j.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),D.map(({key:g,link:L})=>j.createElement("link",{key:g,...L})))}function AC(...s){return t=>{s.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var sN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sN&&(window.__reactRouterVersion="7.5.0")}catch{}function RC({basename:s,children:t,window:r}){let a=j.useRef();a.current==null&&(a.current=N3({window:r,v5Compat:!0}));let i=a.current,[o,l]=j.useState({action:i.action,location:i.location}),c=j.useCallback(x=>{j.startTransition(()=>l(x))},[l]);return j.useLayoutEffect(()=>i.listen(c),[i,c]),j.createElement(cC,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:i})}var rN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h=j.forwardRef(function({onClick:t,discover:r="render",prefetch:a="none",relative:i,reloadDocument:o,replace:l,state:c,target:x,to:f,preventScrollReset:N,viewTransition:I,...S},D){let{basename:g}=j.useContext(Gr),L=typeof f=="string"&&rN.test(f),v,_=!1;if(typeof f=="string"&&L&&(v=f,sN))try{let q=new URL(window.location.href),B=f.startsWith("//")?new URL(q.protocol+f):new URL(f),X=ua(B.pathname,g);B.origin===q.origin&&X!=null?f=X+B.search+B.hash:_=!0}catch{Ur(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Q3(f,{relative:i}),[R,H,K]=_C(a,S),W=LC(f,{replace:l,state:c,target:x,preventScrollReset:N,relative:i,viewTransition:I});function A(q){t&&t(q),q.defaultPrevented||W(q)}let d=j.createElement("a",{...S,...K,href:v||z,onClick:_||o?t:A,ref:AC(D,H),target:x,"data-discover":!L&&r==="render"?"true":void 0});return R&&!L?j.createElement(j.Fragment,null,d,j.createElement(PC,{page:z})):d});h.displayName="Link";var MC=j.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:x,...f},N){let I=Oo(l,{relative:f.relative}),S=Un(),D=j.useContext(Eu),{navigator:g,basename:L}=j.useContext(Gr),v=D!=null&&$C(I)&&c===!0,_=g.encodeLocation?g.encodeLocation(I).pathname:I.pathname,z=S.pathname,R=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;r||(z=z.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&L&&(R=ua(R,L)||R);const H=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let K=z===_||!i&&z.startsWith(_)&&z.charAt(H)==="/",W=R!=null&&(R===_||!i&&R.startsWith(_)&&R.charAt(_.length)==="/"),A={isActive:K,isPending:W,isTransitioning:v},d=K?t:void 0,q;typeof a=="function"?q=a(A):q=[a,K?"active":null,W?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let B=typeof o=="function"?o(A):o;return j.createElement(h,{...f,"aria-current":d,className:q,ref:N,style:B,to:l,viewTransition:c},typeof x=="function"?x(A):x)});MC.displayName="NavLink";var zC=j.forwardRef(({discover:s="render",fetcherKey:t,navigate:r,reloadDocument:a,replace:i,state:o,method:l=Zc,action:c,onSubmit:x,relative:f,preventScrollReset:N,viewTransition:I,...S},D)=>{let g=FC(),L=UC(c,{relative:f}),v=l.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&rN.test(c),z=R=>{if(x&&x(R),R.defaultPrevented)return;R.preventDefault();let H=R.nativeEvent.submitter,K=(H==null?void 0:H.getAttribute("formmethod"))||l;g(H||R.currentTarget,{fetcherKey:t,method:K,navigate:r,replace:i,state:o,relative:f,preventScrollReset:N,viewTransition:I})};return j.createElement("form",{ref:D,method:v,action:L,onSubmit:a?x:z,...S,"data-discover":!_&&s==="render"?"true":void 0})});zC.displayName="Form";function OC(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aN(s){let t=j.useContext(Qi);return Gt(t,OC(s)),t}function LC(s,{target:t,replace:r,state:a,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=ut(),x=Un(),f=Oo(s,{relative:o});return j.useCallback(N=>{if(pC(N,t)){N.preventDefault();let I=r!==void 0?r:fo(x)===fo(f);c(s,{replace:I,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[x,c,f,r,a,t,s,i,o,l])}var VC=0,BC=()=>`__${String(++VC)}__`;function FC(){let{router:s}=aN("useSubmit"),{basename:t}=j.useContext(Gr),r=nC();return j.useCallback(async(a,i={})=>{let{action:o,method:l,encType:c,formData:x,body:f}=yC(a,t);if(i.navigate===!1){let N=i.fetcherKey||BC();await s.fetch(N,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await s.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:x,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[s,t,r])}function UC(s,{relative:t}={}){let{basename:r}=j.useContext(Gr),a=j.useContext(ga);Gt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),o={...Oo(s||".",{relative:t})},l=Un();if(s==null){o.search=l.search;let c=new URLSearchParams(o.search),x=c.getAll("index");if(x.some(N=>N==="")){c.delete("index"),x.filter(I=>I).forEach(I=>c.append("index",I));let N=c.toString();o.search=N?`?${N}`:""}}return(!s||s===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:na([r,o.pathname])),fo(o)}function $C(s,t={}){let r=j.useContext(Kv);Gt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=aN("useViewTransitionState"),i=Oo(s,{relative:t.relative});if(!r.isTransitioning)return!1;let o=ua(r.currentLocation.pathname,a)||r.currentLocation.pathname,l=ua(r.nextLocation.pathname,a)||r.nextLocation.pathname;return zd(i.pathname,l)!=null||zd(i.pathname,o)!=null}new TextEncoder;var nN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lg=La.createContext&&La.createContext(nN),qC=["attr","size","title"];function WC(s,t){if(s==null)return{};var r=GC(s,t),a,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);for(i=0;i<o.length;i++)a=o[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(r[a]=s[a])}return r}function GC(s,t){if(s==null)return{};var r={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;r[a]=s[a]}return r}function Od(){return Od=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[a]=r[a])}return s},Od.apply(this,arguments)}function Vg(s,t){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(s,i).enumerable})),r.push.apply(r,a)}return r}function Ld(s){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vg(Object(r),!0).forEach(function(a){HC(s,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Vg(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))})}return s}function HC(s,t,r){return t=QC(t),t in s?Object.defineProperty(s,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[t]=r,s}function QC(s){var t=KC(s,"string");return typeof t=="symbol"?t:t+""}function KC(s,t){if(typeof s!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var a=r.call(s,t||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function iN(s){return s&&s.map((t,r)=>La.createElement(t.tag,Ld({key:r},t.attr),iN(t.child)))}function rt(s){return t=>La.createElement(YC,Od({attr:Ld({},s.attr)},t),iN(s.child))}function YC(s){var t=r=>{var{attr:a,size:i,title:o}=s,l=WC(s,qC),c=i||r.size||"1em",x;return r.className&&(x=r.className),s.className&&(x=(x?x+" ":"")+s.className),La.createElement("svg",Od({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:x,style:Ld(Ld({color:s.color||r.color},r.style),s.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&La.createElement("title",null,o),s.children)};return Lg!==void 0?La.createElement(Lg.Consumer,null,r=>t(r)):t(nN)}function S0(s){return rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(s)}function JC(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(s)}function XC(s){return rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(s)}function Bg(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"},child:[]}]})(s)}function _0(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(s)}function Fg(s){return rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(s)}function At(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(s)}function lt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(s)}function lN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(s)}function ZC(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(s)}function Qe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(s)}function Dc(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(s)}function zi(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(s)}function td(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(s)}function Ct(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(s)}function eI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(s)}function wl(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(s)}function ds(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(s)}function Ac(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(s)}function We(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(s)}function _e(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"2.18",ry:"2.18"},child:[]},{tag:"line",attr:{x1:"7",y1:"2",x2:"7",y2:"22"},child:[]},{tag:"line",attr:{x1:"17",y1:"2",x2:"17",y2:"22"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"2",y1:"7",x2:"7",y2:"7"},child:[]},{tag:"line",attr:{x1:"2",y1:"17",x2:"7",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"17",x2:"22",y2:"17"},child:[]},{tag:"line",attr:{x1:"17",y1:"7",x2:"22",y2:"7"},child:[]}]})(s)}function Ke(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(s)}function _u(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(s)}function St(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(s)}function Ye(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(s)}function oN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(s)}function gt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(s)}function tI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(s)}function wt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(s)}function Mr(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(s)}function _t(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(s)}function ve(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 18V5l12-2v13"},child:[]},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"16",r:"3"},child:[]}]})(s)}function Je(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 19l7-7 3 3-7 7-3-3z"},child:[]},{tag:"path",attr:{d:"M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"},child:[]},{tag:"path",attr:{d:"M2 2l7.586 7.586"},child:[]},{tag:"circle",attr:{cx:"11",cy:"11",r:"2"},child:[]}]})(s)}function Xe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"10 8 16 12 10 16 10 8"},child:[]}]})(s)}function Ug(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(s)}function cN(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(s)}function He(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(s)}function go(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(s)}function mt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(s)}function Rt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(s)}function Wx(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"},child:[]}]})(s)}function sI(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(s)}function th(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(s)}function re(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"},child:[]},{tag:"polyline",attr:{points:"17 2 12 7 7 2"},child:[]}]})(s)}function $g(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(s)}function Mt(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"polyline",attr:{points:"17 11 19 13 23 9"},child:[]}]})(s)}function Be(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(s)}function ql(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(s)}function Pe(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(s)}function le(s){return rt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(s)}const rI=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=function(s){const t=[];let r=0;for(let a=0;a<s.length;a++){let i=s.charCodeAt(a);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++a)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},aI=function(s){const t=[];let r=0,a=0;for(;r<s.length;){const i=s[r++];if(i<128)t[a++]=String.fromCharCode(i);else if(i>191&&i<224){const o=s[r++];t[a++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=s[r++],l=s[r++],c=s[r++],x=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;t[a++]=String.fromCharCode(55296+(x>>10)),t[a++]=String.fromCharCode(56320+(x&1023))}else{const o=s[r++],l=s[r++];t[a++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return t.join("")},uN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<s.length;i+=3){const o=s[i],l=i+1<s.length,c=l?s[i+1]:0,x=i+2<s.length,f=x?s[i+2]:0,N=o>>2,I=(o&3)<<4|c>>4;let S=(c&15)<<2|f>>6,D=f&63;x||(D=64,l||(S=64)),a.push(r[N],r[I],r[S],r[D])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(dN(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):aI(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<s.length;){const o=r[s.charAt(i++)],c=i<s.length?r[s.charAt(i)]:0;++i;const f=i<s.length?r[s.charAt(i)]:64;++i;const I=i<s.length?r[s.charAt(i)]:64;if(++i,o==null||c==null||f==null||I==null)throw new nI;const S=o<<2|c>>4;if(a.push(S),f!==64){const D=c<<4&240|f>>2;if(a.push(D),I!==64){const g=f<<6&192|I;a.push(g)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class nI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iI=function(s){const t=dN(s);return uN.encodeByteArray(t,!0)},Vd=function(s){return iI(s).replace(/\./g,"")},xN=function(s){try{return uN.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=()=>lI().__FIREBASE_DEFAULTS__,cI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const s={}.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},dI=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&xN(s[1]);return t&&JSON.parse(t)},Pu=()=>{try{return rI()||oI()||cI()||dI()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},mN=s=>{var t,r;return(r=(t=Pu())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[s]},hN=s=>{const t=mN(s);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),a]:[t.substring(0,r),a]},pN=()=>{var s;return(s=Pu())===null||s===void 0?void 0:s.config},fN=s=>{var t;return(t=Pu())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,a)=>{r?this.reject(r):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},a=t||"demo-project",i=s.iat||0,o=s.sub||s.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},s),c="";return[Vd(JSON.stringify(r)),Vd(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ts())}function mI(){var s;const t=(s=Pu())===null||s===void 0?void 0:s.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function pI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fI(){const s=Ts();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function gI(){return!mI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bN(){try{return typeof indexedDB=="object"}catch{return!1}}function jN(){return new Promise((s,t)=>{try{let r=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(a),s(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var o;t(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(r){t(r)}})}function yI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="FirebaseError";class hr extends Error{constructor(t,r,a){super(r),this.code=t,this.customData=a,this.name=bI,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}}class $n{constructor(t,r,a){this.service=t,this.serviceName=r,this.errors=a}create(t,...r){const a=r[0]||{},i=`${this.service}/${t}`,o=this.errors[t],l=o?jI(o,a):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new hr(i,c,a)}}function jI(s,t){return s.replace(vI,(r,a)=>{const i=t[a];return i!=null?String(i):`<${a}?>`})}const vI=/\{\$([^}]+)}/g;function NI(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Za(s,t){if(s===t)return!0;const r=Object.keys(s),a=Object.keys(t);for(const i of r){if(!a.includes(i))return!1;const o=s[i],l=t[i];if(qg(o)&&qg(l)){if(!Za(o,l))return!1}else if(o!==l)return!1}for(const i of a)if(!r.includes(i))return!1;return!0}function qg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(s){const t=[];for(const[r,a]of Object.entries(s))Array.isArray(a)?a.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _l(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,o]=a.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Pl(s){const t=s.indexOf("?");if(!t)return"";const r=s.indexOf("#",t);return s.substring(t,r>0?r:void 0)}function wI(s,t){const r=new kI(s,t);return r.subscribe.bind(r)}class kI{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,a){let i;if(t===void 0&&r===void 0&&a===void 0)throw new Error("Missing Observer.");CI(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:a},i.next===void 0&&(i.next=Gx),i.error===void 0&&(i.error=Gx),i.complete===void 0&&(i.complete=Gx);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CI(s,t){if(typeof s!="object"||s===null)return!1;for(const r of t)if(r in s&&typeof s[r]=="function")return!0;return!1}function Gx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=1e3,EI=2,SI=4*60*60*1e3,_I=.5;function Wg(s,t=II,r=EI){const a=t*Math.pow(r,s),i=Math.round(_I*a*(Math.random()-.5)*2);return Math.min(SI,a+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(s){return s&&s._delegate?s._delegate:s}class mr{constructor(t,r,a){this.name=t,this.instanceFactory=r,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const a=new uI;if(this.instancesDeferred.set(r,a),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DI(t))try{this.getOrInitializeService({instanceIdentifier:bn})}catch{}for(const[r,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const o=this.getOrInitializeService({instanceIdentifier:i});a.resolve(o)}catch{}}}}clearInstance(t=bn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bn){return this.instances.has(t)}getOptions(t=bn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:r});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);a===c&&l.resolve(i)}return i}onInit(t,r){var a;const i=this.normalizeInstanceIdentifier(r),o=(a=this.onInitCallbacks.get(i))!==null&&a!==void 0?a:new Set;o.add(t),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&t(l,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,r){const a=this.onInitCallbacks.get(r);if(a)for(const i of a)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:TI(t),options:r}),this.instances.set(t,a),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=bn){return this.component?this.component.multipleInstances?t:bn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TI(s){return s===bn?void 0:s}function DI(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new PI(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(pt||(pt={}));const RI={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},MI=pt.INFO,zI={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},OI=(s,t,...r)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),i=zI[t];if(i)console[i](`[${a}]  ${s.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tu{constructor(t){this.name=t,this._logLevel=MI,this._logHandler=OI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}const LI=(s,t)=>t.some(r=>s instanceof r);let Gg,Hg;function VI(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BI(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vN=new WeakMap,sh=new WeakMap,NN=new WeakMap,Hx=new WeakMap,P0=new WeakMap;function FI(s){const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("success",o),s.removeEventListener("error",l)},o=()=>{r(Ha(s.result)),i()},l=()=>{a(s.error),i()};s.addEventListener("success",o),s.addEventListener("error",l)});return t.then(r=>{r instanceof IDBCursor&&vN.set(r,s)}).catch(()=>{}),P0.set(t,s),t}function UI(s){if(sh.has(s))return;const t=new Promise((r,a)=>{const i=()=>{s.removeEventListener("complete",o),s.removeEventListener("error",l),s.removeEventListener("abort",l)},o=()=>{r(),i()},l=()=>{a(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",o),s.addEventListener("error",l),s.addEventListener("abort",l)});sh.set(s,t)}let rh={get(s,t,r){if(s instanceof IDBTransaction){if(t==="done")return sh.get(s);if(t==="objectStoreNames")return s.objectStoreNames||NN.get(s);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ha(s[t])},set(s,t,r){return s[t]=r,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $I(s){rh=s(rh)}function qI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const a=s.call(Qx(this),t,...r);return NN.set(a,t.sort?t.sort():[t]),Ha(a)}:BI().includes(s)?function(...t){return s.apply(Qx(this),t),Ha(vN.get(this))}:function(...t){return Ha(s.apply(Qx(this),t))}}function WI(s){return typeof s=="function"?qI(s):(s instanceof IDBTransaction&&UI(s),LI(s,VI())?new Proxy(s,rh):s)}function Ha(s){if(s instanceof IDBRequest)return FI(s);if(Hx.has(s))return Hx.get(s);const t=WI(s);return t!==s&&(Hx.set(s,t),P0.set(t,s)),t}const Qx=s=>P0.get(s);function wN(s,t,{blocked:r,upgrade:a,blocking:i,terminated:o}={}){const l=indexedDB.open(s,t),c=Ha(l);return a&&l.addEventListener("upgradeneeded",x=>{a(Ha(l.result),x.oldVersion,x.newVersion,Ha(l.transaction),x)}),r&&l.addEventListener("blocked",x=>r(x.oldVersion,x.newVersion,x)),c.then(x=>{o&&x.addEventListener("close",()=>o()),i&&x.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const GI=["get","getKey","getAll","getAllKeys","count"],HI=["put","add","delete","clear"],Kx=new Map;function Qg(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kx.get(t))return Kx.get(t);const r=t.replace(/FromIndex$/,""),a=t!==r,i=HI.includes(r);if(!(r in(a?IDBIndex:IDBObjectStore).prototype)||!(i||GI.includes(r)))return;const o=async function(l,...c){const x=this.transaction(l,i?"readwrite":"readonly");let f=x.store;return a&&(f=f.index(c.shift())),(await Promise.all([f[r](...c),i&&x.done]))[0]};return Kx.set(t,o),o}$I(s=>({...s,get:(t,r,a)=>Qg(t,r)||s.get(t,r,a),has:(t,r)=>!!Qg(t,r)||s.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(KI(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function KI(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ah="@firebase/app",Kg="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Tu("@firebase/app"),YI="@firebase/app-compat",JI="@firebase/analytics-compat",XI="@firebase/analytics",ZI="@firebase/app-check-compat",eE="@firebase/app-check",tE="@firebase/auth",sE="@firebase/auth-compat",rE="@firebase/database",aE="@firebase/data-connect",nE="@firebase/database-compat",iE="@firebase/functions",lE="@firebase/functions-compat",oE="@firebase/installations",cE="@firebase/installations-compat",dE="@firebase/messaging",uE="@firebase/messaging-compat",xE="@firebase/performance",mE="@firebase/performance-compat",hE="@firebase/remote-config",pE="@firebase/remote-config-compat",fE="@firebase/storage",gE="@firebase/storage-compat",yE="@firebase/firestore",bE="@firebase/vertexai",jE="@firebase/firestore-compat",vE="firebase",NE="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="[DEFAULT]",wE={[ah]:"fire-core",[YI]:"fire-core-compat",[XI]:"fire-analytics",[JI]:"fire-analytics-compat",[eE]:"fire-app-check",[ZI]:"fire-app-check-compat",[tE]:"fire-auth",[sE]:"fire-auth-compat",[rE]:"fire-rtdb",[aE]:"fire-data-connect",[nE]:"fire-rtdb-compat",[iE]:"fire-fn",[lE]:"fire-fn-compat",[oE]:"fire-iid",[cE]:"fire-iid-compat",[dE]:"fire-fcm",[uE]:"fire-fcm-compat",[xE]:"fire-perf",[mE]:"fire-perf-compat",[hE]:"fire-rc",[pE]:"fire-rc-compat",[fE]:"fire-gcs",[gE]:"fire-gcs-compat",[yE]:"fire-fst",[jE]:"fire-fst-compat",[bE]:"fire-vertex","fire-js":"fire-js",[vE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,kE=new Map,ih=new Map;function Yg(s,t){try{s.container.addComponent(t)}catch(r){xa.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,r)}}function Er(s){const t=s.name;if(ih.has(t))return xa.debug(`There were multiple attempts to register component ${t}.`),!1;ih.set(t,s);for(const r of Bd.values())Yg(r,s);for(const r of kE.values())Yg(r,s);return!0}function dn(s,t){const r=s.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),s.container.getProvider(t)}function Ys(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new $n("app","Firebase",CE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t,r,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn=NE;function kN(s,t={}){let r=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:nh,automaticDataCollectionEnabled:!1},t),i=a.name;if(typeof i!="string"||!i)throw Qa.create("bad-app-name",{appName:String(i)});if(r||(r=pN()),!r)throw Qa.create("no-options");const o=Bd.get(i);if(o){if(Za(r,o.options)&&Za(a,o.config))return o;throw Qa.create("duplicate-app",{appName:i})}const l=new AI(i);for(const x of ih.values())l.addComponent(x);const c=new IE(r,a,l);return Bd.set(i,c),c}function Du(s=nh){const t=Bd.get(s);if(!t&&s===nh&&pN())return kN();if(!t)throw Qa.create("no-app",{appName:s});return t}function Ws(s,t,r){var a;let i=(a=wE[s])!==null&&a!==void 0?a:s;r&&(i+=`-${r}`);const o=i.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${t}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xa.warn(c.join(" "));return}Er(new mr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="firebase-heartbeat-database",SE=1,yo="firebase-heartbeat-store";let Yx=null;function CN(){return Yx||(Yx=wN(EE,SE,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(yo)}catch(r){console.warn(r)}}}}).catch(s=>{throw Qa.create("idb-open",{originalErrorMessage:s.message})})),Yx}async function _E(s){try{const r=(await CN()).transaction(yo),a=await r.objectStore(yo).get(IN(s));return await r.done,a}catch(t){if(t instanceof hr)xa.warn(t.message);else{const r=Qa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xa.warn(r.message)}}}async function Jg(s,t){try{const a=(await CN()).transaction(yo,"readwrite");await a.objectStore(yo).put(t,IN(s)),await a.done}catch(r){if(r instanceof hr)xa.warn(r.message);else{const a=Qa.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xa.warn(a.message)}}}function IN(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=1024,TE=30;class DE{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new RE(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Xg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>TE){const l=ME(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){xa.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Xg(),{heartbeatsToSend:a,unsentEntries:i}=AE(this._heartbeatsCache.heartbeats),o=Vd(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(r){return xa.warn(r),""}}}function Xg(){return new Date().toISOString().substring(0,10)}function AE(s,t=PE){const r=[];let a=s.slice();for(const i of s){const o=r.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Zg(r)>t){o.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Zg(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class RE{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bN()?jN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _E(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Jg(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Zg(s){return Vd(JSON.stringify({version:2,heartbeats:s})).length}function ME(s){if(s.length===0)return-1;let t=0,r=s[0].date;for(let a=1;a<s.length;a++)s[a].date<r&&(r=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s){Er(new mr("platform-logger",t=>new QI(t),"PRIVATE")),Er(new mr("heartbeat",t=>new DE(t),"PRIVATE")),Ws(ah,Kg,s),Ws(ah,Kg,"esm2017"),Ws("fire-js","")}zE("");var OE="firebase",LE="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ws(OE,LE,"app");const EN="@firebase/installations",T0="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=1e4,_N=`w:${T0}`,PN="FIS_v2",VE="https://firebaseinstallations.googleapis.com/v1",BE=60*60*1e3,FE="installations",UE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},An=new $n(FE,UE,$E);function TN(s){return s instanceof hr&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN({projectId:s}){return`${VE}/projects/${s}/installations`}function AN(s){return{token:s.token,requestStatus:2,expiresIn:WE(s.expiresIn),creationTime:Date.now()}}async function RN(s,t){const a=(await t.json()).error;return An.create("request-failed",{requestName:s,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function MN({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function qE(s,{refreshToken:t}){const r=MN(s);return r.append("Authorization",GE(t)),r}async function zN(s){const t=await s();return t.status>=500&&t.status<600?s():t}function WE(s){return Number(s.replace("s","000"))}function GE(s){return`${PN} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE({appConfig:s,heartbeatServiceProvider:t},{fid:r}){const a=DN(s),i=MN(s),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={fid:r,authVersion:PN,appId:s.appId,sdkVersion:_N},c={method:"POST",headers:i,body:JSON.stringify(l)},x=await zN(()=>fetch(a,c));if(x.ok){const f=await x.json();return{fid:f.fid||r,registrationStatus:2,refreshToken:f.refreshToken,authToken:AN(f.authToken)}}else throw await RN("Create Installation",x)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(s){return new Promise(t=>{setTimeout(t,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=/^[cdef][\w-]{21}$/,lh="";function YE(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const r=JE(s);return KE.test(r)?r:lh}catch{return lh}}function JE(s){return QE(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new Map;function VN(s,t){const r=Au(s);BN(r,t),XE(r,t)}function BN(s,t){const r=LN.get(s);if(r)for(const a of r)a(t)}function XE(s,t){const r=ZE();r&&r.postMessage({key:s,fid:t}),e1()}let wn=null;function ZE(){return!wn&&"BroadcastChannel"in self&&(wn=new BroadcastChannel("[Firebase] FID Change"),wn.onmessage=s=>{BN(s.data.key,s.data.fid)}),wn}function e1(){LN.size===0&&wn&&(wn.close(),wn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="firebase-installations-database",s1=1,Rn="firebase-installations-store";let Jx=null;function D0(){return Jx||(Jx=wN(t1,s1,{upgrade:(s,t)=>{switch(t){case 0:s.createObjectStore(Rn)}}})),Jx}async function Fd(s,t){const r=Au(s),i=(await D0()).transaction(Rn,"readwrite"),o=i.objectStore(Rn),l=await o.get(r);return await o.put(t,r),await i.done,(!l||l.fid!==t.fid)&&VN(s,t.fid),t}async function FN(s){const t=Au(s),a=(await D0()).transaction(Rn,"readwrite");await a.objectStore(Rn).delete(t),await a.done}async function Ru(s,t){const r=Au(s),i=(await D0()).transaction(Rn,"readwrite"),o=i.objectStore(Rn),l=await o.get(r),c=t(l);return c===void 0?await o.delete(r):await o.put(c,r),await i.done,c&&(!l||l.fid!==c.fid)&&VN(s,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(s){let t;const r=await Ru(s.appConfig,a=>{const i=r1(a),o=a1(s,i);return t=o.registrationPromise,o.installationEntry});return r.fid===lh?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function r1(s){const t=s||{fid:YE(),registrationStatus:0};return UN(t)}function a1(s,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(An.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=n1(s,r);return{installationEntry:r,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:i1(s)}:{installationEntry:t}}async function n1(s,t){try{const r=await HE(s,t);return Fd(s.appConfig,r)}catch(r){throw TN(r)&&r.customData.serverCode===409?await FN(s.appConfig):await Fd(s.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function i1(s){let t=await ey(s.appConfig);for(;t.registrationStatus===1;)await ON(100),t=await ey(s.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:a}=await A0(s);return a||r}return t}function ey(s){return Ru(s,t=>{if(!t)throw An.create("installation-not-found");return UN(t)})}function UN(s){return l1(s)?{fid:s.fid,registrationStatus:0}:s}function l1(s){return s.registrationStatus===1&&s.registrationTime+SN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1({appConfig:s,heartbeatServiceProvider:t},r){const a=c1(s,r),i=qE(s,r),o=t.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const l={installation:{sdkVersion:_N,appId:s.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},x=await zN(()=>fetch(a,c));if(x.ok){const f=await x.json();return AN(f)}else throw await RN("Generate Auth Token",x)}function c1(s,{fid:t}){return`${DN(s)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(s,t=!1){let r;const a=await Ru(s.appConfig,o=>{if(!$N(o))throw An.create("not-registered");const l=o.authToken;if(!t&&x1(l))return o;if(l.requestStatus===1)return r=d1(s,t),o;{if(!navigator.onLine)throw An.create("app-offline");const c=h1(o);return r=u1(s,c),c}});return r?await r:a.authToken}async function d1(s,t){let r=await ty(s.appConfig);for(;r.authToken.requestStatus===1;)await ON(100),r=await ty(s.appConfig);const a=r.authToken;return a.requestStatus===0?R0(s,t):a}function ty(s){return Ru(s,t=>{if(!$N(t))throw An.create("not-registered");const r=t.authToken;return p1(r)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function u1(s,t){try{const r=await o1(s,t),a=Object.assign(Object.assign({},t),{authToken:r});return await Fd(s.appConfig,a),r}catch(r){if(TN(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await FN(s.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Fd(s.appConfig,a)}throw r}}function $N(s){return s!==void 0&&s.registrationStatus===2}function x1(s){return s.requestStatus===2&&!m1(s)}function m1(s){const t=Date.now();return t<s.creationTime||s.creationTime+s.expiresIn<t+BE}function h1(s){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},s),{authToken:t})}function p1(s){return s.requestStatus===1&&s.requestTime+SN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1(s){const t=s,{installationEntry:r,registrationPromise:a}=await A0(t);return a?a.catch(console.error):R0(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(s,t=!1){const r=s;return await y1(r),(await R0(r,t)).token}async function y1(s){const{registrationPromise:t}=await A0(s);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){if(!s||!s.options)throw Xx("App Configuration");if(!s.name)throw Xx("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!s.options[r])throw Xx(r);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function Xx(s){return An.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="installations",j1="installations-internal",v1=s=>{const t=s.getProvider("app").getImmediate(),r=b1(t),a=dn(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},N1=s=>{const t=s.getProvider("app").getImmediate(),r=dn(t,qN).getImmediate();return{getId:()=>f1(r),getToken:i=>g1(r,i)}};function w1(){Er(new mr(qN,v1,"PUBLIC")),Er(new mr(j1,N1,"PRIVATE"))}w1();Ws(EN,T0);Ws(EN,T0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="analytics",k1="firebase_id",C1="origin",I1=60*1e3,E1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",M0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new Tu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},er=new $n("analytics","Analytics",S1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s){if(!s.startsWith(M0)){const t=er.create("invalid-gtag-resource",{gtagURL:s});return Gs.warn(t.message),""}return s}function WN(s){return Promise.all(s.map(t=>t.catch(r=>r)))}function P1(s,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(s,t)),r}function T1(s,t){const r=P1("firebase-js-sdk-policy",{createScriptURL:_1}),a=document.createElement("script"),i=`${M0}?l=${s}&id=${t}`;a.src=r?r==null?void 0:r.createScriptURL(i):i,a.async=!0,document.head.appendChild(a)}function D1(s){let t=[];return Array.isArray(window[s])?t=window[s]:window[s]=t,t}async function A1(s,t,r,a,i,o){const l=a[i];try{if(l)await t[l];else{const x=(await WN(r)).find(f=>f.measurementId===i);x&&await t[x.appId]}}catch(c){Gs.error(c)}s("config",i,o)}async function R1(s,t,r,a,i){try{let o=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await WN(r);for(const x of l){const f=c.find(I=>I.measurementId===x),N=f&&t[f.appId];if(N)o.push(N);else{o=[];break}}}o.length===0&&(o=Object.values(t)),await Promise.all(o),s("event",a,i||{})}catch(o){Gs.error(o)}}function M1(s,t,r,a){async function i(o,...l){try{if(o==="event"){const[c,x]=l;await R1(s,t,r,c,x)}else if(o==="config"){const[c,x]=l;await A1(s,t,r,a,c,x)}else if(o==="consent"){const[c,x]=l;s("consent",c,x)}else if(o==="get"){const[c,x,f]=l;s("get",c,x,f)}else if(o==="set"){const[c]=l;s("set",c)}else s(o,...l)}catch(c){Gs.error(c)}}return i}function z1(s,t,r,a,i){let o=function(...l){window[a].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=M1(o,s,t,r),{gtagCore:o,wrappedGtag:window[i]}}function O1(s){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(M0)&&r.src.includes(s))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=30,V1=1e3;class B1{constructor(t={},r=V1){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const GN=new B1;function F1(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function U1(s){var t;const{appId:r,apiKey:a}=s,i={method:"GET",headers:F1(a)},o=E1.replace("{app-id}",r),l=await fetch(o,i);if(l.status!==200&&l.status!==304){let c="";try{const x=await l.json();!((t=x.error)===null||t===void 0)&&t.message&&(c=x.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function $1(s,t=GN,r){const{appId:a,apiKey:i,measurementId:o}=s.options;if(!a)throw er.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:a};throw er.create("no-api-key")}const l=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new G1;return setTimeout(async()=>{c.abort()},r!==void 0?r:I1),HN({appId:a,apiKey:i,measurementId:o},l,c,t)}async function HN(s,{throttleEndTimeMillis:t,backoffCount:r},a,i=GN){var o;const{appId:l,measurementId:c}=s;try{await q1(a,t)}catch(x){if(c)return Gs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${x==null?void 0:x.message}]`),{appId:l,measurementId:c};throw x}try{const x=await U1(s);return i.deleteThrottleMetadata(l),x}catch(x){const f=x;if(!W1(f)){if(i.deleteThrottleMetadata(l),c)return Gs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw x}const N=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?Wg(r,i.intervalMillis,L1):Wg(r,i.intervalMillis),I={throttleEndTimeMillis:Date.now()+N,backoffCount:r+1};return i.setThrottleMetadata(l,I),Gs.debug(`Calling attemptFetch again in ${N} millis`),HN(s,I,a,i)}}function q1(s,t){return new Promise((r,a)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(r,i);s.addEventListener(()=>{clearTimeout(o),a(er.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function W1(s){if(!(s instanceof hr)||!s.customData)return!1;const t=Number(s.customData.httpStatus);return t===429||t===500||t===503||t===504}class G1{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function H1(s,t,r,a,i){if(i&&i.global){s("event",r,a);return}else{const o=await t,l=Object.assign(Object.assign({},a),{send_to:o});s("event",r,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q1(){if(bN())try{await jN()}catch(s){return Gs.warn(er.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return Gs.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function K1(s,t,r,a,i,o,l){var c;const x=$1(s);x.then(D=>{r[D.measurementId]=D.appId,s.options.measurementId&&D.measurementId!==s.options.measurementId&&Gs.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>Gs.error(D)),t.push(x);const f=Q1().then(D=>{if(D)return a.getId()}),[N,I]=await Promise.all([x,f]);O1(o)||T1(o,N.measurementId),i("js",new Date);const S=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return S[C1]="firebase",S.update=!0,I!=null&&(S[k1]=I),i("config",N.measurementId,S),N.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(t){this.app=t}_delete(){return delete Wl[this.app.options.appId],Promise.resolve()}}let Wl={},sy=[];const ry={};let Zx="dataLayer",J1="gtag",ay,QN,ny=!1;function X1(){const s=[];if(yN()&&s.push("This is a browser extension environment."),yI()||s.push("Cookies are not available."),s.length>0){const t=s.map((a,i)=>`(${i+1}) ${a}`).join(" "),r=er.create("invalid-analytics-context",{errorInfo:t});Gs.warn(r.message)}}function Z1(s,t,r){X1();const a=s.options.appId;if(!a)throw er.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)Gs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw er.create("no-api-key");if(Wl[a]!=null)throw er.create("already-exists",{id:a});if(!ny){D1(Zx);const{wrappedGtag:o,gtagCore:l}=z1(Wl,sy,ry,Zx,J1);QN=o,ay=l,ny=!0}return Wl[a]=K1(s,sy,ry,t,ay,Zx,r),new Y1(s)}function eS(s=Du()){s=Vt(s);const t=dn(s,Ud);return t.isInitialized()?t.getImmediate():tS(s)}function tS(s,t={}){const r=dn(s,Ud);if(r.isInitialized()){const i=r.getImmediate();if(Za(t,r.getOptions()))return i;throw er.create("already-initialized")}return r.initialize({options:t})}function sS(s,t,r,a){s=Vt(s),H1(QN,Wl[s.app.options.appId],t,r,a).catch(i=>Gs.error(i))}const iy="@firebase/analytics",ly="0.10.12";function rS(){Er(new mr(Ud,(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Z1(a,i,r)},"PUBLIC")),Er(new mr("analytics-internal",s,"PRIVATE")),Ws(iy,ly),Ws(iy,ly,"esm2017");function s(t){try{const r=t.getProvider(Ud).getImmediate();return{logEvent:(a,i,o)=>sS(r,a,i,o)}}catch(r){throw er.create("interop-component-reg-failed",{reason:r})}}}rS();var oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ka,KN;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,d){function q(){}q.prototype=d.prototype,A.D=d.prototype,A.prototype=new q,A.prototype.constructor=A,A.C=function(B,X,E){for(var U=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)U[Ae-2]=arguments[Ae];return d.prototype[X].apply(B,U)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,r),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,d,q){q||(q=0);var B=Array(16);if(typeof d=="string")for(var X=0;16>X;++X)B[X]=d.charCodeAt(q++)|d.charCodeAt(q++)<<8|d.charCodeAt(q++)<<16|d.charCodeAt(q++)<<24;else for(X=0;16>X;++X)B[X]=d[q++]|d[q++]<<8|d[q++]<<16|d[q++]<<24;d=A.g[0],q=A.g[1],X=A.g[2];var E=A.g[3],U=d+(E^q&(X^E))+B[0]+3614090360&4294967295;d=q+(U<<7&4294967295|U>>>25),U=E+(X^d&(q^X))+B[1]+3905402710&4294967295,E=d+(U<<12&4294967295|U>>>20),U=X+(q^E&(d^q))+B[2]+606105819&4294967295,X=E+(U<<17&4294967295|U>>>15),U=q+(d^X&(E^d))+B[3]+3250441966&4294967295,q=X+(U<<22&4294967295|U>>>10),U=d+(E^q&(X^E))+B[4]+4118548399&4294967295,d=q+(U<<7&4294967295|U>>>25),U=E+(X^d&(q^X))+B[5]+1200080426&4294967295,E=d+(U<<12&4294967295|U>>>20),U=X+(q^E&(d^q))+B[6]+2821735955&4294967295,X=E+(U<<17&4294967295|U>>>15),U=q+(d^X&(E^d))+B[7]+4249261313&4294967295,q=X+(U<<22&4294967295|U>>>10),U=d+(E^q&(X^E))+B[8]+1770035416&4294967295,d=q+(U<<7&4294967295|U>>>25),U=E+(X^d&(q^X))+B[9]+2336552879&4294967295,E=d+(U<<12&4294967295|U>>>20),U=X+(q^E&(d^q))+B[10]+4294925233&4294967295,X=E+(U<<17&4294967295|U>>>15),U=q+(d^X&(E^d))+B[11]+2304563134&4294967295,q=X+(U<<22&4294967295|U>>>10),U=d+(E^q&(X^E))+B[12]+1804603682&4294967295,d=q+(U<<7&4294967295|U>>>25),U=E+(X^d&(q^X))+B[13]+4254626195&4294967295,E=d+(U<<12&4294967295|U>>>20),U=X+(q^E&(d^q))+B[14]+2792965006&4294967295,X=E+(U<<17&4294967295|U>>>15),U=q+(d^X&(E^d))+B[15]+1236535329&4294967295,q=X+(U<<22&4294967295|U>>>10),U=d+(X^E&(q^X))+B[1]+4129170786&4294967295,d=q+(U<<5&4294967295|U>>>27),U=E+(q^X&(d^q))+B[6]+3225465664&4294967295,E=d+(U<<9&4294967295|U>>>23),U=X+(d^q&(E^d))+B[11]+643717713&4294967295,X=E+(U<<14&4294967295|U>>>18),U=q+(E^d&(X^E))+B[0]+3921069994&4294967295,q=X+(U<<20&4294967295|U>>>12),U=d+(X^E&(q^X))+B[5]+3593408605&4294967295,d=q+(U<<5&4294967295|U>>>27),U=E+(q^X&(d^q))+B[10]+38016083&4294967295,E=d+(U<<9&4294967295|U>>>23),U=X+(d^q&(E^d))+B[15]+3634488961&4294967295,X=E+(U<<14&4294967295|U>>>18),U=q+(E^d&(X^E))+B[4]+3889429448&4294967295,q=X+(U<<20&4294967295|U>>>12),U=d+(X^E&(q^X))+B[9]+568446438&4294967295,d=q+(U<<5&4294967295|U>>>27),U=E+(q^X&(d^q))+B[14]+3275163606&4294967295,E=d+(U<<9&4294967295|U>>>23),U=X+(d^q&(E^d))+B[3]+4107603335&4294967295,X=E+(U<<14&4294967295|U>>>18),U=q+(E^d&(X^E))+B[8]+1163531501&4294967295,q=X+(U<<20&4294967295|U>>>12),U=d+(X^E&(q^X))+B[13]+2850285829&4294967295,d=q+(U<<5&4294967295|U>>>27),U=E+(q^X&(d^q))+B[2]+4243563512&4294967295,E=d+(U<<9&4294967295|U>>>23),U=X+(d^q&(E^d))+B[7]+1735328473&4294967295,X=E+(U<<14&4294967295|U>>>18),U=q+(E^d&(X^E))+B[12]+2368359562&4294967295,q=X+(U<<20&4294967295|U>>>12),U=d+(q^X^E)+B[5]+4294588738&4294967295,d=q+(U<<4&4294967295|U>>>28),U=E+(d^q^X)+B[8]+2272392833&4294967295,E=d+(U<<11&4294967295|U>>>21),U=X+(E^d^q)+B[11]+1839030562&4294967295,X=E+(U<<16&4294967295|U>>>16),U=q+(X^E^d)+B[14]+4259657740&4294967295,q=X+(U<<23&4294967295|U>>>9),U=d+(q^X^E)+B[1]+2763975236&4294967295,d=q+(U<<4&4294967295|U>>>28),U=E+(d^q^X)+B[4]+1272893353&4294967295,E=d+(U<<11&4294967295|U>>>21),U=X+(E^d^q)+B[7]+4139469664&4294967295,X=E+(U<<16&4294967295|U>>>16),U=q+(X^E^d)+B[10]+3200236656&4294967295,q=X+(U<<23&4294967295|U>>>9),U=d+(q^X^E)+B[13]+681279174&4294967295,d=q+(U<<4&4294967295|U>>>28),U=E+(d^q^X)+B[0]+3936430074&4294967295,E=d+(U<<11&4294967295|U>>>21),U=X+(E^d^q)+B[3]+3572445317&4294967295,X=E+(U<<16&4294967295|U>>>16),U=q+(X^E^d)+B[6]+76029189&4294967295,q=X+(U<<23&4294967295|U>>>9),U=d+(q^X^E)+B[9]+3654602809&4294967295,d=q+(U<<4&4294967295|U>>>28),U=E+(d^q^X)+B[12]+3873151461&4294967295,E=d+(U<<11&4294967295|U>>>21),U=X+(E^d^q)+B[15]+530742520&4294967295,X=E+(U<<16&4294967295|U>>>16),U=q+(X^E^d)+B[2]+3299628645&4294967295,q=X+(U<<23&4294967295|U>>>9),U=d+(X^(q|~E))+B[0]+4096336452&4294967295,d=q+(U<<6&4294967295|U>>>26),U=E+(q^(d|~X))+B[7]+1126891415&4294967295,E=d+(U<<10&4294967295|U>>>22),U=X+(d^(E|~q))+B[14]+2878612391&4294967295,X=E+(U<<15&4294967295|U>>>17),U=q+(E^(X|~d))+B[5]+4237533241&4294967295,q=X+(U<<21&4294967295|U>>>11),U=d+(X^(q|~E))+B[12]+1700485571&4294967295,d=q+(U<<6&4294967295|U>>>26),U=E+(q^(d|~X))+B[3]+2399980690&4294967295,E=d+(U<<10&4294967295|U>>>22),U=X+(d^(E|~q))+B[10]+4293915773&4294967295,X=E+(U<<15&4294967295|U>>>17),U=q+(E^(X|~d))+B[1]+2240044497&4294967295,q=X+(U<<21&4294967295|U>>>11),U=d+(X^(q|~E))+B[8]+1873313359&4294967295,d=q+(U<<6&4294967295|U>>>26),U=E+(q^(d|~X))+B[15]+4264355552&4294967295,E=d+(U<<10&4294967295|U>>>22),U=X+(d^(E|~q))+B[6]+2734768916&4294967295,X=E+(U<<15&4294967295|U>>>17),U=q+(E^(X|~d))+B[13]+1309151649&4294967295,q=X+(U<<21&4294967295|U>>>11),U=d+(X^(q|~E))+B[4]+4149444226&4294967295,d=q+(U<<6&4294967295|U>>>26),U=E+(q^(d|~X))+B[11]+3174756917&4294967295,E=d+(U<<10&4294967295|U>>>22),U=X+(d^(E|~q))+B[2]+718787259&4294967295,X=E+(U<<15&4294967295|U>>>17),U=q+(E^(X|~d))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+d&4294967295,A.g[1]=A.g[1]+(X+(U<<21&4294967295|U>>>11))&4294967295,A.g[2]=A.g[2]+X&4294967295,A.g[3]=A.g[3]+E&4294967295}a.prototype.u=function(A,d){d===void 0&&(d=A.length);for(var q=d-this.blockSize,B=this.B,X=this.h,E=0;E<d;){if(X==0)for(;E<=q;)i(this,A,E),E+=this.blockSize;if(typeof A=="string"){for(;E<d;)if(B[X++]=A.charCodeAt(E++),X==this.blockSize){i(this,B),X=0;break}}else for(;E<d;)if(B[X++]=A[E++],X==this.blockSize){i(this,B),X=0;break}}this.h=X,this.o+=d},a.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var d=1;d<A.length-8;++d)A[d]=0;var q=8*this.o;for(d=A.length-8;d<A.length;++d)A[d]=q&255,q/=256;for(this.u(A),A=Array(16),d=q=0;4>d;++d)for(var B=0;32>B;B+=8)A[q++]=this.g[d]>>>B&255;return A};function o(A,d){var q=c;return Object.prototype.hasOwnProperty.call(q,A)?q[A]:q[A]=d(A)}function l(A,d){this.h=d;for(var q=[],B=!0,X=A.length-1;0<=X;X--){var E=A[X]|0;B&&E==d||(q[X]=E,B=!1)}this.g=q}var c={};function x(A){return-128<=A&&128>A?o(A,function(d){return new l([d|0],0>d?-1:0)}):new l([A|0],0>A?-1:0)}function f(A){if(isNaN(A)||!isFinite(A))return I;if(0>A)return v(f(-A));for(var d=[],q=1,B=0;A>=q;B++)d[B]=A/q|0,q*=4294967296;return new l(d,0)}function N(A,d){if(A.length==0)throw Error("number format error: empty string");if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(A.charAt(0)=="-")return v(N(A.substring(1),d));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var q=f(Math.pow(d,8)),B=I,X=0;X<A.length;X+=8){var E=Math.min(8,A.length-X),U=parseInt(A.substring(X,X+E),d);8>E?(E=f(Math.pow(d,E)),B=B.j(E).add(f(U))):(B=B.j(q),B=B.add(f(U)))}return B}var I=x(0),S=x(1),D=x(16777216);s=l.prototype,s.m=function(){if(L(this))return-v(this).m();for(var A=0,d=1,q=0;q<this.g.length;q++){var B=this.i(q);A+=(0<=B?B:4294967296+B)*d,d*=4294967296}return A},s.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(g(this))return"0";if(L(this))return"-"+v(this).toString(A);for(var d=f(Math.pow(A,6)),q=this,B="";;){var X=H(q,d).g;q=_(q,X.j(d));var E=((0<q.g.length?q.g[0]:q.h)>>>0).toString(A);if(q=X,g(q))return E+B;for(;6>E.length;)E="0"+E;B=E+B}},s.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function g(A){if(A.h!=0)return!1;for(var d=0;d<A.g.length;d++)if(A.g[d]!=0)return!1;return!0}function L(A){return A.h==-1}s.l=function(A){return A=_(this,A),L(A)?-1:g(A)?0:1};function v(A){for(var d=A.g.length,q=[],B=0;B<d;B++)q[B]=~A.g[B];return new l(q,~A.h).add(S)}s.abs=function(){return L(this)?v(this):this},s.add=function(A){for(var d=Math.max(this.g.length,A.g.length),q=[],B=0,X=0;X<=d;X++){var E=B+(this.i(X)&65535)+(A.i(X)&65535),U=(E>>>16)+(this.i(X)>>>16)+(A.i(X)>>>16);B=U>>>16,E&=65535,U&=65535,q[X]=U<<16|E}return new l(q,q[q.length-1]&-2147483648?-1:0)};function _(A,d){return A.add(v(d))}s.j=function(A){if(g(this)||g(A))return I;if(L(this))return L(A)?v(this).j(v(A)):v(v(this).j(A));if(L(A))return v(this.j(v(A)));if(0>this.l(D)&&0>A.l(D))return f(this.m()*A.m());for(var d=this.g.length+A.g.length,q=[],B=0;B<2*d;B++)q[B]=0;for(B=0;B<this.g.length;B++)for(var X=0;X<A.g.length;X++){var E=this.i(B)>>>16,U=this.i(B)&65535,Ae=A.i(X)>>>16,Se=A.i(X)&65535;q[2*B+2*X]+=U*Se,z(q,2*B+2*X),q[2*B+2*X+1]+=E*Se,z(q,2*B+2*X+1),q[2*B+2*X+1]+=U*Ae,z(q,2*B+2*X+1),q[2*B+2*X+2]+=E*Ae,z(q,2*B+2*X+2)}for(B=0;B<d;B++)q[B]=q[2*B+1]<<16|q[2*B];for(B=d;B<2*d;B++)q[B]=0;return new l(q,0)};function z(A,d){for(;(A[d]&65535)!=A[d];)A[d+1]+=A[d]>>>16,A[d]&=65535,d++}function R(A,d){this.g=A,this.h=d}function H(A,d){if(g(d))throw Error("division by zero");if(g(A))return new R(I,I);if(L(A))return d=H(v(A),d),new R(v(d.g),v(d.h));if(L(d))return d=H(A,v(d)),new R(v(d.g),d.h);if(30<A.g.length){if(L(A)||L(d))throw Error("slowDivide_ only works with positive integers.");for(var q=S,B=d;0>=B.l(A);)q=K(q),B=K(B);var X=W(q,1),E=W(B,1);for(B=W(B,2),q=W(q,2);!g(B);){var U=E.add(B);0>=U.l(A)&&(X=X.add(q),E=U),B=W(B,1),q=W(q,1)}return d=_(A,X.j(d)),new R(X,d)}for(X=I;0<=A.l(d);){for(q=Math.max(1,Math.floor(A.m()/d.m())),B=Math.ceil(Math.log(q)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),E=f(q),U=E.j(d);L(U)||0<U.l(A);)q-=B,E=f(q),U=E.j(d);g(E)&&(E=S),X=X.add(E),A=_(A,U)}return new R(X,A)}s.A=function(A){return H(this,A).h},s.and=function(A){for(var d=Math.max(this.g.length,A.g.length),q=[],B=0;B<d;B++)q[B]=this.i(B)&A.i(B);return new l(q,this.h&A.h)},s.or=function(A){for(var d=Math.max(this.g.length,A.g.length),q=[],B=0;B<d;B++)q[B]=this.i(B)|A.i(B);return new l(q,this.h|A.h)},s.xor=function(A){for(var d=Math.max(this.g.length,A.g.length),q=[],B=0;B<d;B++)q[B]=this.i(B)^A.i(B);return new l(q,this.h^A.h)};function K(A){for(var d=A.g.length+1,q=[],B=0;B<d;B++)q[B]=A.i(B)<<1|A.i(B-1)>>>31;return new l(q,A.h)}function W(A,d){var q=d>>5;d%=32;for(var B=A.g.length-q,X=[],E=0;E<B;E++)X[E]=0<d?A.i(E+q)>>>d|A.i(E+q+1)<<32-d:A.i(E+q);return new l(X,A.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,KN=a,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=N,Ka=l}).apply(typeof oy<"u"?oy:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YN,Tl,JN,sd,oh,XN,ZN,ew;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,k,T){return u==Array.prototype||u==Object.prototype||(u[k]=T.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var k=0;k<u.length;++k){var T=u[k];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var a=r(this);function i(u,k){if(k)e:{var T=a;u=u.split(".");for(var G=0;G<u.length-1;G++){var oe=u[G];if(!(oe in T))break e;T=T[oe]}u=u[u.length-1],G=T[u],k=k(G),k!=G&&k!=null&&t(T,u,{configurable:!0,writable:!0,value:k})}}function o(u,k){u instanceof String&&(u+="");var T=0,G=!1,oe={next:function(){if(!G&&T<u.length){var he=T++;return{value:k(he,u[he]),done:!1}}return G=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(u){return u||function(){return o(this,function(k,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function x(u){var k=typeof u;return k=k!="object"?k:u?Array.isArray(u)?"array":k:"null",k=="array"||k=="object"&&typeof u.length=="number"}function f(u){var k=typeof u;return k=="object"&&u!=null||k=="function"}function N(u,k,T){return u.call.apply(u.bind,arguments)}function I(u,k,T){if(!u)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,G),u.apply(k,oe)}}return function(){return u.apply(k,arguments)}}function S(u,k,T){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?N:I,S.apply(null,arguments)}function D(u,k){var T=Array.prototype.slice.call(arguments,1);return function(){var G=T.slice();return G.push.apply(G,arguments),u.apply(this,G)}}function g(u,k){function T(){}T.prototype=k.prototype,u.aa=k.prototype,u.prototype=new T,u.prototype.constructor=u,u.Qb=function(G,oe,he){for(var Me=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)Me[zt-2]=arguments[zt];return k.prototype[oe].apply(G,Me)}}function L(u){const k=u.length;if(0<k){const T=Array(k);for(let G=0;G<k;G++)T[G]=u[G];return T}return[]}function v(u,k){for(let T=1;T<arguments.length;T++){const G=arguments[T];if(x(G)){const oe=u.length||0,he=G.length||0;u.length=oe+he;for(let Me=0;Me<he;Me++)u[oe+Me]=G[Me]}else u.push(G)}}class _{constructor(k,T){this.i=k,this.j=T,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function z(u){return/^[\s\xa0]*$/.test(u)}function R(){var u=c.navigator;return u&&(u=u.userAgent)?u:""}function H(u){return H[" "](u),u}H[" "]=function(){};var K=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function W(u,k,T){for(const G in u)k.call(T,u[G],G,u)}function A(u,k){for(const T in u)k.call(void 0,u[T],T,u)}function d(u){const k={};for(const T in u)k[T]=u[T];return k}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(u,k){let T,G;for(let oe=1;oe<arguments.length;oe++){G=arguments[oe];for(T in G)u[T]=G[T];for(let he=0;he<q.length;he++)T=q[he],Object.prototype.hasOwnProperty.call(G,T)&&(u[T]=G[T])}}function X(u){var k=1;u=u.split(":");const T=[];for(;0<k&&u.length;)T.push(u.shift()),k--;return u.length&&T.push(u.join(":")),T}function E(u){c.setTimeout(()=>{throw u},0)}function U(){var u=ge;let k=null;return u.g&&(k=u.g,u.g=u.g.next,u.g||(u.h=null),k.next=null),k}class Ae{constructor(){this.h=this.g=null}add(k,T){const G=Se.get();G.set(k,T),this.h?this.h.next=G:this.g=G,this.h=G}}var Se=new _(()=>new Te,u=>u.reset());class Te{constructor(){this.next=this.g=this.h=null}set(k,T){this.h=k,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let Le,de=!1,ge=new Ae,me=()=>{const u=c.Promise.resolve(void 0);Le=()=>{u.then(Q)}};var Q=()=>{for(var u;u=U();){try{u.h.call(u.g)}catch(T){E(T)}var k=Se;k.j(u),100>k.h&&(k.h++,u.next=k.g,k.g=u)}de=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function n(u,k){this.type=u,this.g=this.target=k,this.defaultPrevented=!1}n.prototype.h=function(){this.defaultPrevented=!0};var y=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var u=!1,k=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const T=()=>{};c.addEventListener("test",T,k),c.removeEventListener("test",T,k)}catch{}return u}();function m(u,k){if(n.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var T=this.type=u.type,G=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=k,k=u.relatedTarget){if(K){e:{try{H(k.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(k=null)}}else T=="mouseover"?k=u.fromElement:T=="mouseout"&&(k=u.toElement);this.relatedTarget=k,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:P[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&m.aa.h.call(this)}}g(m,n);var P={2:"touch",3:"pen",4:"mouse"};m.prototype.h=function(){m.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),te=0;function w(u,k,T,G,oe){this.listener=u,this.proxy=null,this.src=k,this.type=T,this.capture=!!G,this.ha=oe,this.key=++te,this.da=this.fa=!1}function V(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function M(u){this.src=u,this.g={},this.h=0}M.prototype.add=function(u,k,T,G,oe){var he=u.toString();u=this.g[he],u||(u=this.g[he]=[],this.h++);var Me=p(u,k,G,oe);return-1<Me?(k=u[Me],T||(k.fa=!1)):(k=new w(k,this.src,he,!!G,oe),k.fa=T,u.push(k)),k};function b(u,k){var T=k.type;if(T in u.g){var G=u.g[T],oe=Array.prototype.indexOf.call(G,k,void 0),he;(he=0<=oe)&&Array.prototype.splice.call(G,oe,1),he&&(V(k),u.g[T].length==0&&(delete u.g[T],u.h--))}}function p(u,k,T,G){for(var oe=0;oe<u.length;++oe){var he=u[oe];if(!he.da&&he.listener==k&&he.capture==!!T&&he.ha==G)return oe}return-1}var O="closure_lm_"+(1e6*Math.random()|0),Y={};function J(u,k,T,G,oe){if(G&&G.once)return ae(u,k,T,G,oe);if(Array.isArray(k)){for(var he=0;he<k.length;he++)J(u,k[he],T,G,oe);return null}return T=Re(T),u&&u[F]?u.K(k,T,f(G)?!!G.capture:!!G,oe):ie(u,k,T,!1,G,oe)}function ie(u,k,T,G,oe,he){if(!k)throw Error("Invalid event type");var Me=f(oe)?!!oe.capture:!!oe,zt=ze(u);if(zt||(u[O]=zt=new M(u)),T=zt.add(k,T,G,Me,he),T.proxy)return T;if(G=ee(),T.proxy=G,G.src=u,G.listener=T,u.addEventListener)y||(oe=Me),oe===void 0&&(oe=!1),u.addEventListener(k.toString(),G,oe);else if(u.attachEvent)u.attachEvent(be(k.toString()),G);else if(u.addListener&&u.removeListener)u.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ee(){function u(T){return k.call(u.src,u.listener,T)}const k=xe;return u}function ae(u,k,T,G,oe){if(Array.isArray(k)){for(var he=0;he<k.length;he++)ae(u,k[he],T,G,oe);return null}return T=Re(T),u&&u[F]?u.L(k,T,f(G)?!!G.capture:!!G,oe):ie(u,k,T,!0,G,oe)}function ce(u,k,T,G,oe){if(Array.isArray(k))for(var he=0;he<k.length;he++)ce(u,k[he],T,G,oe);else G=f(G)?!!G.capture:!!G,T=Re(T),u&&u[F]?(u=u.i,k=String(k).toString(),k in u.g&&(he=u.g[k],T=p(he,T,G,oe),-1<T&&(V(he[T]),Array.prototype.splice.call(he,T,1),he.length==0&&(delete u.g[k],u.h--)))):u&&(u=ze(u))&&(k=u.g[k.toString()],u=-1,k&&(u=p(k,T,G,oe)),(T=-1<u?k[u]:null)&&ue(T))}function ue(u){if(typeof u!="number"&&u&&!u.da){var k=u.src;if(k&&k[F])b(k.i,u);else{var T=u.type,G=u.proxy;k.removeEventListener?k.removeEventListener(T,G,u.capture):k.detachEvent?k.detachEvent(be(T),G):k.addListener&&k.removeListener&&k.removeListener(G),(T=ze(k))?(b(T,u),T.h==0&&(T.src=null,k[O]=null)):V(u)}}}function be(u){return u in Y?Y[u]:Y[u]="on"+u}function xe(u,k){if(u.da)u=!0;else{k=new m(k,this);var T=u.listener,G=u.ha||u.src;u.fa&&ue(u),u=T.call(G,k)}return u}function ze(u){return u=u[O],u instanceof M?u:null}var ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(u){return typeof u=="function"?u:(u[ke]||(u[ke]=function(k){return u.handleEvent(k)}),u[ke])}function ye(){se.call(this),this.i=new M(this),this.M=this,this.F=null}g(ye,se),ye.prototype[F]=!0,ye.prototype.removeEventListener=function(u,k,T,G){ce(this,u,k,T,G)};function Ie(u,k){var T,G=u.F;if(G)for(T=[];G;G=G.F)T.push(G);if(u=u.M,G=k.type||k,typeof k=="string")k=new n(k,u);else if(k instanceof n)k.target=k.target||u;else{var oe=k;k=new n(G,u),B(k,oe)}if(oe=!0,T)for(var he=T.length-1;0<=he;he--){var Me=k.g=T[he];oe=Pt(Me,G,!0,k)&&oe}if(Me=k.g=u,oe=Pt(Me,G,!0,k)&&oe,oe=Pt(Me,G,!1,k)&&oe,T)for(he=0;he<T.length;he++)Me=k.g=T[he],oe=Pt(Me,G,!1,k)&&oe}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,k;for(k in u.g){for(var T=u.g[k],G=0;G<T.length;G++)V(T[G]);delete u.g[k],u.h--}}this.F=null},ye.prototype.K=function(u,k,T,G){return this.i.add(String(u),k,!1,T,G)},ye.prototype.L=function(u,k,T,G){return this.i.add(String(u),k,!0,T,G)};function Pt(u,k,T,G){if(k=u.i.g[String(k)],!k)return!0;k=k.concat();for(var oe=!0,he=0;he<k.length;++he){var Me=k[he];if(Me&&!Me.da&&Me.capture==T){var zt=Me.listener,ms=Me.ha||Me.src;Me.fa&&b(u.i,Me),oe=zt.call(ms,G)!==!1&&oe}}return oe&&!G.defaultPrevented}function ls(u,k,T){if(typeof u=="function")T&&(u=S(u,T));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:c.setTimeout(u,k||0)}function rs(u){u.g=ls(()=>{u.g=null,u.i&&(u.i=!1,rs(u))},u.l);const k=u.h;u.h=null,u.m.apply(null,k)}class pr extends se{constructor(k,T){super(),this.m=k,this.l=T,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(u){se.call(this),this.h=u,this.g={}}g(Ds,se);var Tt=[];function Pr(u){W(u.g,function(k,T){this.g.hasOwnProperty(T)&&ue(k)},u),u.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),Pr(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=c.JSON.stringify,Qn=c.JSON.parse,Kn=class{stringify(u){return c.JSON.stringify(u,void 0)}parse(u){return c.JSON.parse(u,void 0)}};function mn(){}mn.prototype.h=null;function tl(u){return u.h||(u.h=u.i())}function ax(){}var Hs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sl(){n.call(this,"d")}g(sl,n);function rl(){n.call(this,"c")}g(rl,n);var Kr={},al=null;function ne(){return al=al||new ye}Kr.La="serverreachability";function Ce(u){n.call(this,Kr.La,u)}g(Ce,n);function De(u){const k=ne();Ie(k,new Ce(k))}Kr.STAT_EVENT="statevent";function tt(u,k){n.call(this,Kr.STAT_EVENT,u),this.stat=k}g(tt,n);function ot(u){const k=ne();Ie(k,new tt(k,u))}Kr.Ma="timingevent";function yt(u,k){n.call(this,Kr.Ma,u),this.size=k}g(yt,n);function ja(u,k){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){u()},k)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function Zo(u,k,T,G,oe,he){u.info(function(){if(u.g)if(he)for(var Me="",zt=he.split("&"),ms=0;ms<zt.length;ms++){var kt=zt[ms].split("=");if(1<kt.length){var Ns=kt[0];kt=kt[1];var ws=Ns.split("_");Me=2<=ws.length&&ws[1]=="type"?Me+(Ns+"="+kt+"&"):Me+(Ns+"=redacted&")}}else Me=null;else Me=he;return"XMLHTTP REQ ("+G+") [attempt "+oe+"]: "+k+`
`+T+`
`+Me})}function nl(u,k,T,G,oe,he,Me){u.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+oe+"]: "+k+`
`+T+`
`+he+" "+Me})}function Yn(u,k,T,G){u.info(function(){return"XMLHTTP TEXT ("+k+"): "+f2(u,T)+(G?" "+G:"")})}function p2(u,k){u.info(function(){return"TIMEOUT: "+k})}va.prototype.info=function(){};function f2(u,k){if(!u.g)return k;if(!k)return null;try{var T=JSON.parse(k);if(T){for(u=0;u<T.length;u++)if(Array.isArray(T[u])){var G=T[u];if(!(2>G.length)){var oe=G[1];if(Array.isArray(oe)&&!(1>oe.length)){var he=oe[0];if(he!="noop"&&he!="stop"&&he!="close")for(var Me=1;Me<oe.length;Me++)oe[Me]=""}}}}return fr(T)}catch{return k}}var ec={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},nx;function tc(){}g(tc,mn),tc.prototype.g=function(){return new XMLHttpRequest},tc.prototype.i=function(){return{}},nx=new tc;function Na(u,k,T,G){this.j=u,this.i=k,this.l=T,this.R=G||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zp}function zp(){this.i=null,this.g="",this.h=!1}var Op={},ix={};function lx(u,k,T){u.L=1,u.v=nc(Yr(k)),u.m=T,u.P=!0,Lp(u,null)}function Lp(u,k){u.F=Date.now(),sc(u),u.A=Yr(u.v);var T=u.A,G=u.R;Array.isArray(G)||(G=[String(G)]),Xp(T.i,"t",G),u.C=0,T=u.j.J,u.h=new zp,u.g=gf(u.j,T?k:null,!u.m),0<u.O&&(u.M=new pr(S(u.Y,u,u.g),u.O)),k=u.U,T=u.g,G=u.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(Tt[0]=oe.toString()),oe=Tt);for(var he=0;he<oe.length;he++){var Me=J(T,oe[he],G||k.handleEvent,!1,k.h||k);if(!Me)break;k.g[Me.key]=Me}k=u.H?d(u.H):{},u.m?(u.u||(u.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,k)):(u.u="GET",u.g.ea(u.A,u.u,null,k)),De(),Zo(u.i,u.u,u.A,u.l,u.R,u.m)}Na.prototype.ca=function(u){u=u.target;const k=this.M;k&&Jr(u)==3?k.j():this.Y(u)},Na.prototype.Y=function(u){try{if(u==this.g)e:{const ws=Jr(this.g);var k=this.g.Ba();const Zn=this.g.Z();if(!(3>ws)&&(ws!=3||this.g&&(this.h.h||this.g.oa()||nf(this.g)))){this.J||ws!=4||k==7||(k==8||0>=Zn?De(3):De(2)),ox(this);var T=this.g.Z();this.X=T;t:if(Vp(this)){var G=nf(this.g);u="";var oe=G.length,he=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),il(this);var Me="";break t}this.h.i=new c.TextDecoder}for(k=0;k<oe;k++)this.h.h=!0,u+=this.h.i.decode(G[k],{stream:!(he&&k==oe-1)});G.length=0,this.h.g+=u,this.C=0,Me=this.h.g}else Me=this.g.oa();if(this.o=T==200,nl(this.i,this.u,this.A,this.l,this.R,ws,T),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,ms=this.g;if((zt=ms.g?ms.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(zt)){var kt=zt;break t}}kt=null}if(T=kt)Yn(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cx(this,T);else{this.o=!1,this.s=3,ot(12),hn(this),il(this);break e}}if(this.P){T=!0;let gr;for(;!this.J&&this.C<Me.length;)if(gr=g2(this,Me),gr==ix){ws==4&&(this.s=4,ot(14),T=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(gr==Op){this.s=4,ot(15),Yn(this.i,this.l,Me,"[Invalid Chunk]"),T=!1;break}else Yn(this.i,this.l,gr,null),cx(this,gr);if(Vp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ws!=4||Me.length!=0||this.h.h||(this.s=1,ot(16),T=!1),this.o=this.o&&T,!T)Yn(this.i,this.l,Me,"[Invalid Chunked Response]"),hn(this),il(this);else if(0<Me.length&&!this.W){this.W=!0;var Ns=this.j;Ns.g==this&&Ns.ba&&!Ns.M&&(Ns.j.info("Great, no buffering proxy detected. Bytes received: "+Me.length),px(Ns),Ns.M=!0,ot(11))}}else Yn(this.i,this.l,Me,null),cx(this,Me);ws==4&&hn(this),this.o&&!this.J&&(ws==4?mf(this.j,this):(this.o=!1,sc(this)))}else R2(this.g),T==400&&0<Me.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),hn(this),il(this)}}}catch{}finally{}};function Vp(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function g2(u,k){var T=u.C,G=k.indexOf(`
`,T);return G==-1?ix:(T=Number(k.substring(T,G)),isNaN(T)?Op:(G+=1,G+T>k.length?ix:(k=k.slice(G,G+T),u.C=G+T,k)))}Na.prototype.cancel=function(){this.J=!0,hn(this)};function sc(u){u.S=Date.now()+u.I,Bp(u,u.I)}function Bp(u,k){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ja(S(u.ba,u),k)}function ox(u){u.B&&(c.clearTimeout(u.B),u.B=null)}Na.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(p2(this.i,this.A),this.L!=2&&(De(),ot(17)),hn(this),this.s=2,il(this)):Bp(this,this.S-u)};function il(u){u.j.G==0||u.J||mf(u.j,u)}function hn(u){ox(u);var k=u.M;k&&typeof k.ma=="function"&&k.ma(),u.M=null,Pr(u.U),u.g&&(k=u.g,u.g=null,k.abort(),k.ma())}function cx(u,k){try{var T=u.j;if(T.G!=0&&(T.g==u||dx(T.h,u))){if(!u.K&&dx(T.h,u)&&T.G==3){try{var G=T.Da.g.parse(k)}catch{G=null}if(Array.isArray(G)&&G.length==3){var oe=G;if(oe[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<u.F)uc(T),cc(T);else break e;hx(T),ot(18)}}else T.za=oe[1],0<T.za-T.T&&37500>oe[2]&&T.F&&T.v==0&&!T.C&&(T.C=ja(S(T.Za,T),6e3));if(1>=$p(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else fn(T,11)}else if((u.K||T.g==u)&&uc(T),!z(k))for(oe=T.Da.g.parse(k),k=0;k<oe.length;k++){let kt=oe[k];if(T.T=kt[0],kt=kt[1],T.G==2)if(kt[0]=="c"){T.K=kt[1],T.ia=kt[2];const Ns=kt[3];Ns!=null&&(T.la=Ns,T.j.info("VER="+T.la));const ws=kt[4];ws!=null&&(T.Aa=ws,T.j.info("SVER="+T.Aa));const Zn=kt[5];Zn!=null&&typeof Zn=="number"&&0<Zn&&(G=1.5*Zn,T.L=G,T.j.info("backChannelRequestTimeoutMs_="+G)),G=T;const gr=u.g;if(gr){const mc=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mc){var he=G.h;he.g||mc.indexOf("spdy")==-1&&mc.indexOf("quic")==-1&&mc.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ux(he,he.h),he.h=null))}if(G.D){const fx=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;fx&&(G.ya=fx,Bt(G.I,G.D,fx))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-u.F,T.j.info("Handshake RTT: "+T.R+"ms")),G=T;var Me=u;if(G.qa=ff(G,G.J?G.ia:null,G.W),Me.K){qp(G.h,Me);var zt=Me,ms=G.L;ms&&(zt.I=ms),zt.B&&(ox(zt),sc(zt)),G.g=Me}else uf(G);0<T.i.length&&dc(T)}else kt[0]!="stop"&&kt[0]!="close"||fn(T,7);else T.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?fn(T,7):mx(T):kt[0]!="noop"&&T.l&&T.l.ta(kt),T.v=0)}}De(4)}catch{}}var y2=class{constructor(u,k){this.g=u,this.map=k}};function Fp(u){this.l=u||10,c.PerformanceNavigationTiming?(u=c.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Up(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function $p(u){return u.h?1:u.g?u.g.size:0}function dx(u,k){return u.h?u.h==k:u.g?u.g.has(k):!1}function ux(u,k){u.g?u.g.add(k):u.h=k}function qp(u,k){u.h&&u.h==k?u.h=null:u.g&&u.g.has(k)&&u.g.delete(k)}Fp.prototype.cancel=function(){if(this.i=Wp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Wp(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let k=u.i;for(const T of u.g.values())k=k.concat(T.D);return k}return L(u.i)}function b2(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(x(u)){for(var k=[],T=u.length,G=0;G<T;G++)k.push(u[G]);return k}k=[],T=0;for(G in u)k[T++]=u[G];return k}function j2(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(x(u)||typeof u=="string"){var k=[];u=u.length;for(var T=0;T<u;T++)k.push(T);return k}k=[],T=0;for(const G in u)k[T++]=G;return k}}}function Gp(u,k){if(u.forEach&&typeof u.forEach=="function")u.forEach(k,void 0);else if(x(u)||typeof u=="string")Array.prototype.forEach.call(u,k,void 0);else for(var T=j2(u),G=b2(u),oe=G.length,he=0;he<oe;he++)k.call(void 0,G[he],T&&T[he],u)}var Hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v2(u,k){if(u){u=u.split("&");for(var T=0;T<u.length;T++){var G=u[T].indexOf("="),oe=null;if(0<=G){var he=u[T].substring(0,G);oe=u[T].substring(G+1)}else he=u[T];k(he,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function pn(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pn){this.h=u.h,rc(this,u.j),this.o=u.o,this.g=u.g,ac(this,u.s),this.l=u.l;var k=u.i,T=new cl;T.i=k.i,k.g&&(T.g=new Map(k.g),T.h=k.h),Qp(this,T),this.m=u.m}else u&&(k=String(u).match(Hp))?(this.h=!1,rc(this,k[1]||"",!0),this.o=ll(k[2]||""),this.g=ll(k[3]||"",!0),ac(this,k[4]),this.l=ll(k[5]||"",!0),Qp(this,k[6]||"",!0),this.m=ll(k[7]||"")):(this.h=!1,this.i=new cl(null,this.h))}pn.prototype.toString=function(){var u=[],k=this.j;k&&u.push(ol(k,Kp,!0),":");var T=this.g;return(T||k=="file")&&(u.push("//"),(k=this.o)&&u.push(ol(k,Kp,!0),"@"),u.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&u.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&u.push("/"),u.push(ol(T,T.charAt(0)=="/"?k2:w2,!0))),(T=this.i.toString())&&u.push("?",T),(T=this.m)&&u.push("#",ol(T,I2)),u.join("")};function Yr(u){return new pn(u)}function rc(u,k,T){u.j=T?ll(k,!0):k,u.j&&(u.j=u.j.replace(/:$/,""))}function ac(u,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);u.s=k}else u.s=null}function Qp(u,k,T){k instanceof cl?(u.i=k,E2(u.i,u.h)):(T||(k=ol(k,C2)),u.i=new cl(k,u.h))}function Bt(u,k,T){u.i.set(k,T)}function nc(u){return Bt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ll(u,k){return u?k?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ol(u,k,T){return typeof u=="string"?(u=encodeURI(u).replace(k,N2),T&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function N2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Kp=/[#\/\?@]/g,w2=/[#\?:]/g,k2=/[#\?]/g,C2=/[#\?@]/g,I2=/#/g;function cl(u,k){this.h=this.g=null,this.i=u||null,this.j=!!k}function wa(u){u.g||(u.g=new Map,u.h=0,u.i&&v2(u.i,function(k,T){u.add(decodeURIComponent(k.replace(/\+/g," ")),T)}))}s=cl.prototype,s.add=function(u,k){wa(this),this.i=null,u=Jn(this,u);var T=this.g.get(u);return T||this.g.set(u,T=[]),T.push(k),this.h+=1,this};function Yp(u,k){wa(u),k=Jn(u,k),u.g.has(k)&&(u.i=null,u.h-=u.g.get(k).length,u.g.delete(k))}function Jp(u,k){return wa(u),k=Jn(u,k),u.g.has(k)}s.forEach=function(u,k){wa(this),this.g.forEach(function(T,G){T.forEach(function(oe){u.call(k,oe,G,this)},this)},this)},s.na=function(){wa(this);const u=Array.from(this.g.values()),k=Array.from(this.g.keys()),T=[];for(let G=0;G<k.length;G++){const oe=u[G];for(let he=0;he<oe.length;he++)T.push(k[G])}return T},s.V=function(u){wa(this);let k=[];if(typeof u=="string")Jp(this,u)&&(k=k.concat(this.g.get(Jn(this,u))));else{u=Array.from(this.g.values());for(let T=0;T<u.length;T++)k=k.concat(u[T])}return k},s.set=function(u,k){return wa(this),this.i=null,u=Jn(this,u),Jp(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[k]),this.h+=1,this},s.get=function(u,k){return u?(u=this.V(u),0<u.length?String(u[0]):k):k};function Xp(u,k,T){Yp(u,k),0<T.length&&(u.i=null,u.g.set(Jn(u,k),L(T)),u.h+=T.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],k=Array.from(this.g.keys());for(var T=0;T<k.length;T++){var G=k[T];const he=encodeURIComponent(String(G)),Me=this.V(G);for(G=0;G<Me.length;G++){var oe=he;Me[G]!==""&&(oe+="="+encodeURIComponent(String(Me[G]))),u.push(oe)}}return this.i=u.join("&")};function Jn(u,k){return k=String(k),u.j&&(k=k.toLowerCase()),k}function E2(u,k){k&&!u.j&&(wa(u),u.i=null,u.g.forEach(function(T,G){var oe=G.toLowerCase();G!=oe&&(Yp(this,G),Xp(this,oe,T))},u)),u.j=k}function S2(u,k){const T=new va;if(c.Image){const G=new Image;G.onload=D(ka,T,"TestLoadImage: loaded",!0,k,G),G.onerror=D(ka,T,"TestLoadImage: error",!1,k,G),G.onabort=D(ka,T,"TestLoadImage: abort",!1,k,G),G.ontimeout=D(ka,T,"TestLoadImage: timeout",!1,k,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=u}else k(!1)}function _2(u,k){const T=new va,G=new AbortController,oe=setTimeout(()=>{G.abort(),ka(T,"TestPingServer: timeout",!1,k)},1e4);fetch(u,{signal:G.signal}).then(he=>{clearTimeout(oe),he.ok?ka(T,"TestPingServer: ok",!0,k):ka(T,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(oe),ka(T,"TestPingServer: error",!1,k)})}function ka(u,k,T,G,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),G(T)}catch{}}function P2(){this.g=new Kn}function T2(u,k,T){const G=T||"";try{Gp(u,function(oe,he){let Me=oe;f(oe)&&(Me=fr(oe)),k.push(G+he+"="+encodeURIComponent(Me))})}catch(oe){throw k.push(G+"type="+encodeURIComponent("_badmap")),oe}}function ic(u){this.l=u.Ub||null,this.j=u.eb||!1}g(ic,mn),ic.prototype.g=function(){return new lc(this.l,this.j)},ic.prototype.i=function(u){return function(){return u}}({});function lc(u,k){ye.call(this),this.D=u,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(lc,ye),s=lc.prototype,s.open=function(u,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=k,this.readyState=1,ul(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(k.body=u),(this.D||c).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dl(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ul(this)),this.g&&(this.readyState=3,ul(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zp(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zp(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var k=u.value?u.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!u.done}))&&(this.response=this.responseText+=k)}u.done?dl(this):ul(this),this.readyState==3&&Zp(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,dl(this))},s.Qa=function(u){this.g&&(this.response=u,dl(this))},s.ga=function(){this.g&&dl(this)};function dl(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ul(u)}s.setRequestHeader=function(u,k){this.u.append(u,k)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],k=this.h.entries();for(var T=k.next();!T.done;)T=T.value,u.push(T[0]+": "+T[1]),T=k.next();return u.join(`\r
`)};function ul(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ef(u){let k="";return W(u,function(T,G){k+=G,k+=":",k+=T,k+=`\r
`}),k}function xx(u,k,T){e:{for(G in T){var G=!1;break e}G=!0}G||(T=ef(T),typeof u=="string"?T!=null&&encodeURIComponent(String(T)):Bt(u,k,T))}function Kt(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Kt,ye);var D2=/^https?$/i,A2=["POST","PUT"];s=Kt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,k,T,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);k=k?k.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():nx.g(),this.v=this.o?tl(this.o):tl(nx),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(k,String(u),!0),this.B=!1}catch(he){tf(this,he);return}if(u=T||"",T=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var oe in G)T.set(oe,G[oe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const he of G.keys())T.set(he,G.get(he));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(T.keys()).find(he=>he.toLowerCase()=="content-type"),oe=c.FormData&&u instanceof c.FormData,!(0<=Array.prototype.indexOf.call(A2,k,void 0))||G||oe||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Me]of T)this.g.setRequestHeader(he,Me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{af(this),this.u=!0,this.g.send(u),this.u=!1}catch(he){tf(this,he)}};function tf(u,k){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=k,u.m=5,sf(u),oc(u)}function sf(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ie(this,"complete"),Ie(this,"abort"),oc(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?rf(this):this.bb())},s.bb=function(){rf(this)};function rf(u){if(u.h&&typeof l<"u"&&(!u.v[1]||Jr(u)!=4||u.Z()!=2)){if(u.u&&Jr(u)==4)ls(u.Ea,0,u);else if(Ie(u,"readystatechange"),Jr(u)==4){u.h=!1;try{const Me=u.Z();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var T;if(!(T=k)){var G;if(G=Me===0){var oe=String(u.D).match(Hp)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),G=!D2.test(oe?oe.toLowerCase():"")}T=G}if(T)Ie(u,"complete"),Ie(u,"success");else{u.m=6;try{var he=2<Jr(u)?u.g.statusText:""}catch{he=""}u.l=he+" ["+u.Z()+"]",sf(u)}}finally{oc(u)}}}}function oc(u,k){if(u.g){af(u);const T=u.g,G=u.v[0]?()=>{}:null;u.g=null,u.v=null,k||Ie(u,"ready");try{T.onreadystatechange=G}catch{}}}function af(u){u.I&&(c.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Jr(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var k=this.g.responseText;return u&&k.indexOf(u)==0&&(k=k.substring(u.length)),Qn(k)}};function nf(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function R2(u){const k={};u=(u.g&&2<=Jr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<u.length;G++){if(z(u[G]))continue;var T=X(u[G]);const oe=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const he=k[oe]||[];k[oe]=he,he.push(T)}A(k,function(G){return G.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xl(u,k,T){return T&&T.internalChannelParams&&T.internalChannelParams[u]||k}function lf(u){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xl("baseRetryDelayMs",5e3,u),this.cb=xl("retryDelaySeedMs",1e4,u),this.Wa=xl("forwardChannelMaxRetries",2,u),this.wa=xl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fp(u&&u.concurrentRequestLimit),this.Da=new P2,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=lf.prototype,s.la=8,s.G=1,s.connect=function(u,k,T,G){ot(0),this.W=u,this.H=k||{},T&&G!==void 0&&(this.H.OSID=T,this.H.OAID=G),this.F=this.X,this.I=ff(this,null,this.W),dc(this)};function mx(u){if(of(u),u.G==3){var k=u.U++,T=Yr(u.I);if(Bt(T,"SID",u.K),Bt(T,"RID",k),Bt(T,"TYPE","terminate"),ml(u,T),k=new Na(u,u.j,k),k.L=2,k.v=nc(Yr(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(k.v.toString(),"")}catch{}!T&&c.Image&&(new Image().src=k.v,T=!0),T||(k.g=gf(k.j,null),k.g.ea(k.v)),k.F=Date.now(),sc(k)}pf(u)}function cc(u){u.g&&(px(u),u.g.cancel(),u.g=null)}function of(u){cc(u),u.u&&(c.clearTimeout(u.u),u.u=null),uc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&c.clearTimeout(u.s),u.s=null)}function dc(u){if(!Up(u.h)&&!u.s){u.s=!0;var k=u.Ga;Le||me(),de||(Le(),de=!0),ge.add(k,u),u.B=0}}function M2(u,k){return $p(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=k.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ja(S(u.Ga,u,k),hf(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const oe=new Na(this,this.j,u);let he=this.o;if(this.S&&(he?(he=d(he),B(he,this.S)):he=this.S),this.m!==null||this.O||(oe.H=he,he=null),this.P)e:{for(var k=0,T=0;T<this.i.length;T++){t:{var G=this.i[T];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(k+=G,4096<k){k=T;break e}if(k===4096||T===this.i.length-1){k=T+1;break e}}k=1e3}else k=1e3;k=df(this,oe,k),T=Yr(this.I),Bt(T,"RID",u),Bt(T,"CVER",22),this.D&&Bt(T,"X-HTTP-Session-Id",this.D),ml(this,T),he&&(this.O?k="headers="+encodeURIComponent(String(ef(he)))+"&"+k:this.m&&xx(T,this.m,he)),ux(this.h,oe),this.Ua&&Bt(T,"TYPE","init"),this.P?(Bt(T,"$req",k),Bt(T,"SID","null"),oe.T=!0,lx(oe,T,null)):lx(oe,T,k),this.G=2}}else this.G==3&&(u?cf(this,u):this.i.length==0||Up(this.h)||cf(this))};function cf(u,k){var T;k?T=k.l:T=u.U++;const G=Yr(u.I);Bt(G,"SID",u.K),Bt(G,"RID",T),Bt(G,"AID",u.T),ml(u,G),u.m&&u.o&&xx(G,u.m,u.o),T=new Na(u,u.j,T,u.B+1),u.m===null&&(T.H=u.o),k&&(u.i=k.D.concat(u.i)),k=df(u,T,1e3),T.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ux(u.h,T),lx(T,G,k)}function ml(u,k){u.H&&W(u.H,function(T,G){Bt(k,G,T)}),u.l&&Gp({},function(T,G){Bt(k,G,T)})}function df(u,k,T){T=Math.min(u.i.length,T);var G=u.l?S(u.l.Na,u.l,u):null;e:{var oe=u.i;let he=-1;for(;;){const Me=["count="+T];he==-1?0<T?(he=oe[0].g,Me.push("ofs="+he)):he=0:Me.push("ofs="+he);let zt=!0;for(let ms=0;ms<T;ms++){let kt=oe[ms].g;const Ns=oe[ms].map;if(kt-=he,0>kt)he=Math.max(0,oe[ms].g-100),zt=!1;else try{T2(Ns,Me,"req"+kt+"_")}catch{G&&G(Ns)}}if(zt){G=Me.join("&");break e}}}return u=u.i.splice(0,T),k.D=u,G}function uf(u){if(!u.g&&!u.u){u.Y=1;var k=u.Fa;Le||me(),de||(Le(),de=!0),ge.add(k,u),u.v=0}}function hx(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ja(S(u.Fa,u),hf(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,xf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ja(S(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),cc(this),xf(this))};function px(u){u.A!=null&&(c.clearTimeout(u.A),u.A=null)}function xf(u){u.g=new Na(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var k=Yr(u.qa);Bt(k,"RID","rpc"),Bt(k,"SID",u.K),Bt(k,"AID",u.T),Bt(k,"CI",u.F?"0":"1"),!u.F&&u.ja&&Bt(k,"TO",u.ja),Bt(k,"TYPE","xmlhttp"),ml(u,k),u.m&&u.o&&xx(k,u.m,u.o),u.L&&(u.g.I=u.L);var T=u.g;u=u.ia,T.L=1,T.v=nc(Yr(k)),T.m=null,T.P=!0,Lp(T,u)}s.Za=function(){this.C!=null&&(this.C=null,cc(this),hx(this),ot(19))};function uc(u){u.C!=null&&(c.clearTimeout(u.C),u.C=null)}function mf(u,k){var T=null;if(u.g==k){uc(u),px(u),u.g=null;var G=2}else if(dx(u.h,k))T=k.D,qp(u.h,k),G=1;else return;if(u.G!=0){if(k.o)if(G==1){T=k.m?k.m.length:0,k=Date.now()-k.F;var oe=u.B;G=ne(),Ie(G,new yt(G,T)),dc(u)}else uf(u);else if(oe=k.s,oe==3||oe==0&&0<k.X||!(G==1&&M2(u,k)||G==2&&hx(u)))switch(T&&0<T.length&&(k=u.h,k.i=k.i.concat(T)),oe){case 1:fn(u,5);break;case 4:fn(u,10);break;case 3:fn(u,6);break;default:fn(u,2)}}}function hf(u,k){let T=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(T*=2),T*k}function fn(u,k){if(u.j.info("Error code "+k),k==2){var T=S(u.fb,u),G=u.Xa;const oe=!G;G=new pn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||rc(G,"https"),nc(G),oe?S2(G.toString(),T):_2(G.toString(),T)}else ot(2);u.G=0,u.l&&u.l.sa(k),pf(u),of(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function pf(u){if(u.G=0,u.ka=[],u.l){const k=Wp(u.h);(k.length!=0||u.i.length!=0)&&(v(u.ka,k),v(u.ka,u.i),u.h.i.length=0,L(u.i),u.i.length=0),u.l.ra()}}function ff(u,k,T){var G=T instanceof pn?Yr(T):new pn(T);if(G.g!="")k&&(G.g=k+"."+G.g),ac(G,G.s);else{var oe=c.location;G=oe.protocol,k=k?k+"."+oe.hostname:oe.hostname,oe=+oe.port;var he=new pn(null);G&&rc(he,G),k&&(he.g=k),oe&&ac(he,oe),T&&(he.l=T),G=he}return T=u.D,k=u.ya,T&&k&&Bt(G,T,k),Bt(G,"VER",u.la),ml(u,G),G}function gf(u,k,T){if(k&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=u.Ca&&!u.pa?new Kt(new ic({eb:T})):new Kt(u.pa),k.Ha(u.J),k}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yf(){}s=yf.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xc(){}xc.prototype.g=function(u,k){return new Qs(u,k)};function Qs(u,k){ye.call(this),this.g=new lf(k),this.l=u,this.h=k&&k.messageUrlParams||null,u=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(u?u["X-WebChannel-Content-Type"]=k.messageContentType:u={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(u?u["X-WebChannel-Client-Profile"]=k.va:u={"X-WebChannel-Client-Profile":k.va}),this.g.S=u,(u=k&&k.Sb)&&!z(u)&&(this.g.m=u),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!z(k)&&(this.g.D=k,u=this.h,u!==null&&k in u&&(u=this.h,k in u&&delete u[k])),this.j=new Xn(this)}g(Qs,ye),Qs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qs.prototype.close=function(){mx(this.g)},Qs.prototype.o=function(u){var k=this.g;if(typeof u=="string"){var T={};T.__data__=u,u=T}else this.u&&(T={},T.__data__=fr(u),u=T);k.i.push(new y2(k.Ya++,u)),k.G==3&&dc(k)},Qs.prototype.N=function(){this.g.l=null,delete this.j,mx(this.g),delete this.g,Qs.aa.N.call(this)};function bf(u){sl.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var k=u.__sm__;if(k){e:{for(const T in k){u=T;break e}u=void 0}(this.i=u)&&(u=this.i,k=k!==null&&u in k?k[u]:void 0),this.data=k}else this.data=u}g(bf,sl);function jf(){rl.call(this),this.status=1}g(jf,rl);function Xn(u){this.g=u}g(Xn,yf),Xn.prototype.ua=function(){Ie(this.g,"a")},Xn.prototype.ta=function(u){Ie(this.g,new bf(u))},Xn.prototype.sa=function(u){Ie(this.g,new jf)},Xn.prototype.ra=function(){Ie(this.g,"b")},xc.prototype.createWebChannel=xc.prototype.g,Qs.prototype.send=Qs.prototype.o,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,ew=function(){return new xc},ZN=function(){return ne()},XN=Kr,oh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ec.NO_ERROR=0,ec.TIMEOUT=8,ec.HTTP_ERROR=6,sd=ec,Mp.COMPLETE="complete",JN=Mp,ax.EventType=Hs,Hs.OPEN="a",Hs.CLOSE="b",Hs.ERROR="c",Hs.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Tl=ax,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,YN=Kt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const cy="@firebase/firestore",dy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ki="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mn=new Tu("@firebase/firestore");function ti(){return Mn.logLevel}function Fe(s,...t){if(Mn.logLevel<=pt.DEBUG){const r=t.map(z0);Mn.debug(`Firestore (${Ki}): ${s}`,...r)}}function ma(s,...t){if(Mn.logLevel<=pt.ERROR){const r=t.map(z0);Mn.error(`Firestore (${Ki}): ${s}`,...r)}}function Oi(s,...t){if(Mn.logLevel<=pt.WARN){const r=t.map(z0);Mn.warn(`Firestore (${Ki}): ${s}`,...r)}}function z0(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(s="Unexpected state"){const t=`FIRESTORE (${Ki}) INTERNAL ASSERTION FAILED: `+s;throw ma(t),new Error(t)}function jt(s,t){s||st()}function it(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends hr{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class aS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ss.UNAUTHENTICATED))}shutdown(){}}class nS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class iS{constructor(t){this.t=t,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){jt(this.o===void 0);let a=this.i;const i=x=>this.i!==a?(a=this.i,r(x)):Promise.resolve();let o=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Lr,t.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const x=o;t.enqueueRetryable(async()=>{await x.promise,await i(this.currentUser)})},c=x=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=x,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(x=>c(x)),setTimeout(()=>{if(!this.auth){const x=this.t.getImmediate({optional:!0});x?c(x):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Lr)}},0),l()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(a=>this.i!==t?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string"),new tw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string"),new Ss(t)}}class lS{constructor(t,r,a){this.l=t,this.h=r,this.P=a,this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class oS{constructor(t,r,a){this.l=t,this.h=r,this.P=a}getToken(){return Promise.resolve(new lS(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(t,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ys(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,r){jt(this.o===void 0);const a=o=>{o.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>a(o))};const i=o=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(jt(typeof r.token=="string"),this.R=r.token,new uy(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<s;a++)r[a]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=dS(40);for(let o=0;o<i.length;++o)a.length<20&&i[o]<r&&(a+=t.charAt(i[o]%62))}return a}}function ct(s,t){return s<t?-1:s>t?1:0}function ch(s,t){let r=0;for(;r<s.length&&r<t.length;){const a=s.codePointAt(r),i=t.codePointAt(r);if(a!==i){if(a<128&&i<128)return ct(a,i);{const o=sw(),l=uS(o.encode(xy(s,r)),o.encode(xy(t,r)));return l!==0?l:ct(a,i)}}r+=a>65535?2:1}return ct(s.length,t.length)}function xy(s,t){return s.codePointAt(t)>65535?s.substring(t,t+2):s.substring(t,t+1)}function uS(s,t){for(let r=0;r<s.length&&r<t.length;++r)if(s[r]!==t[r])return ct(s[r],t[r]);return ct(s.length,t.length)}function Li(s,t,r){return s.length===t.length&&s.every((a,i)=>r(a,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=-62135596800,hy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*hy);return new Zt(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ve(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<my)throw new Ve(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hy}_compareTo(t){return this.seconds===t.seconds?ct(this.nanoseconds,t.nanoseconds):ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-my;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(t){return new at(t)}static min(){return new at(new Zt(0,0))}static max(){return new at(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="__name__";class Ar{constructor(t,r,a){r===void 0?r=0:r>t.length&&st(),a===void 0?a=t.length-r:a>t.length-r&&st(),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return Ar.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ar?t.forEach(a=>{r.push(a)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let i=0;i<a;i++){const o=Ar.compareSegments(t.get(i),r.get(i));if(o!==0)return o}return ct(t.length,r.length)}static compareSegments(t,r){const a=Ar.isNumericId(t),i=Ar.isNumericId(r);return a&&!i?-1:!a&&i?1:a&&i?Ar.extractNumericId(t).compare(Ar.extractNumericId(r)):ch(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ka.fromString(t.substring(4,t.length-2))}}class Ot extends Ar{construct(t,r,a){return new Ot(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ve(je.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter(i=>i.length>0))}return new Ot(r)}static emptyPath(){return new Ot([])}}const xS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fs extends Ar{construct(t,r,a){return new fs(t,r,a)}static isValidIdentifier(t){return xS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===py}static keyField(){return new fs([py])}static fromServerFormat(t){const r=[];let a="",i=0;const o=()=>{if(a.length===0)throw new Ve(je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let l=!1;for(;i<t.length;){const c=t[i];if(c==="\\"){if(i+1===t.length)throw new Ve(je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const x=t[i+1];if(x!=="\\"&&x!=="."&&x!=="`")throw new Ve(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=x,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(a+=c,i++):(o(),i++)}if(o(),l)throw new Ve(je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new fs(r)}static emptyPath(){return new fs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(t){this.path=t}static fromPath(t){return new et(Ot.fromString(t))}static fromName(t){return new et(Ot.fromString(t).popFirst(5))}static empty(){return new et(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ot.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Ot.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new et(new Ot(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=-1;function mS(s,t){const r=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,i=at.fromTimestamp(a===1e9?new Zt(r+1,0):new Zt(r,a));return new en(i,et.empty(),t)}function hS(s){return new en(s.readTime,s.key,bo)}class en{constructor(t,r,a){this.readTime=t,this.documentKey=r,this.largestBatchId=a}static min(){return new en(at.min(),et.empty(),bo)}static max(){return new en(at.max(),et.empty(),bo)}}function pS(s,t){let r=s.readTime.compareTo(t.readTime);return r!==0?r:(r=et.comparator(s.documentKey,t.documentKey),r!==0?r:ct(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yi(s){if(s.code!==je.FAILED_PRECONDITION||s.message!==fS)throw s;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Ne((a,i)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(a,i)},this.catchCallback=o=>{this.wrapFailure(r,o).next(a,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Ne?r:Ne.resolve(r)}catch(r){return Ne.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Ne.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Ne.reject(r)}static resolve(t){return new Ne((r,a)=>{r(t)})}static reject(t){return new Ne((r,a)=>{a(t)})}static waitFor(t){return new Ne((r,a)=>{let i=0,o=0,l=!1;t.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&r()},x=>a(x))}),l=!0,o===i&&r()})}static or(t){let r=Ne.resolve(!1);for(const a of t)r=r.next(i=>i?Ne.resolve(i):a());return r}static forEach(t,r){const a=[];return t.forEach((i,o)=>{a.push(r.call(this,i,o))}),this.waitFor(a)}static mapArray(t,r){return new Ne((a,i)=>{const o=t.length,l=new Array(o);let c=0;for(let x=0;x<o;x++){const f=x;r(t[f]).next(N=>{l[f]=N,++c,c===o&&a(l)},N=>i(N))}})}static doWhile(t,r){return new Ne((a,i)=>{const o=()=>{t()===!0?r().next(()=>{o()},i):a()};o()})}}function yS(s){const t=s.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ji(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=a=>this.oe(a),this._e=a=>r.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Mu.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=-1;function Vo(s){return s==null}function $d(s){return s===0&&1/s==-1/0}function bS(s){return typeof s=="number"&&Number.isInteger(s)&&!$d(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="";function jS(s){let t="";for(let r=0;r<s.length;r++)t.length>0&&(t=fy(t)),t=vS(s.get(r),t);return fy(t)}function vS(s,t){let r=t;const a=s.length;for(let i=0;i<a;i++){const o=s.charAt(i);switch(o){case"\0":r+="";break;case aw:r+="";break;default:r+=o}}return r}function fy(s){return s+aw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(s){let t=0;for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t++;return t}function un(s,t){for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&t(r,s[r])}function nw(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(t,r){this.comparator=t,this.root=r||ps.EMPTY}insert(t,r){return new Qt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(t){return new Qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ps.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return r.value;a<0?r=r.left:a>0&&(r=r.right)}return null}indexOf(t){let r=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(t,a.key);if(i===0)return r+a.left.size;i<0?a=a.left:(r+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,a)=>(t(r,a),!1))}toString(){const t=[];return this.inorderTraversal((r,a)=>(t.push(`${r}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,r,a,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=r?a(t.key,r):1,r&&i&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ps{constructor(t,r,a,i,o){this.key=t,this.value=r,this.color=a??ps.RED,this.left=i??ps.EMPTY,this.right=o??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,a,i,o){return new ps(t??this.key,r??this.value,a??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,a){let i=this;const o=a(t,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(t,r,a),null):o===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let a,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return ps.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1;ps.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(t,r,a,i,o){return this}insert(t,r,a){return new ps(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,a)=>(t(r),!1))}forEachInRange(t,r){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let a;for(a=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new yy(this.data.getIterator())}getIteratorFrom(t){return new yy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(a=>{r=r.add(a)}),r}isEqual(t){if(!(t instanceof is)||this.size!==t.size)return!1;const r=this.data.getIterator(),a=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new is(this.comparator);return r.data=t,r}}class yy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(t){this.fields=t,t.sort(fs.comparator)}static empty(){return new Xs([])}unionWith(t){let r=new is(fs.comparator);for(const a of this.fields)r=r.add(a);for(const a of t)r=r.add(a);return new Xs(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Li(this.fields,t.fields,(r,a)=>r.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iw("Invalid base64 string: "+o):o}}(t);return new vs(r)}static fromUint8Array(t){const r=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(t);return new vs(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vs.EMPTY_BYTE_STRING=new vs("");const NS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tn(s){if(jt(!!s),typeof s=="string"){let t=0;const r=NS.exec(s);if(jt(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Jt(s.seconds),nanos:Jt(s.nanos)}}function Jt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sn(s){return typeof s=="string"?vs.fromBase64String(s):vs.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="server_timestamp",ow="__type__",cw="__previous_value__",dw="__local_write_time__";function L0(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[ow])===null||r===void 0?void 0:r.stringValue)===lw}function zu(s){const t=s.mapValue.fields[cw];return L0(t)?zu(t):t}function jo(s){const t=tn(s.mapValue.fields[dw].timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,r,a,i,o,l,c,x,f){this.databaseId=t,this.appId=r,this.persistenceKey=a,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=x,this.useFetchStreams=f}}const qd="(default)";class vo{constructor(t,r){this.projectId=t,this.database=r||qd}static empty(){return new vo("","")}get isDefaultDatabase(){return this.database===qd}isEqual(t){return t instanceof vo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="__type__",xw="__max__",zc={mapValue:{fields:{__type__:{stringValue:xw}}}},mw="__vector__",Wd="value";function rn(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?L0(s)?4:CS(s)?9007199254740991:kS(s)?10:11:st()}function $r(s,t){if(s===t)return!0;const r=rn(s);if(r!==rn(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jo(s).isEqual(jo(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=tn(i.timestampValue),c=tn(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(i,o){return sn(i.bytesValue).isEqual(sn(o.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(i,o){return Jt(i.geoPointValue.latitude)===Jt(o.geoPointValue.latitude)&&Jt(i.geoPointValue.longitude)===Jt(o.geoPointValue.longitude)}(s,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Jt(i.integerValue)===Jt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Jt(i.doubleValue),c=Jt(o.doubleValue);return l===c?$d(l)===$d(c):isNaN(l)&&isNaN(c)}return!1}(s,t);case 9:return Li(s.arrayValue.values||[],t.arrayValue.values||[],$r);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(gy(l)!==gy(c))return!1;for(const x in l)if(l.hasOwnProperty(x)&&(c[x]===void 0||!$r(l[x],c[x])))return!1;return!0}(s,t);default:return st()}}function No(s,t){return(s.values||[]).find(r=>$r(r,t))!==void 0}function Vi(s,t){if(s===t)return 0;const r=rn(s),a=rn(t);if(r!==a)return ct(r,a);switch(r){case 0:case 9007199254740991:return 0;case 1:return ct(s.booleanValue,t.booleanValue);case 2:return function(o,l){const c=Jt(o.integerValue||o.doubleValue),x=Jt(l.integerValue||l.doubleValue);return c<x?-1:c>x?1:c===x?0:isNaN(c)?isNaN(x)?0:-1:1}(s,t);case 3:return by(s.timestampValue,t.timestampValue);case 4:return by(jo(s),jo(t));case 5:return ch(s.stringValue,t.stringValue);case 6:return function(o,l){const c=sn(o),x=sn(l);return c.compareTo(x)}(s.bytesValue,t.bytesValue);case 7:return function(o,l){const c=o.split("/"),x=l.split("/");for(let f=0;f<c.length&&f<x.length;f++){const N=ct(c[f],x[f]);if(N!==0)return N}return ct(c.length,x.length)}(s.referenceValue,t.referenceValue);case 8:return function(o,l){const c=ct(Jt(o.latitude),Jt(l.latitude));return c!==0?c:ct(Jt(o.longitude),Jt(l.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return jy(s.arrayValue,t.arrayValue);case 10:return function(o,l){var c,x,f,N;const I=o.fields||{},S=l.fields||{},D=(c=I[Wd])===null||c===void 0?void 0:c.arrayValue,g=(x=S[Wd])===null||x===void 0?void 0:x.arrayValue,L=ct(((f=D==null?void 0:D.values)===null||f===void 0?void 0:f.length)||0,((N=g==null?void 0:g.values)===null||N===void 0?void 0:N.length)||0);return L!==0?L:jy(D,g)}(s.mapValue,t.mapValue);case 11:return function(o,l){if(o===zc.mapValue&&l===zc.mapValue)return 0;if(o===zc.mapValue)return 1;if(l===zc.mapValue)return-1;const c=o.fields||{},x=Object.keys(c),f=l.fields||{},N=Object.keys(f);x.sort(),N.sort();for(let I=0;I<x.length&&I<N.length;++I){const S=ch(x[I],N[I]);if(S!==0)return S;const D=Vi(c[x[I]],f[N[I]]);if(D!==0)return D}return ct(x.length,N.length)}(s.mapValue,t.mapValue);default:throw st()}}function by(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return ct(s,t);const r=tn(s),a=tn(t),i=ct(r.seconds,a.seconds);return i!==0?i:ct(r.nanos,a.nanos)}function jy(s,t){const r=s.values||[],a=t.values||[];for(let i=0;i<r.length&&i<a.length;++i){const o=Vi(r[i],a[i]);if(o)return o}return ct(r.length,a.length)}function Bi(s){return dh(s)}function dh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(r){const a=tn(r);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(r){return sn(r).toBase64()}(s.bytesValue):"referenceValue"in s?function(r){return et.fromName(r).toString()}(s.referenceValue):"geoPointValue"in s?function(r){return`geo(${r.latitude},${r.longitude})`}(s.geoPointValue):"arrayValue"in s?function(r){let a="[",i=!0;for(const o of r.values||[])i?i=!1:a+=",",a+=dh(o);return a+"]"}(s.arrayValue):"mapValue"in s?function(r){const a=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const l of a)o?o=!1:i+=",",i+=`${l}:${dh(r.fields[l])}`;return i+"}"}(s.mapValue):st()}function rd(s){switch(rn(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zu(s);return t?16+rd(t):16;case 5:return 2*s.stringValue.length;case 6:return sn(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((i,o)=>i+rd(o),0)}(s.arrayValue);case 10:case 11:return function(a){let i=0;return un(a.fields,(o,l)=>{i+=o.length+rd(l)}),i}(s.mapValue);default:throw st()}}function vy(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function uh(s){return!!s&&"integerValue"in s}function V0(s){return!!s&&"arrayValue"in s}function Ny(s){return!!s&&"nullValue"in s}function wy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function ad(s){return!!s&&"mapValue"in s}function kS(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)===null||t===void 0?void 0:t.fields)||{})[uw])===null||r===void 0?void 0:r.stringValue)===mw}function Gl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const t={mapValue:{fields:{}}};return un(s.mapValue.fields,(r,a)=>t.mapValue.fields[r]=Gl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(s.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Gl(s.arrayValue.values[r]);return t}return Object.assign({},s)}function CS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t){this.value=t}static empty(){return new Rs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let a=0;a<t.length-1;++a)if(r=(r.mapValue.fields||{})[t.get(a)],!ad(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gl(r)}setAll(t){let r=fs.emptyPath(),a={},i=[];t.forEach((l,c)=>{if(!r.isImmediateParentOf(c)){const x=this.getFieldsMap(r);this.applyChanges(x,a,i),a={},i=[],r=c.popLast()}l?a[c.lastSegment()]=Gl(l):i.push(c.lastSegment())});const o=this.getFieldsMap(r);this.applyChanges(o,a,i)}delete(t){const r=this.field(t.popLast());ad(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return $r(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let a=0;a<t.length;++a){let i=r.mapValue.fields[t.get(a)];ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(a)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,a){un(r,(i,o)=>t[i]=o);for(const i of a)delete t[i]}clone(){return new Rs(Gl(this.value))}}function hw(s){const t=[];return un(s.fields,(r,a)=>{const i=new fs([r]);if(ad(a)){const o=hw(a.mapValue).fields;if(o.length===0)t.push(i);else for(const l of o)t.push(i.child(l))}else t.push(i)}),new Xs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,r,a,i,o,l,c){this.key=t,this.documentType=r,this.version=a,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(t){return new us(t,0,at.min(),at.min(),at.min(),Rs.empty(),0)}static newFoundDocument(t,r,a,i){return new us(t,1,r,at.min(),a,i,0)}static newNoDocument(t,r){return new us(t,2,r,at.min(),at.min(),Rs.empty(),0)}static newUnknownDocument(t,r){return new us(t,3,r,at.min(),at.min(),Rs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof us&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t,r){this.position=t,this.inclusive=r}}function ky(s,t,r){let a=0;for(let i=0;i<s.position.length;i++){const o=t[i],l=s.position[i];if(o.field.isKeyField()?a=et.comparator(et.fromName(l.referenceValue),r.key):a=Vi(l,r.data.field(o.field)),o.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cy(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let r=0;r<s.position.length;r++)if(!$r(s.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,r="asc"){this.field=t,this.dir=r}}function IS(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{}class ss extends pw{constructor(t,r,a){super(),this.field=t,this.op=r,this.value=a}static create(t,r,a){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,a):new SS(t,r,a):r==="array-contains"?new TS(t,a):r==="in"?new DS(t,a):r==="not-in"?new AS(t,a):r==="array-contains-any"?new RS(t,a):new ss(t,r,a)}static createKeyFieldInFilter(t,r,a){return r==="in"?new _S(t,a):new PS(t,a)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Vi(r,this.value)):r!==null&&rn(this.value)===rn(r)&&this.matchesComparison(Vi(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return st()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends pw{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new Sr(t,r)}matches(t){return fw(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fw(s){return s.op==="and"}function gw(s){return ES(s)&&fw(s)}function ES(s){for(const t of s.filters)if(t instanceof Sr)return!1;return!0}function xh(s){if(s instanceof ss)return s.field.canonicalString()+s.op.toString()+Bi(s.value);if(gw(s))return s.filters.map(t=>xh(t)).join(",");{const t=s.filters.map(r=>xh(r)).join(",");return`${s.op}(${t})`}}function yw(s,t){return s instanceof ss?function(a,i){return i instanceof ss&&a.op===i.op&&a.field.isEqual(i.field)&&$r(a.value,i.value)}(s,t):s instanceof Sr?function(a,i){return i instanceof Sr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce((o,l,c)=>o&&yw(l,i.filters[c]),!0):!1}(s,t):void st()}function bw(s){return s instanceof ss?function(r){return`${r.field.canonicalString()} ${r.op} ${Bi(r.value)}`}(s):s instanceof Sr?function(r){return r.op.toString()+" {"+r.getFilters().map(bw).join(" ,")+"}"}(s):"Filter"}class SS extends ss{constructor(t,r,a){super(t,r,a),this.key=et.fromName(a.referenceValue)}matches(t){const r=et.comparator(t.key,this.key);return this.matchesComparison(r)}}class _S extends ss{constructor(t,r){super(t,"in",r),this.keys=jw("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class PS extends ss{constructor(t,r){super(t,"not-in",r),this.keys=jw("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function jw(s,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(a=>et.fromName(a.referenceValue))}class TS extends ss{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return V0(r)&&No(r.arrayValue,this.value)}}class DS extends ss{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&No(this.value.arrayValue,r)}}class AS extends ss{constructor(t,r){super(t,"not-in",r)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!No(this.value.arrayValue,r)}}class RS extends ss{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!V0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(a=>No(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,r=null,a=[],i=[],o=null,l=null,c=null){this.path=t,this.collectionGroup=r,this.orderBy=a,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.le=null}}function Iy(s,t=null,r=[],a=[],i=null,o=null,l=null){return new MS(s,t,r,a,i,o,l)}function B0(s){const t=it(s);if(t.le===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(a=>xh(a)).join(","),r+="|ob:",r+=t.orderBy.map(a=>function(o){return o.field.canonicalString()+o.dir}(a)).join(","),Vo(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Bi(a)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Bi(a)).join(",")),t.le=r}return t.le}function F0(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<s.orderBy.length;r++)if(!IS(s.orderBy[r],t.orderBy[r]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let r=0;r<s.filters.length;r++)if(!yw(s.filters[r],t.filters[r]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Cy(s.startAt,t.startAt)&&Cy(s.endAt,t.endAt)}function mh(s){return et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t,r=null,a=[],i=[],o=null,l="F",c=null,x=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=x,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zS(s,t,r,a,i,o,l,c){return new Xi(s,t,r,a,i,o,l,c)}function Ou(s){return new Xi(s)}function Ey(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function vw(s){return s.collectionGroup!==null}function Hl(s){const t=it(s);if(t.he===null){t.he=[];const r=new Set;for(const o of t.explicitOrderBy)t.he.push(o),r.add(o.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new is(fs.comparator);return l.filters.forEach(x=>{x.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(t).forEach(o=>{r.has(o.canonicalString())||o.isKeyField()||t.he.push(new wo(o,a))}),r.has(fs.keyField().canonicalString())||t.he.push(new wo(fs.keyField(),a))}return t.he}function Vr(s){const t=it(s);return t.Pe||(t.Pe=OS(t,Hl(s))),t.Pe}function OS(s,t){if(s.limitType==="F")return Iy(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new wo(i.field,o)});const r=s.endAt?new Gd(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Gd(s.startAt.position,s.startAt.inclusive):null;return Iy(s.path,s.collectionGroup,t,s.filters,s.limit,r,a)}}function hh(s,t){const r=s.filters.concat([t]);return new Xi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),r,s.limit,s.limitType,s.startAt,s.endAt)}function Hd(s,t,r){return new Xi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,r,s.startAt,s.endAt)}function Lu(s,t){return F0(Vr(s),Vr(t))&&s.limitType===t.limitType}function Nw(s){return`${B0(Vr(s))}|lt:${s.limitType}`}function si(s){return`Query(target=${function(r){let a=r.path.canonicalString();return r.collectionGroup!==null&&(a+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(a+=`, filters: [${r.filters.map(i=>bw(i)).join(", ")}]`),Vo(r.limit)||(a+=", limit: "+r.limit),r.orderBy.length>0&&(a+=`, orderBy: [${r.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),r.startAt&&(a+=", startAt: ",a+=r.startAt.inclusive?"b:":"a:",a+=r.startAt.position.map(i=>Bi(i)).join(",")),r.endAt&&(a+=", endAt: ",a+=r.endAt.inclusive?"a:":"b:",a+=r.endAt.position.map(i=>Bi(i)).join(",")),`Target(${a})`}(Vr(s))}; limitType=${s.limitType})`}function Vu(s,t){return t.isFoundDocument()&&function(a,i){const o=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(o):et.isDocumentKey(a.path)?a.path.isEqual(o):a.path.isImmediateParentOf(o)}(s,t)&&function(a,i){for(const o of Hl(a))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(s,t)&&function(a,i){for(const o of a.filters)if(!o.matches(i))return!1;return!0}(s,t)&&function(a,i){return!(a.startAt&&!function(l,c,x){const f=ky(l,c,x);return l.inclusive?f<=0:f<0}(a.startAt,Hl(a),i)||a.endAt&&!function(l,c,x){const f=ky(l,c,x);return l.inclusive?f>=0:f>0}(a.endAt,Hl(a),i))}(s,t)}function LS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function ww(s){return(t,r)=>{let a=!1;for(const i of Hl(s)){const o=VS(i,t,r);if(o!==0)return o;a=a||i.field.isKeyField()}return 0}}function VS(s,t,r){const a=s.field.isKeyField()?et.comparator(t.key,r.key):function(o,l,c){const x=l.data.field(o),f=c.data.field(o);return x!==null&&f!==null?Vi(x,f):st()}(s.field,t,r);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return st()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a!==void 0){for(const[i,o]of a)if(this.equalsFn(i,t))return o}}has(t){return this.get(t)!==void 0}set(t,r){const a=this.mapKeyFn(t),i=this.inner[a];if(i===void 0)return this.inner[a]=[[t,r]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return void(i[o]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return a.length===1?delete this.inner[r]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(t){un(this.inner,(r,a)=>{for(const[i,o]of a)t(i,o)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=new Qt(et.comparator);function ha(){return BS}const kw=new Qt(et.comparator);function Dl(...s){let t=kw;for(const r of s)t=t.insert(r.key,r);return t}function Cw(s){let t=kw;return s.forEach((r,a)=>t=t.insert(r,a.overlayedDocument)),t}function kn(){return Ql()}function Iw(){return Ql()}function Ql(){return new Wn(s=>s.toString(),(s,t)=>s.isEqual(t))}const FS=new Qt(et.comparator),US=new is(et.comparator);function ft(...s){let t=US;for(const r of s)t=t.add(r);return t}const $S=new is(ct);function qS(){return $S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(t)?"-0":t}}function Ew(s){return{integerValue:""+s}}function Sw(s,t){return bS(t)?Ew(t):U0(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this._=void 0}}function WS(s,t,r){return s instanceof ko?function(i,o){const l={fields:{[ow]:{stringValue:lw},[dw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&L0(o)&&(o=zu(o)),o&&(l.fields[cw]=o),{mapValue:l}}(r,t):s instanceof Co?Pw(s,t):s instanceof Io?Tw(s,t):function(i,o){const l=_w(i,o),c=Sy(l)+Sy(i.Ie);return uh(l)&&uh(i.Ie)?Ew(c):U0(i.serializer,c)}(s,t)}function GS(s,t,r){return s instanceof Co?Pw(s,t):s instanceof Io?Tw(s,t):r}function _w(s,t){return s instanceof Eo?function(a){return uh(a)||function(o){return!!o&&"doubleValue"in o}(a)}(t)?t:{integerValue:0}:null}class ko extends Bu{}class Co extends Bu{constructor(t){super(),this.elements=t}}function Pw(s,t){const r=Dw(t);for(const a of s.elements)r.some(i=>$r(i,a))||r.push(a);return{arrayValue:{values:r}}}class Io extends Bu{constructor(t){super(),this.elements=t}}function Tw(s,t){let r=Dw(t);for(const a of s.elements)r=r.filter(i=>!$r(i,a));return{arrayValue:{values:r}}}class Eo extends Bu{constructor(t,r){super(),this.serializer=t,this.Ie=r}}function Sy(s){return Jt(s.integerValue||s.doubleValue)}function Dw(s){return V0(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,r){this.field=t,this.transform=r}}function HS(s,t){return s.field.isEqual(t.field)&&function(a,i){return a instanceof Co&&i instanceof Co||a instanceof Io&&i instanceof Io?Li(a.elements,i.elements,$r):a instanceof Eo&&i instanceof Eo?$r(a.Ie,i.Ie):a instanceof ko&&i instanceof ko}(s.transform,t.transform)}class QS{constructor(t,r){this.version=t,this.transformResults=r}}class gs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new gs}static exists(t){return new gs(void 0,t)}static updateTime(t){return new gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function nd(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Fu{}function Rw(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Uu(s.key,gs.none()):new Bo(s.key,s.data,gs.none());{const r=s.data,a=Rs.empty();let i=new is(fs.comparator);for(let o of t.fields)if(!i.has(o)){let l=r.field(o);l===null&&o.length>1&&(o=o.popLast(),l=r.field(o)),l===null?a.delete(o):a.set(o,l),i=i.add(o)}return new xn(s.key,a,new Xs(i.toArray()),gs.none())}}function KS(s,t,r){s instanceof Bo?function(i,o,l){const c=i.value.clone(),x=Py(i.fieldTransforms,o,l.transformResults);c.setAll(x),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(s,t,r):s instanceof xn?function(i,o,l){if(!nd(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=Py(i.fieldTransforms,o,l.transformResults),x=o.data;x.setAll(Mw(i)),x.setAll(c),o.convertToFoundDocument(l.version,x).setHasCommittedMutations()}(s,t,r):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,r)}function Kl(s,t,r,a){return s instanceof Bo?function(o,l,c,x){if(!nd(o.precondition,l))return c;const f=o.value.clone(),N=Ty(o.fieldTransforms,x,l);return f.setAll(N),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(s,t,r,a):s instanceof xn?function(o,l,c,x){if(!nd(o.precondition,l))return c;const f=Ty(o.fieldTransforms,x,l),N=l.data;return N.setAll(Mw(o)),N.setAll(f),l.convertToFoundDocument(l.version,N).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(I=>I.field))}(s,t,r,a):function(o,l,c){return nd(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(s,t,r)}function YS(s,t){let r=null;for(const a of s.fieldTransforms){const i=t.data.field(a.field),o=_w(a.transform,i||null);o!=null&&(r===null&&(r=Rs.empty()),r.set(a.field,o))}return r||null}function _y(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Li(a,i,(o,l)=>HS(o,l))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Bo extends Fu{constructor(t,r,a,i=[]){super(),this.key=t,this.value=r,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xn extends Fu{constructor(t,r,a,i,o=[]){super(),this.key=t,this.data=r,this.fieldMask=a,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(s){const t=new Map;return s.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const a=s.data.field(r);t.set(r,a)}}),t}function Py(s,t,r){const a=new Map;jt(s.length===r.length);for(let i=0;i<r.length;i++){const o=s[i],l=o.transform,c=t.data.field(o.field);a.set(o.field,GS(l,c,r[i]))}return a}function Ty(s,t,r){const a=new Map;for(const i of s){const o=i.transform,l=r.data.field(i.field);a.set(i.field,WS(o,l,t))}return a}class Uu extends Fu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zw extends Fu{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(t,r,a,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(t,r){const a=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(t.key)&&KS(o,t,a[i])}}applyToLocalView(t,r){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(r=Kl(a,t,r,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(r=Kl(a,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const a=Iw();return this.mutations.forEach(i=>{const o=t.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=r.has(i.key)?null:c;const x=Rw(l,c);x!==null&&a.set(i.key,x),l.isValidDocument()||l.convertToNoDocument(at.min())}),a}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),ft())}isEqual(t){return this.batchId===t.batchId&&Li(this.mutations,t.mutations,(r,a)=>_y(r,a))&&Li(this.baseMutations,t.baseMutations,(r,a)=>_y(r,a))}}class $0{constructor(t,r,a,i){this.batch=t,this.commitVersion=r,this.mutationResults=a,this.docVersions=i}static from(t,r,a){jt(t.mutations.length===a.length);let i=function(){return FS}();const o=t.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,a[l].version);return new $0(t,r,a,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,bt;function Ow(s){switch(s){case je.OK:return st();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0;default:return st()}}function Lw(s){if(s===void 0)return ma("GRPC error has no .code"),je.UNKNOWN;switch(s){case es.OK:return je.OK;case es.CANCELLED:return je.CANCELLED;case es.UNKNOWN:return je.UNKNOWN;case es.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case es.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case es.INTERNAL:return je.INTERNAL;case es.UNAVAILABLE:return je.UNAVAILABLE;case es.UNAUTHENTICATED:return je.UNAUTHENTICATED;case es.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case es.NOT_FOUND:return je.NOT_FOUND;case es.ALREADY_EXISTS:return je.ALREADY_EXISTS;case es.PERMISSION_DENIED:return je.PERMISSION_DENIED;case es.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case es.ABORTED:return je.ABORTED;case es.OUT_OF_RANGE:return je.OUT_OF_RANGE;case es.UNIMPLEMENTED:return je.UNIMPLEMENTED;case es.DATA_LOSS:return je.DATA_LOSS;default:return st()}}(bt=es||(es={}))[bt.OK=0]="OK",bt[bt.CANCELLED=1]="CANCELLED",bt[bt.UNKNOWN=2]="UNKNOWN",bt[bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bt[bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bt[bt.NOT_FOUND=5]="NOT_FOUND",bt[bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",bt[bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",bt[bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",bt[bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bt[bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bt[bt.ABORTED=10]="ABORTED",bt[bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",bt[bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",bt[bt.INTERNAL=13]="INTERNAL",bt[bt.UNAVAILABLE=14]="UNAVAILABLE",bt[bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_=new Ka([4294967295,4294967295],0);function Dy(s){const t=sw().encode(s),r=new KN;return r.update(t),new Uint8Array(r.digest())}function Ay(s){const t=new DataView(s.buffer),r=t.getUint32(0,!0),a=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ka([r,a],0),new Ka([i,o],0)]}class q0{constructor(t,r,a){if(this.bitmap=t,this.padding=r,this.hashCount=a,r<0||r>=8)throw new Al(`Invalid padding: ${r}`);if(a<0)throw new Al(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${a}`);if(t.length===0&&r!==0)throw new Al(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*t.length-r,this.de=Ka.fromNumber(this.Ee)}Ae(t,r,a){let i=t.add(r.multiply(Ka.fromNumber(a)));return i.compare(e_)===1&&(i=new Ka([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const r=Dy(t),[a,i]=Ay(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);if(!this.Re(l))return!1}return!0}static create(t,r,a){const i=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new q0(o,i,r);return a.forEach(c=>l.insert(c)),l}insert(t){if(this.Ee===0)return;const r=Dy(t),[a,i]=Ay(r);for(let o=0;o<this.hashCount;o++){const l=this.Ae(a,i,o);this.Ve(l)}}Ve(t){const r=Math.floor(t/8),a=t%8;this.bitmap[r]|=1<<a}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,r,a,i,o){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,r,a){const i=new Map;return i.set(t,Fo.createSynthesizedTargetChangeForCurrentChange(t,r,a)),new $u(at.min(),i,new Qt(ct),ha(),ft())}}class Fo{constructor(t,r,a,i,o){this.resumeToken=t,this.current=r,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,r,a){return new Fo(a,r,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,r,a,i){this.me=t,this.removedTargetIds=r,this.key=a,this.fe=i}}class Vw{constructor(t,r){this.targetId=t,this.ge=r}}class Bw{constructor(t,r,a=vs.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=a,this.cause=i}}class Ry{constructor(){this.pe=0,this.ye=My(),this.we=vs.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=ft(),r=ft(),a=ft();return this.ye.forEach((i,o)=>{switch(o){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:a=a.add(i);break;default:st()}}),new Fo(this.we,this.Se,t,r,a)}Me(){this.be=!1,this.ye=My()}xe(t,r){this.be=!0,this.ye=this.ye.insert(t,r)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class t_{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ha(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new Qt(ct)}We(t){for(const r of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(r,t.fe):this.ze(r,t.key,t.fe);for(const r of t.removedTargetIds)this.ze(r,t.key,t.fe)}je(t){this.forEachTarget(t,r=>{const a=this.He(r);switch(t.state){case 0:this.Je(r)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(r);break;case 3:this.Je(r)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),a.Ce(t.resumeToken));break;default:st()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.qe.forEach((a,i)=>{this.Je(i)&&r(i)})}Ze(t){const r=t.targetId,a=t.ge.count,i=this.Xe(r);if(i){const o=i.target;if(mh(o))if(a===0){const l=new et(o.path);this.ze(r,l,us.newNoDocument(l,at.min()))}else jt(a===1);else{const l=this.et(r);if(l!==a){const c=this.tt(t),x=c?this.nt(c,t,l):1;if(x!==0){this.Ye(r);const f=x===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,f)}}}}}tt(t){const r=t.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:o=0}=r;let l,c;try{l=sn(a).toUint8Array()}catch(x){if(x instanceof iw)return Oi("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw x}try{c=new q0(l,i,o)}catch(x){return Oi(x instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",x),null}return c.Ee===0?null:c}nt(t,r,a){return r.ge.count===a-this.st(t,r.targetId)?0:2}st(t,r){const a=this.ke.getRemoteKeysForTarget(r);let i=0;return a.forEach(o=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.ze(r,o,null),i++)}),i}ot(t){const r=new Map;this.qe.forEach((o,l)=>{const c=this.Xe(l);if(c){if(o.current&&mh(c.target)){const x=new et(c.target.path);this._t(x).has(l)||this.ut(l,x)||this.ze(l,x,us.newNoDocument(x,t))}o.ve&&(r.set(l,o.Fe()),o.Me())}});let a=ft();this.Ue.forEach((o,l)=>{let c=!0;l.forEachWhile(x=>{const f=this.Xe(x);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(a=a.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(t));const i=new $u(t,r,this.Ke,this.Qe,a);return this.Qe=ha(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new Qt(ct),i}Ge(t,r){if(!this.Je(t))return;const a=this.ut(t,r.key)?2:0;this.He(t).xe(r.key,a),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(t))}ze(t,r,a){if(!this.Je(t))return;const i=this.He(t);this.ut(t,r)?i.xe(r,1):i.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(t)),this.Ue=this.Ue.insert(r,this.ct(r).add(t)),a&&(this.Qe=this.Qe.insert(r,a))}removeTarget(t){this.qe.delete(t)}et(t){const r=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let r=this.qe.get(t);return r||(r=new Ry,this.qe.set(t,r)),r}ct(t){let r=this.Ue.get(t);return r||(r=new is(ct),this.Ue=this.Ue.insert(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new is(ct),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||Fe("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.qe.get(t);return r&&r.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Ry),this.ke.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ut(t,r){return this.ke.getRemoteKeysForTarget(t).has(r)}}function Oc(){return new Qt(et.comparator)}function My(){return new Qt(et.comparator)}const s_=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),r_=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),a_=(()=>({and:"AND",or:"OR"}))();class n_{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ph(s,t){return s.useProto3Json||Vo(t)?t:{value:t}}function Qd(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Fw(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function i_(s,t){return Qd(s,t.toTimestamp())}function tr(s){return jt(!!s),at.fromTimestamp(function(r){const a=tn(r);return new Zt(a.seconds,a.nanos)}(s))}function W0(s,t){return fh(s,t).canonicalString()}function fh(s,t){const r=function(i){return new Ot(["projects",i.projectId,"databases",i.database])}(s).child("documents");return t===void 0?r:r.child(t)}function Uw(s){const t=Ot.fromString(s);return jt(Qw(t)),t}function Kd(s,t){return W0(s.databaseId,t.path)}function Yl(s,t){const r=Uw(t);if(r.get(1)!==s.databaseId.projectId)throw new Ve(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+s.databaseId.projectId);if(r.get(3)!==s.databaseId.database)throw new Ve(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+s.databaseId.database);return new et(qw(r))}function $w(s,t){return W0(s.databaseId,t)}function l_(s){const t=Uw(s);return t.length===4?Ot.emptyPath():qw(t)}function gh(s){return new Ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qw(s){return jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function zy(s,t,r){return{name:Kd(s,t),fields:r.value.mapValue.fields}}function o_(s,t){return"found"in t?function(a,i){jt(!!i.found),i.found.name,i.found.updateTime;const o=Yl(a,i.found.name),l=tr(i.found.updateTime),c=i.found.createTime?tr(i.found.createTime):at.min(),x=new Rs({mapValue:{fields:i.found.fields}});return us.newFoundDocument(o,l,c,x)}(s,t):"missing"in t?function(a,i){jt(!!i.missing),jt(!!i.readTime);const o=Yl(a,i.missing),l=tr(i.readTime);return us.newNoDocument(o,l)}(s,t):st()}function c_(s,t){let r;if("targetChange"in t){t.targetChange;const a=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:st()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(f,N){return f.useProto3Json?(jt(N===void 0||typeof N=="string"),vs.fromBase64String(N||"")):(jt(N===void 0||N instanceof Buffer||N instanceof Uint8Array),vs.fromUint8Array(N||new Uint8Array))}(s,t.targetChange.resumeToken),l=t.targetChange.cause,c=l&&function(f){const N=f.code===void 0?je.UNKNOWN:Lw(f.code);return new Ve(N,f.message||"")}(l);r=new Bw(a,i,o,c||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const i=Yl(s,a.document.name),o=tr(a.document.updateTime),l=a.document.createTime?tr(a.document.createTime):at.min(),c=new Rs({mapValue:{fields:a.document.fields}}),x=us.newFoundDocument(i,o,l,c),f=a.targetIds||[],N=a.removedTargetIds||[];r=new id(f,N,x.key,x)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const i=Yl(s,a.document),o=a.readTime?tr(a.readTime):at.min(),l=us.newNoDocument(i,o),c=a.removedTargetIds||[];r=new id([],c,l.key,l)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const i=Yl(s,a.document),o=a.removedTargetIds||[];r=new id([],o,i,null)}else{if(!("filter"in t))return st();{t.filter;const a=t.filter;a.targetId;const{count:i=0,unchangedNames:o}=a,l=new ZS(i,o),c=a.targetId;r=new Vw(c,l)}}return r}function Ww(s,t){let r;if(t instanceof Bo)r={update:zy(s,t.key,t.value)};else if(t instanceof Uu)r={delete:Kd(s,t.key)};else if(t instanceof xn)r={update:zy(s,t.key,t.data),updateMask:y_(t.fieldMask)};else{if(!(t instanceof zw))return st();r={verify:Kd(s,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(a=>function(o,l){const c=l.transform;if(c instanceof ko)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Co)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Io)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Eo)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw st()}(0,a))),t.precondition.isNone||(r.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:i_(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:st()}(s,t.precondition)),r}function d_(s,t){return s&&s.length>0?(jt(t!==void 0),s.map(r=>function(i,o){let l=i.updateTime?tr(i.updateTime):tr(o);return l.isEqual(at.min())&&(l=tr(o)),new QS(l,i.transformResults||[])}(r,t))):[]}function u_(s,t){return{documents:[$w(s,t.path)]}}function x_(s,t){const r={structuredQuery:{}},a=t.path;let i;t.collectionGroup!==null?(i=a,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=a.popLast(),r.structuredQuery.from=[{collectionId:a.lastSegment()}]),r.parent=$w(s,i);const o=function(f){if(f.length!==0)return Hw(Sr.create(f,"and"))}(t.filters);o&&(r.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(N=>function(S){return{field:ri(S.field),direction:p_(S.dir)}}(N))}(t.orderBy);l&&(r.structuredQuery.orderBy=l);const c=ph(s,t.limit);return c!==null&&(r.structuredQuery.limit=c),t.startAt&&(r.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(t.endAt)),{ht:r,parent:i}}function m_(s){let t=l_(s.parent);const r=s.structuredQuery,a=r.from?r.from.length:0;let i=null;if(a>0){jt(a===1);const N=r.from[0];N.allDescendants?i=N.collectionId:t=t.child(N.collectionId)}let o=[];r.where&&(o=function(I){const S=Gw(I);return S instanceof Sr&&gw(S)?S.getFilters():[S]}(r.where));let l=[];r.orderBy&&(l=function(I){return I.map(S=>function(g){return new wo(ai(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(S))}(r.orderBy));let c=null;r.limit&&(c=function(I){let S;return S=typeof I=="object"?I.value:I,Vo(S)?null:S}(r.limit));let x=null;r.startAt&&(x=function(I){const S=!!I.before,D=I.values||[];return new Gd(D,S)}(r.startAt));let f=null;return r.endAt&&(f=function(I){const S=!I.before,D=I.values||[];return new Gd(D,S)}(r.endAt)),zS(t,i,l,o,c,"F",x,f)}function h_(s,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return st()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function Gw(s){return s.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const a=ai(r.unaryFilter.field);return ss.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=ai(r.unaryFilter.field);return ss.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ai(r.unaryFilter.field);return ss.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=ai(r.unaryFilter.field);return ss.create(l,"!=",{nullValue:"NULL_VALUE"});default:return st()}}(s):s.fieldFilter!==void 0?function(r){return ss.create(ai(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(r.fieldFilter.op),r.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(r){return Sr.create(r.compositeFilter.filters.map(a=>Gw(a)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return st()}}(r.compositeFilter.op))}(s):st()}function p_(s){return s_[s]}function f_(s){return r_[s]}function g_(s){return a_[s]}function ri(s){return{fieldPath:s.canonicalString()}}function ai(s){return fs.fromServerFormat(s.fieldPath)}function Hw(s){return s instanceof ss?function(r){if(r.op==="=="){if(wy(r.value))return{unaryFilter:{field:ri(r.field),op:"IS_NAN"}};if(Ny(r.value))return{unaryFilter:{field:ri(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(wy(r.value))return{unaryFilter:{field:ri(r.field),op:"IS_NOT_NAN"}};if(Ny(r.value))return{unaryFilter:{field:ri(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ri(r.field),op:f_(r.op),value:r.value}}}(s):s instanceof Sr?function(r){const a=r.getFilters().map(i=>Hw(i));return a.length===1?a[0]:{compositeFilter:{op:g_(r.op),filters:a}}}(s):st()}function y_(s){const t=[];return s.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Qw(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(t,r,a,i,o=at.min(),l=at.min(),c=vs.EMPTY_BYTE_STRING,x=null){this.target=t,this.targetId=r,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=x}withSequenceNumber(t){return new Oa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(t){this.Tt=t}}function j_(s){const t=m_({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(){this.Tn=new N_}addToCollectionParentIndex(t,r){return this.Tn.add(r),Ne.resolve()}getCollectionParents(t,r){return Ne.resolve(this.Tn.getEntries(r))}addFieldIndex(t,r){return Ne.resolve()}deleteFieldIndex(t,r){return Ne.resolve()}deleteAllFieldIndexes(t){return Ne.resolve()}createTargetIndexes(t,r){return Ne.resolve()}getDocumentsMatchingTarget(t,r){return Ne.resolve(null)}getIndexType(t,r){return Ne.resolve(0)}getFieldIndexes(t,r){return Ne.resolve([])}getNextCollectionGroupToUpdate(t){return Ne.resolve(null)}getMinOffset(t,r){return Ne.resolve(en.min())}getMinOffsetFromCollectionGroup(t,r){return Ne.resolve(en.min())}updateCollectionGroup(t,r,a){return Ne.resolve()}updateIndexEntries(t,r){return Ne.resolve()}}class N_{constructor(){this.index={}}add(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r]||new is(Ot.comparator),o=!i.has(a);return this.index[r]=i.add(a),o}has(t){const r=t.lastSegment(),a=t.popLast(),i=this.index[r];return i&&i.has(a)}getEntries(t){return(this.index[t]||new is(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Kw=41943040;class Vs{static withCacheSize(t){return new Vs(t,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.DEFAULT_COLLECTION_PERCENTILE=10,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vs.DEFAULT=new Vs(Kw,Vs.DEFAULT_COLLECTION_PERCENTILE,Vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vs.DISABLED=new Vs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Fi(0)}static Kn(){return new Fi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly="LruGarbageCollector",w_=1048576;function Vy([s,t],[r,a]){const i=ct(s,r);return i===0?ct(t,a):i}class k_{constructor(t){this.Hn=t,this.buffer=new is(Vy),this.Jn=0}Yn(){return++this.Jn}Zn(t){const r=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const a=this.buffer.last();Vy(r,a)<0&&(this.buffer=this.buffer.delete(a).add(r))}}get maxValue(){return this.buffer.last()[0]}}class C_{constructor(t,r,a){this.garbageCollector=t,this.asyncQueue=r,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Fe(Ly,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ji(r)?Fe(Ly,"Ignoring IndexedDB error during garbage collection: ",r):await Yi(r)}await this.er(3e5)})}}class I_{constructor(t,r){this.tr=t,this.params=r}calculateTargetCount(t,r){return this.tr.nr(t).next(a=>Math.floor(r/100*a))}nthSequenceNumber(t,r){if(r===0)return Ne.resolve(Mu.ae);const a=new k_(r);return this.tr.forEachTarget(t,i=>a.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>a.Zn(i))).next(()=>a.maxValue)}removeTargets(t,r,a){return this.tr.removeTargets(t,r,a)}removeOrphanedDocuments(t,r){return this.tr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(Oy)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oy):this.ir(t,r))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,r){let a,i,o,l,c,x,f;const N=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,l=Date.now(),this.nthSequenceNumber(t,i))).next(I=>(a=I,c=Date.now(),this.removeTargets(t,a,r))).next(I=>(o=I,x=Date.now(),this.removeOrphanedDocuments(t,a))).next(I=>(f=Date.now(),ti()<=pt.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-N}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(x-c)+`ms
	Removed ${I} documents in `+(f-x)+`ms
Total Duration: ${f-N}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:I})))}}function E_(s,t){return new I_(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(){this.changes=new Wn(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,us.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const a=this.changes.get(r);return a!==void 0?Ne.resolve(a):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(t,r,a,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=a,this.indexManager=i}getDocument(t,r){let a=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(a=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(a!==null&&Kl(a.mutation,i,Xs.empty(),Zt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.getLocalViewOfDocuments(t,a,ft()).next(()=>a))}getLocalViewOfDocuments(t,r,a=ft()){const i=kn();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,a).next(o=>{let l=Dl();return o.forEach((c,x)=>{l=l.insert(c,x.overlayedDocument)}),l}))}getOverlayedDocuments(t,r){const a=kn();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,ft()))}populateOverlays(t,r,a){const i=[];return a.forEach(o=>{r.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(t,i).next(o=>{o.forEach((l,c)=>{r.set(l,c)})})}computeViews(t,r,a,i){let o=ha();const l=Ql(),c=function(){return Ql()}();return r.forEach((x,f)=>{const N=a.get(f.key);i.has(f.key)&&(N===void 0||N.mutation instanceof xn)?o=o.insert(f.key,f):N!==void 0?(l.set(f.key,N.mutation.getFieldMask()),Kl(N.mutation,f,N.mutation.getFieldMask(),Zt.now())):l.set(f.key,Xs.empty())}),this.recalculateAndSaveOverlays(t,o).next(x=>(x.forEach((f,N)=>l.set(f,N)),r.forEach((f,N)=>{var I;return c.set(f,new __(N,(I=l.get(f))!==null&&I!==void 0?I:null))}),c))}recalculateAndSaveOverlays(t,r){const a=Ql();let i=new Qt((l,c)=>l-c),o=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(l=>{for(const c of l)c.keys().forEach(x=>{const f=r.get(x);if(f===null)return;let N=a.get(x)||Xs.empty();N=c.applyToLocalView(f,N),a.set(x,N);const I=(i.get(c.batchId)||ft()).add(x);i=i.insert(c.batchId,I)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const x=c.getNext(),f=x.key,N=x.value,I=Iw();N.forEach(S=>{if(!o.has(S)){const D=Rw(r.get(S),a.get(S));D!==null&&I.set(S,D),o=o.add(S)}}),l.push(this.documentOverlayCache.saveOverlays(t,f,I))}return Ne.waitFor(l)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,r,a,i){return function(l){return et.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):vw(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,a,i):this.getDocumentsMatchingCollectionQuery(t,r,a,i)}getNextDocuments(t,r,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,a,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,a.largestBatchId,i-o.size):Ne.resolve(kn());let c=bo,x=o;return l.next(f=>Ne.forEach(f,(N,I)=>(c<I.largestBatchId&&(c=I.largestBatchId),o.get(N)?Ne.resolve():this.remoteDocumentCache.getEntry(t,N).next(S=>{x=x.insert(N,S)}))).next(()=>this.populateOverlays(t,f,o)).next(()=>this.computeViews(t,x,f,ft())).next(N=>({batchId:c,changes:Cw(N)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new et(r)).next(a=>{let i=Dl();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,a,i){const o=r.collectionGroup;let l=Dl();return this.indexManager.getCollectionParents(t,o).next(c=>Ne.forEach(c,x=>{const f=function(I,S){return new Xi(S,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(r,x.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,a,i).next(N=>{N.forEach((I,S)=>{l=l.insert(I,S)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,r,a,i){let o;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,a.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,a,o,i))).next(l=>{o.forEach((x,f)=>{const N=f.getKey();l.get(N)===null&&(l=l.insert(N,us.newInvalidDocument(N)))});let c=Dl();return l.forEach((x,f)=>{const N=o.get(x);N!==void 0&&Kl(N.mutation,f,Xs.empty(),Zt.now()),Vu(r,f)&&(c=c.insert(x,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,r){return Ne.resolve(this.dr.get(r))}saveBundleMetadata(t,r){return this.dr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(r)),Ne.resolve()}getNamedQuery(t,r){return Ne.resolve(this.Ar.get(r))}saveNamedQuery(t,r){return this.Ar.set(r.name,function(i){return{name:i.name,query:j_(i.bundledQuery),readTime:tr(i.readTime)}}(r)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.overlays=new Qt(et.comparator),this.Rr=new Map}getOverlay(t,r){return Ne.resolve(this.overlays.get(r))}getOverlays(t,r){const a=kn();return Ne.forEach(r,i=>this.getOverlay(t,i).next(o=>{o!==null&&a.set(i,o)})).next(()=>a)}saveOverlays(t,r,a){return a.forEach((i,o)=>{this.Et(t,r,o)}),Ne.resolve()}removeOverlaysForBatchId(t,r,a){const i=this.Rr.get(a);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(a)),Ne.resolve()}getOverlaysForCollection(t,r,a){const i=kn(),o=r.length+1,l=new et(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const x=c.getNext().value,f=x.getKey();if(!r.isPrefixOf(f.path))break;f.path.length===o&&x.largestBatchId>a&&i.set(x.getKey(),x)}return Ne.resolve(i)}getOverlaysForCollectionGroup(t,r,a,i){let o=new Qt((f,N)=>f-N);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===r&&f.largestBatchId>a){let N=o.get(f.largestBatchId);N===null&&(N=kn(),o=o.insert(f.largestBatchId,N)),N.set(f.getKey(),f)}}const c=kn(),x=o.getIterator();for(;x.hasNext()&&(x.getNext().value.forEach((f,N)=>c.set(f,N)),!(c.size()>=i)););return Ne.resolve(c)}Et(t,r,a){const i=this.overlays.get(a.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(a.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(a.key,new XS(r,a));let o=this.Rr.get(r);o===void 0&&(o=ft(),this.Rr.set(r,o)),this.Rr.set(r,o.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.sessionToken=vs.EMPTY_BYTE_STRING}getSessionToken(t){return Ne.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.Vr=new is(os.mr),this.gr=new is(os.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,r){const a=new os(t,r);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,r){t.forEach(a=>this.addReference(a,r))}removeReference(t,r){this.wr(new os(t,r))}Sr(t,r){t.forEach(a=>this.removeReference(a,r))}br(t){const r=new et(new Ot([])),a=new os(r,t),i=new os(r,t+1),o=[];return this.gr.forEachInRange([a,i],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const r=new et(new Ot([])),a=new os(r,t),i=new os(r,t+1);let o=ft();return this.gr.forEachInRange([a,i],l=>{o=o.add(l.key)}),o}containsKey(t){const r=new os(t,0),a=this.Vr.firstAfterOrEqual(r);return a!==null&&t.isEqual(a.key)}}class os{constructor(t,r){this.key=t,this.Cr=r}static mr(t,r){return et.comparator(t.key,r.key)||ct(t.Cr,r.Cr)}static pr(t,r){return ct(t.Cr,r.Cr)||et.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new is(os.mr)}checkEmpty(t){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,a,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new JS(o,r,a,i);this.mutationQueue.push(l);for(const c of i)this.Mr=this.Mr.add(new os(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return Ne.resolve(l)}lookupMutationBatch(t,r){return Ne.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(t,r){const a=r+1,i=this.Nr(a),o=i<0?0:i;return Ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?O0:this.Fr-1)}getAllMutationBatches(t){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const a=new os(r,0),i=new os(r,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([a,i],l=>{const c=this.Or(l.Cr);o.push(c)}),Ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,r){let a=new is(ct);return r.forEach(i=>{const o=new os(i,0),l=new os(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],c=>{a=a.add(c.Cr)})}),Ne.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,r){const a=r.path,i=a.length+1;let o=a;et.isDocumentKey(o)||(o=o.child(""));const l=new os(new et(o),0);let c=new is(ct);return this.Mr.forEachWhile(x=>{const f=x.key.path;return!!a.isPrefixOf(f)&&(f.length===i&&(c=c.add(x.Cr)),!0)},l),Ne.resolve(this.Br(c))}Br(t){const r=[];return t.forEach(a=>{const i=this.Or(a);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){jt(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Ne.forEach(r.mutations,i=>{const o=new os(i.key,r.batchId);return a=a.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,r){const a=new os(r,0),i=this.Mr.firstAfterOrEqual(a);return Ne.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ne.resolve()}Lr(t,r){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const r=this.Nr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(t){this.kr=t,this.docs=function(){return new Qt(et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const a=r.key,i=this.docs.get(a),o=i?i.size:0,l=this.kr(r);return this.docs=this.docs.insert(a,{document:r.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const a=this.docs.get(r);return Ne.resolve(a?a.document.mutableCopy():us.newInvalidDocument(r))}getEntries(t,r){let a=ha();return r.forEach(i=>{const o=this.docs.get(i);a=a.insert(i,o?o.document.mutableCopy():us.newInvalidDocument(i))}),Ne.resolve(a)}getDocumentsMatchingQuery(t,r,a,i){let o=ha();const l=r.path,c=new et(l.child("__id-9223372036854775808__")),x=this.docs.getIteratorFrom(c);for(;x.hasNext();){const{key:f,value:{document:N}}=x.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||pS(hS(N),a)<=0||(i.has(N.key)||Vu(r,N))&&(o=o.insert(N.key,N.mutableCopy()))}return Ne.resolve(o)}getAllFromCollectionGroup(t,r,a,i){st()}qr(t,r){return Ne.forEach(this.docs,a=>r(a))}newChangeBuffer(t){return new z_(this)}getSize(t){return Ne.resolve(this.size)}}class z_ extends S_{constructor(t){super(),this.Ir=t}applyChanges(t){const r=[];return this.changes.forEach((a,i)=>{i.isValidDocument()?r.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(a)}),Ne.waitFor(r)}getFromCache(t,r){return this.Ir.getEntry(t,r)}getAllFromCache(t,r){return this.Ir.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(t){this.persistence=t,this.Qr=new Wn(r=>B0(r),F0),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.$r=0,this.Ur=new G0,this.targetCount=0,this.Kr=Fi.Un()}forEachTarget(t,r){return this.Qr.forEach((a,i)=>r(i)),Ne.resolve()}getLastRemoteSnapshotVersion(t){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ne.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(t,r,a){return a&&(this.lastRemoteSnapshotVersion=a),r>this.$r&&(this.$r=r),Ne.resolve()}zn(t){this.Qr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Kr=new Fi(r),this.highestTargetId=r),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,r){return this.zn(r),this.targetCount+=1,Ne.resolve()}updateTargetData(t,r){return this.zn(r),Ne.resolve()}removeTargetData(t,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(t,r,a){let i=0;const o=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=r&&a.get(c.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),i++)}),Ne.waitFor(o).next(()=>i)}getTargetCount(t){return Ne.resolve(this.targetCount)}getTargetData(t,r){const a=this.Qr.get(r)||null;return Ne.resolve(a)}addMatchingKeys(t,r,a){return this.Ur.yr(r,a),Ne.resolve()}removeMatchingKeys(t,r,a){this.Ur.Sr(r,a);const i=this.persistence.referenceDelegate,o=[];return i&&r.forEach(l=>{o.push(i.markPotentiallyOrphaned(t,l))}),Ne.waitFor(o)}removeMatchingKeysForTargetId(t,r){return this.Ur.br(r),Ne.resolve()}getMatchingKeysForTargetId(t,r){const a=this.Ur.vr(r);return Ne.resolve(a)}containsKey(t,r){return Ne.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,r){this.Wr={},this.overlays={},this.Gr=new Mu(0),this.zr=!1,this.zr=!0,this.jr=new A_,this.referenceDelegate=t(this),this.Hr=new O_(this),this.indexManager=new v_,this.remoteDocumentCache=function(i){return new M_(i)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new b_(r),this.Yr=new T_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new D_,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let a=this.Wr[t.toKey()];return a||(a=new R_(r,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,r,a){Fe("MemoryPersistence","Starting transaction:",t);const i=new L_(this.Gr.next());return this.referenceDelegate.Zr(),a(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(t,r){return Ne.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,r)))}}class L_ extends gS{constructor(t){super(),this.currentSequenceNumber=t}}class H0{constructor(t){this.persistence=t,this.ti=new G0,this.ni=null}static ri(t){return new H0(t)}get ii(){if(this.ni)return this.ni;throw st()}addReference(t,r,a){return this.ti.addReference(a,r),this.ii.delete(a.toString()),Ne.resolve()}removeReference(t,r,a){return this.ti.removeReference(a,r),this.ii.add(a.toString()),Ne.resolve()}markPotentiallyOrphaned(t,r){return this.ii.add(r.toString()),Ne.resolve()}removeTarget(t,r){this.ti.br(r.targetId).forEach(i=>this.ii.add(i.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>a.removeTargetData(t,r))}Zr(){this.ni=new Set}Xr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.ii,a=>{const i=et.fromPath(a);return this.si(t,i).next(o=>{o||r.removeEntry(i,at.min())})}).next(()=>(this.ni=null,r.apply(t)))}updateLimboDocument(t,r){return this.si(t,r).next(a=>{a?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(t){return 0}si(t,r){return Ne.or([()=>Ne.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.ei(t,r)])}}class Yd{constructor(t,r){this.persistence=t,this.oi=new Wn(a=>jS(a.path),(a,i)=>a.isEqual(i)),this.garbageCollector=E_(this,r)}static ri(t,r){return new Yd(t,r)}Zr(){}Xr(t){return Ne.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}nr(t){const r=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>r.next(i=>a+i))}sr(t){let r=0;return this.rr(t,a=>{r++}).next(()=>r)}rr(t,r){return Ne.forEach(this.oi,(a,i)=>this.ar(t,a,i).next(o=>o?Ne.resolve():r(i)))}removeTargets(t,r,a){return this.persistence.getTargetCache().removeTargets(t,r,a)}removeOrphanedDocuments(t,r){let a=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(t,l=>this.ar(t,l,r).next(c=>{c||(a++,o.removeEntry(l,at.min()))})).next(()=>o.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,r){return this.oi.set(r,t.currentSequenceNumber),Ne.resolve()}removeTarget(t,r){const a=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),Ne.resolve()}removeReference(t,r,a){return this.oi.set(a,t.currentSequenceNumber),Ne.resolve()}updateLimboDocument(t,r){return this.oi.set(r,t.currentSequenceNumber),Ne.resolve()}Jr(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=rd(t.data.value)),r}ar(t,r,a){return Ne.or([()=>this.persistence.ei(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.oi.get(r);return Ne.resolve(i!==void 0&&i>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,r,a,i){this.targetId=t,this.fromCache=r,this.Hi=a,this.Ji=i}static Yi(t,r){let a=ft(),i=ft();for(const o of r.docChanges)switch(o.type){case 0:a=a.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Q0(t,r.fromCache,a,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gI()?8:yS(Ts())>0?6:4}()}initialize(t,r){this.ns=t,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(t,r,a,i){const o={result:null};return this.rs(t,r).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(t,r,i,a).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new V_;return this._s(t,r,l).next(c=>{if(o.result=c,this.Xi)return this.us(t,r,l,c.size)})}).next(()=>o.result)}us(t,r,a,i){return a.documentReadCount<this.es?(ti()<=pt.DEBUG&&Fe("QueryEngine","SDK will not create cache indexes for query:",si(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ne.resolve()):(ti()<=pt.DEBUG&&Fe("QueryEngine","Query:",si(r),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.ts*i?(ti()<=pt.DEBUG&&Fe("QueryEngine","The SDK decides to create cache indexes for query:",si(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vr(r))):Ne.resolve())}rs(t,r){if(Ey(r))return Ne.resolve(null);let a=Vr(r);return this.indexManager.getIndexType(t,a).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Hd(r,null,"F"),a=Vr(r)),this.indexManager.getDocumentsMatchingTarget(t,a).next(o=>{const l=ft(...o);return this.ns.getDocuments(t,l).next(c=>this.indexManager.getMinOffset(t,a).next(x=>{const f=this.cs(r,c);return this.ls(r,f,l,x.readTime)?this.rs(t,Hd(r,null,"F")):this.hs(t,f,r,x)}))})))}ss(t,r,a,i){return Ey(r)||i.isEqual(at.min())?Ne.resolve(null):this.ns.getDocuments(t,a).next(o=>{const l=this.cs(r,o);return this.ls(r,l,a,i)?Ne.resolve(null):(ti()<=pt.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),si(r)),this.hs(t,l,r,mS(i,bo)).next(c=>c))})}cs(t,r){let a=new is(ww(t));return r.forEach((i,o)=>{Vu(t,o)&&(a=a.add(o))}),a}ls(t,r,a,i){if(t.limit===null)return!1;if(a.size!==r.size)return!0;const o=t.limitType==="F"?r.last():r.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(t,r,a){return ti()<=pt.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",si(r)),this.ns.getDocumentsMatchingQuery(t,r,en.min(),a)}hs(t,r,a,i){return this.ns.getDocumentsMatchingQuery(t,a,i).next(o=>(r.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="LocalStore",F_=3e8;class U_{constructor(t,r,a,i){this.persistence=t,this.Ps=r,this.serializer=i,this.Ts=new Qt(ct),this.Is=new Wn(o=>B0(o),F0),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P_(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ts))}}function $_(s,t,r,a){return new U_(s,t,r,a)}async function Jw(s,t){const r=it(s);return await r.persistence.runTransaction("Handle user change","readonly",a=>{let i;return r.mutationQueue.getAllMutationBatches(a).next(o=>(i=o,r.As(t),r.mutationQueue.getAllMutationBatches(a))).next(o=>{const l=[],c=[];let x=ft();for(const f of i){l.push(f.batchId);for(const N of f.mutations)x=x.add(N.key)}for(const f of o){c.push(f.batchId);for(const N of f.mutations)x=x.add(N.key)}return r.localDocuments.getDocuments(a,x).next(f=>({Rs:f,removedBatchIds:l,addedBatchIds:c}))})})}function q_(s,t){const r=it(s);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const i=t.batch.keys(),o=r.ds.newChangeBuffer({trackRemovals:!0});return function(c,x,f,N){const I=f.batch,S=I.keys();let D=Ne.resolve();return S.forEach(g=>{D=D.next(()=>N.getEntry(x,g)).next(L=>{const v=f.docVersions.get(g);jt(v!==null),L.version.compareTo(v)<0&&(I.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),N.addEntry(L)))})}),D.next(()=>c.mutationQueue.removeMutationBatch(x,I))}(r,a,t,o).next(()=>o.apply(a)).next(()=>r.mutationQueue.performConsistencyCheck(a)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(a,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(c){let x=ft();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(x=x.add(c.batch.mutations[f].key));return x}(t))).next(()=>r.localDocuments.getDocuments(a,i))})}function Xw(s){const t=it(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Hr.getLastRemoteSnapshotVersion(r))}function W_(s,t){const r=it(s),a=t.snapshotVersion;let i=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=r.ds.newChangeBuffer({trackRemovals:!0});i=r.Ts;const c=[];t.targetChanges.forEach((N,I)=>{const S=i.get(I);if(!S)return;c.push(r.Hr.removeMatchingKeys(o,N.removedDocuments,I).next(()=>r.Hr.addMatchingKeys(o,N.addedDocuments,I)));let D=S.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(I)!==null?D=D.withResumeToken(vs.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):N.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(N.resumeToken,a)),i=i.insert(I,D),function(L,v,_){return L.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=F_?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(S,D,N)&&c.push(r.Hr.updateTargetData(o,D))});let x=ha(),f=ft();if(t.documentUpdates.forEach(N=>{t.resolvedLimboDocuments.has(N)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(o,N))}),c.push(G_(o,l,t.documentUpdates).next(N=>{x=N.Vs,f=N.fs})),!a.isEqual(at.min())){const N=r.Hr.getLastRemoteSnapshotVersion(o).next(I=>r.Hr.setTargetsMetadata(o,o.currentSequenceNumber,a));c.push(N)}return Ne.waitFor(c).next(()=>l.apply(o)).next(()=>r.localDocuments.getLocalViewOfDocuments(o,x,f)).next(()=>x)}).then(o=>(r.Ts=i,o))}function G_(s,t,r){let a=ft(),i=ft();return r.forEach(o=>a=a.add(o)),t.getEntries(s,a).next(o=>{let l=ha();return r.forEach((c,x)=>{const f=o.get(c);x.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),x.isNoDocument()&&x.version.isEqual(at.min())?(t.removeEntry(c,x.readTime),l=l.insert(c,x)):!f.isValidDocument()||x.version.compareTo(f.version)>0||x.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(x),l=l.insert(c,x)):Fe(K0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",x.version)}),{Vs:l,fs:i}})}function H_(s,t){const r=it(s);return r.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=O0),r.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function Q_(s,t){const r=it(s);return r.persistence.runTransaction("Allocate target","readwrite",a=>{let i;return r.Hr.getTargetData(a,t).next(o=>o?(i=o,Ne.resolve(i)):r.Hr.allocateTargetId(a).next(l=>(i=new Oa(t,l,"TargetPurposeListen",a.currentSequenceNumber),r.Hr.addTargetData(a,i).next(()=>i))))}).then(a=>{const i=r.Ts.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(a.targetId,a),r.Is.set(t,a.targetId)),a})}async function yh(s,t,r){const a=it(s),i=a.Ts.get(t),o=r?"readwrite":"readwrite-primary";try{r||await a.persistence.runTransaction("Release target",o,l=>a.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ji(l))throw l;Fe(K0,`Failed to update sequence numbers for target ${t}: ${l}`)}a.Ts=a.Ts.remove(t),a.Is.delete(i.target)}function By(s,t,r){const a=it(s);let i=at.min(),o=ft();return a.persistence.runTransaction("Execute query","readwrite",l=>function(x,f,N){const I=it(x),S=I.Is.get(N);return S!==void 0?Ne.resolve(I.Ts.get(S)):I.Hr.getTargetData(f,N)}(a,l,Vr(t)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(l,c.targetId).next(x=>{o=x})}).next(()=>a.Ps.getDocumentsMatchingQuery(l,t,r?i:at.min(),r?o:ft())).next(c=>(K_(a,LS(t),c),{documents:c,gs:o})))}function K_(s,t,r){let a=s.Es.get(t)||at.min();r.forEach((i,o)=>{o.readTime.compareTo(a)>0&&(a=o.readTime)}),s.Es.set(t,a)}class Fy{constructor(){this.activeTargetIds=qS()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Y_{constructor(){this.ho=new Fy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,a){}addLocalQueryTarget(t,r=!0){return r&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,r,a){this.Po[t]=r}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Fy,Promise.resolve()}handleUserChange(t,r,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="ConnectivityMonitor";class $y{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Fe(Uy,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Fe(Uy,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function bh(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",X_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Z_{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=r+"://"+t.host,this.yo=`projects/${a}/databases/${i}`,this.wo=this.databaseId.database===qd?`project_id=${a}`:`project_id=${a}&database_id=${i}`}So(t,r,a,i,o){const l=bh(),c=this.bo(t,r.toUriEncodedString());Fe(em,`Sending RPC '${t}' ${l}:`,c,a);const x={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(x,i,o),this.vo(t,c,x,a).then(f=>(Fe(em,`Received RPC '${t}' ${l}: `,f),f),f=>{throw Oi(em,`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",a),f})}Co(t,r,a,i,o,l){return this.So(t,r,a,i,o)}Do(t,r,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ki}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),a&&a.headers.forEach((i,o)=>t[o]=i)}bo(t,r){const a=X_[t];return`${this.po}/v1/${r}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="WebChannelConnection";class tP extends Z_{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,r,a,i){const o=bh();return new Promise((l,c)=>{const x=new YN;x.setWithCredentials(!0),x.listenOnce(JN.COMPLETE,()=>{try{switch(x.getLastErrorCode()){case sd.NO_ERROR:const N=x.getResponseJson();Fe(Is,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(N)),l(N);break;case sd.TIMEOUT:Fe(Is,`RPC '${t}' ${o} timed out`),c(new Ve(je.DEADLINE_EXCEEDED,"Request time out"));break;case sd.HTTP_ERROR:const I=x.getStatus();if(Fe(Is,`RPC '${t}' ${o} failed with status:`,I,"response text:",x.getResponseText()),I>0){let S=x.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S==null?void 0:S.error;if(D&&D.status&&D.message){const g=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(_)>=0?_:je.UNKNOWN}(D.status);c(new Ve(g,D.message))}else c(new Ve(je.UNKNOWN,"Server responded with status "+x.getStatus()))}else c(new Ve(je.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe(Is,`RPC '${t}' ${o} completed.`)}});const f=JSON.stringify(i);Fe(Is,`RPC '${t}' ${o} sending request:`,i),x.send(r,"POST",f,a,15)})}Wo(t,r,a){const i=bh(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=ew(),c=ZN(),x={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(x.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(x.useFetchStreams=!0),this.Do(x.initMessageHeaders,r,a),x.encodeInitMessageHeaders=!0;const N=o.join("");Fe(Is,`Creating RPC '${t}' stream ${i}: ${N}`,x);const I=l.createWebChannel(N,x);let S=!1,D=!1;const g=new eP({Fo:v=>{D?Fe(Is,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(S||(Fe(Is,`Opening RPC '${t}' stream ${i} transport.`),I.open(),S=!0),Fe(Is,`RPC '${t}' stream ${i} sending:`,v),I.send(v))},Mo:()=>I.close()}),L=(v,_,z)=>{v.listen(_,R=>{try{z(R)}catch(H){setTimeout(()=>{throw H},0)}})};return L(I,Tl.EventType.OPEN,()=>{D||(Fe(Is,`RPC '${t}' stream ${i} transport opened.`),g.Qo())}),L(I,Tl.EventType.CLOSE,()=>{D||(D=!0,Fe(Is,`RPC '${t}' stream ${i} transport closed`),g.Uo())}),L(I,Tl.EventType.ERROR,v=>{D||(D=!0,Oi(Is,`RPC '${t}' stream ${i} transport errored:`,v),g.Uo(new Ve(je.UNAVAILABLE,"The operation could not be completed")))}),L(I,Tl.EventType.MESSAGE,v=>{var _;if(!D){const z=v.data[0];jt(!!z);const R=z,H=(R==null?void 0:R.error)||((_=R[0])===null||_===void 0?void 0:_.error);if(H){Fe(Is,`RPC '${t}' stream ${i} received error:`,H);const K=H.status;let W=function(q){const B=es[q];if(B!==void 0)return Lw(B)}(K),A=H.message;W===void 0&&(W=je.INTERNAL,A="Unknown error status: "+K+" with message "+H.message),D=!0,g.Uo(new Ve(W,A)),I.close()}else Fe(Is,`RPC '${t}' stream ${i} received:`,z),g.Ko(z)}}),L(c,XN.STAT_EVENT,v=>{v.stat===oh.PROXY?Fe(Is,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===oh.NOPROXY&&Fe(Is,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.$o()},0),g}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(s){return new n_(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(t,r,a=1e3,i=1.5,o=6e4){this.Ti=t,this.timerId=r,this.Go=a,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const r=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),i=Math.max(0,r-a);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="PersistentStream";class Zw{constructor(t,r,a,i,o,l,c,x){this.Ti=t,this.n_=a,this.r_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=x,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Y0(t,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():r&&r.code===je.RESOURCE_EXHAUSTED?(ma(r.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,i])=>{this.i_===r&&this.V_(a,i)},a=>{t(()=>{const i=new Ve(je.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(i)})})}V_(t,r){const a=this.R_(this.i_);this.stream=this.f_(t,r),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{a(()=>this.m_(i))}),this.stream.onMessage(i=>{a(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Fe(qy,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return r=>{this.Ti.enqueueAndForget(()=>this.i_===t?r():(Fe(qy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sP extends Zw{constructor(t,r,a,i,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}f_(t,r){return this.connection.Wo("Listen",t,r)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const r=c_(this.serializer,t),a=function(o){if(!("targetChange"in o))return at.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?at.min():l.readTime?tr(l.readTime):at.min()}(t);return this.listener.p_(r,a)}y_(t){const r={};r.database=gh(this.serializer),r.addTarget=function(o,l){let c;const x=l.target;if(c=mh(x)?{documents:u_(o,x)}:{query:x_(o,x).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=Fw(o,l.resumeToken);const f=ph(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(at.min())>0){c.readTime=Qd(o,l.snapshotVersion.toTimestamp());const f=ph(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,t);const a=h_(this.serializer,t);a&&(r.labels=a),this.I_(r)}w_(t){const r={};r.database=gh(this.serializer),r.removeTarget=t,this.I_(r)}}class rP extends Zw{constructor(t,r,a,i,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,i,l),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,r){return this.connection.Wo("Write",t,r)}g_(t){return jt(!!t.streamToken),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const r=d_(t.writeResults,t.commitTime),a=tr(t.commitTime);return this.listener.v_(a,r)}C_(){const t={};t.database=gh(this.serializer),this.I_(t)}b_(t){const r={streamToken:this.lastStreamToken,writes:t.map(a=>Ww(this.serializer,a))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{}class nP extends aP{constructor(t,r,a,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=a,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ve(je.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,r,a,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.So(t,fh(r,a),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(je.UNKNOWN,o.toString())})}Co(t,r,a,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(t,fh(r,a),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ve(je.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class iP{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ma(r),this.N_=!1):Fe("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="RemoteStore";class lP{constructor(t,r,a,i,o){this.localStore=t,this.datastore=r,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{a.enqueueAndForget(async()=>{Gn(this)&&(Fe(zn,"Restarting streams for network reachability change."),await async function(x){const f=it(x);f.W_.add(4),await Uo(f),f.j_.set("Unknown"),f.W_.delete(4),await Wu(f)}(this))})}),this.j_=new iP(a,i)}}async function Wu(s){if(Gn(s))for(const t of s.G_)await t(!0)}async function Uo(s){for(const t of s.G_)await t(!1)}function e5(s,t){const r=it(s);r.K_.has(t.targetId)||(r.K_.set(t.targetId,t),ep(r)?Z0(r):Zi(r).c_()&&X0(r,t))}function J0(s,t){const r=it(s),a=Zi(r);r.K_.delete(t),a.c_()&&t5(r,t),r.K_.size===0&&(a.c_()?a.P_():Gn(r)&&r.j_.set("Unknown"))}function X0(s,t){if(s.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){const r=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Zi(s).y_(t)}function t5(s,t){s.H_.Ne(t),Zi(s).w_(t)}function Z0(s){s.H_=new t_({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>s.K_.get(t)||null,it:()=>s.datastore.serializer.databaseId}),Zi(s).start(),s.j_.B_()}function ep(s){return Gn(s)&&!Zi(s).u_()&&s.K_.size>0}function Gn(s){return it(s).W_.size===0}function s5(s){s.H_=void 0}async function oP(s){s.j_.set("Online")}async function cP(s){s.K_.forEach((t,r)=>{X0(s,t)})}async function dP(s,t){s5(s),ep(s)?(s.j_.q_(t),Z0(s)):s.j_.set("Unknown")}async function uP(s,t,r){if(s.j_.set("Online"),t instanceof Bw&&t.state===2&&t.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.K_.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.K_.delete(c),i.H_.removeTarget(c))}(s,t)}catch(a){Fe(zn,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jd(s,a)}else if(t instanceof id?s.H_.We(t):t instanceof Vw?s.H_.Ze(t):s.H_.je(t),!r.isEqual(at.min()))try{const a=await Xw(s.localStore);r.compareTo(a)>=0&&await function(o,l){const c=o.H_.ot(l);return c.targetChanges.forEach((x,f)=>{if(x.resumeToken.approximateByteSize()>0){const N=o.K_.get(f);N&&o.K_.set(f,N.withResumeToken(x.resumeToken,l))}}),c.targetMismatches.forEach((x,f)=>{const N=o.K_.get(x);if(!N)return;o.K_.set(x,N.withResumeToken(vs.EMPTY_BYTE_STRING,N.snapshotVersion)),t5(o,x);const I=new Oa(N.target,x,f,N.sequenceNumber);X0(o,I)}),o.remoteSyncer.applyRemoteEvent(c)}(s,r)}catch(a){Fe(zn,"Failed to raise snapshot:",a),await Jd(s,a)}}async function Jd(s,t,r){if(!Ji(t))throw t;s.W_.add(1),await Uo(s),s.j_.set("Offline"),r||(r=()=>Xw(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{Fe(zn,"Retrying IndexedDB access"),await r(),s.W_.delete(1),await Wu(s)})}function r5(s,t){return t().catch(r=>Jd(s,r,t))}async function Gu(s){const t=it(s),r=an(t);let a=t.U_.length>0?t.U_[t.U_.length-1].batchId:O0;for(;xP(t);)try{const i=await H_(t.localStore,a);if(i===null){t.U_.length===0&&r.P_();break}a=i.batchId,mP(t,i)}catch(i){await Jd(t,i)}a5(t)&&n5(t)}function xP(s){return Gn(s)&&s.U_.length<10}function mP(s,t){s.U_.push(t);const r=an(s);r.c_()&&r.S_&&r.b_(t.mutations)}function a5(s){return Gn(s)&&!an(s).u_()&&s.U_.length>0}function n5(s){an(s).start()}async function hP(s){an(s).C_()}async function pP(s){const t=an(s);for(const r of s.U_)t.b_(r.mutations)}async function fP(s,t,r){const a=s.U_.shift(),i=$0.from(a,t,r);await r5(s,()=>s.remoteSyncer.applySuccessfulWrite(i)),await Gu(s)}async function gP(s,t){t&&an(s).S_&&await async function(a,i){if(function(l){return Ow(l)&&l!==je.ABORTED}(i.code)){const o=a.U_.shift();an(a).h_(),await r5(a,()=>a.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gu(a)}}(s,t),a5(s)&&n5(s)}async function Wy(s,t){const r=it(s);r.asyncQueue.verifyOperationInProgress(),Fe(zn,"RemoteStore received new credentials");const a=Gn(r);r.W_.add(3),await Uo(r),a&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.W_.delete(3),await Wu(r)}async function yP(s,t){const r=it(s);t?(r.W_.delete(2),await Wu(r)):t||(r.W_.add(2),await Uo(r),r.j_.set("Unknown"))}function Zi(s){return s.J_||(s.J_=function(r,a,i){const o=it(r);return o.M_(),new sP(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:oP.bind(null,s),No:cP.bind(null,s),Lo:dP.bind(null,s),p_:uP.bind(null,s)}),s.G_.push(async t=>{t?(s.J_.h_(),ep(s)?Z0(s):s.j_.set("Unknown")):(await s.J_.stop(),s5(s))})),s.J_}function an(s){return s.Y_||(s.Y_=function(r,a,i){const o=it(r);return o.M_(),new rP(a,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:hP.bind(null,s),Lo:gP.bind(null,s),D_:pP.bind(null,s),v_:fP.bind(null,s)}),s.G_.push(async t=>{t?(s.Y_.h_(),await Gu(s)):(await s.Y_.stop(),s.U_.length>0&&(Fe(zn,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,r,a,i,o){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=i,this.removalCallback=o,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,i,o){const l=Date.now()+a,c=new tp(t,r,l,i,o);return c.start(a),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sp(s,t){if(ma("AsyncQueue",`${t}: ${s}`),Ji(s))return new Ve(je.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{static emptySet(t){return new Ci(t.comparator)}constructor(t){this.comparator=t?(r,a)=>t(r,a)||et.comparator(r.key,a.key):(r,a)=>et.comparator(r.key,a.key),this.keyedMap=Dl(),this.sortedSet=new Qt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,a)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Ci)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,o=a.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const a=new Ci;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=r,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Z_=new Qt(et.comparator)}track(t){const r=t.doc.key,a=this.Z_.get(r);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(r,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(r,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(r):t.type===1&&a.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:t.doc}):st():this.Z_=this.Z_.insert(r,t)}X_(){const t=[];return this.Z_.inorderTraversal((r,a)=>{t.push(a)}),t}}class Ui{constructor(t,r,a,i,o,l,c,x,f){this.query=t,this.docs=r,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=x,this.hasCachedResults=f}static fromInitialDocuments(t,r,a,i,o){const l=[];return r.forEach(c=>{l.push({type:0,doc:c})}),new Ui(t,r,Ci.emptySet(r),l,a,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,a=t.docChanges;if(r.length!==a.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==a[i].type||!r[i].doc.isEqual(a[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class jP{constructor(){this.queries=Hy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,a){const i=it(r),o=i.queries;i.queries=Hy(),o.forEach((l,c)=>{for(const x of c.ta)x.onError(a)})})(this,new Ve(je.ABORTED,"Firestore shutting down"))}}function Hy(){return new Wn(s=>Nw(s),Lu)}async function rp(s,t){const r=it(s);let a=3;const i=t.query;let o=r.queries.get(i);o?!o.na()&&t.ra()&&(a=2):(o=new bP,a=t.ra()?0:1);try{switch(a){case 0:o.ea=await r.onListen(i,!0);break;case 1:o.ea=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=sp(l,`Initialization of query '${si(t.query)}' failed`);return void t.onError(c)}r.queries.set(i,o),o.ta.push(t),t.sa(r.onlineState),o.ea&&t.oa(o.ea)&&np(r)}async function ap(s,t){const r=it(s),a=t.query;let i=3;const o=r.queries.get(a);if(o){const l=o.ta.indexOf(t);l>=0&&(o.ta.splice(l,1),o.ta.length===0?i=t.ra()?0:1:!o.na()&&t.ra()&&(i=2))}switch(i){case 0:return r.queries.delete(a),r.onUnlisten(a,!0);case 1:return r.queries.delete(a),r.onUnlisten(a,!1);case 2:return r.onLastRemoteStoreUnlisten(a);default:return}}function vP(s,t){const r=it(s);let a=!1;for(const i of t){const o=i.query,l=r.queries.get(o);if(l){for(const c of l.ta)c.oa(i)&&(a=!0);l.ea=i}}a&&np(r)}function NP(s,t,r){const a=it(s),i=a.queries.get(t);if(i)for(const o of i.ta)o.onError(r);a.queries.delete(t)}function np(s){s.ia.forEach(t=>{t.next()})}var jh,Qy;(Qy=jh||(jh={}))._a="default",Qy.Cache="cache";class ip{constructor(t,r,a){this.query=t,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const i of t.docChanges)i.type!==3&&a.push(i);t=new Ui(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ua?this.la(t)&&(this.aa.next(t),r=!0):this.ha(t,this.onlineState)&&(this.Pa(t),r=!0),this.ca=t,r}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),r=!0),r}ha(t,r){if(!t.fromCache||!this.ra())return!0;const a=r!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}la(t){if(t.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ui.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==jh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this.key=t}}class l5{constructor(t){this.key=t}}class wP{constructor(t,r){this.query=t,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ft(),this.mutatedKeys=ft(),this.ya=ww(t),this.wa=new Ci(this.ya)}get Sa(){return this.fa}ba(t,r){const a=r?r.Da:new Gy,i=r?r.wa:this.wa;let o=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const x=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((N,I)=>{const S=i.get(N),D=Vu(this.query,I)?I:null,g=!!S&&this.mutatedKeys.has(S.key),L=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let v=!1;S&&D?S.data.isEqual(D.data)?g!==L&&(a.track({type:3,doc:D}),v=!0):this.va(S,D)||(a.track({type:2,doc:D}),v=!0,(x&&this.ya(D,x)>0||f&&this.ya(D,f)<0)&&(c=!0)):!S&&D?(a.track({type:0,doc:D}),v=!0):S&&!D&&(a.track({type:1,doc:S}),v=!0,(x||f)&&(c=!0)),v&&(D?(l=l.add(D),o=L?o.add(N):o.delete(N)):(l=l.delete(N),o=o.delete(N)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const N=this.query.limitType==="F"?l.last():l.first();l=l.delete(N.key),o=o.delete(N.key),a.track({type:1,doc:N})}return{wa:l,Da:a,ls:c,mutatedKeys:o}}va(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,a,i){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((N,I)=>function(D,g){const L=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return L(D)-L(g)}(N.type,I.type)||this.ya(N.doc,I.doc)),this.Ca(a),i=i!=null&&i;const c=r&&!i?this.Fa():[],x=this.pa.size===0&&this.current&&!i?1:0,f=x!==this.ga;return this.ga=x,l.length!==0||f?{snapshot:new Ui(this.query,t.wa,o,l,t.mutatedKeys,x===0,f,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ft(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const r=[];return t.forEach(a=>{this.pa.has(a)||r.push(new l5(a))}),this.pa.forEach(a=>{t.has(a)||r.push(new i5(a))}),r}Oa(t){this.fa=t.gs,this.pa=ft();const r=this.ba(t.documents);return this.applyChanges(r,!0)}Na(){return Ui.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lp="SyncEngine";class kP{constructor(t,r,a){this.query=t,this.targetId=r,this.view=a}}class CP{constructor(t){this.key=t,this.Ba=!1}}class IP{constructor(t,r,a,i,o,l){this.localStore=t,this.remoteStore=r,this.eventManager=a,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Wn(c=>Nw(c),Lu),this.qa=new Map,this.Qa=new Set,this.$a=new Qt(et.comparator),this.Ua=new Map,this.Ka=new G0,this.Wa={},this.Ga=new Map,this.za=Fi.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function EP(s,t,r=!0){const a=m5(s);let i;const o=a.ka.get(t);return o?(a.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await o5(a,t,r,!0),i}async function SP(s,t){const r=m5(s);await o5(r,t,!0,!1)}async function o5(s,t,r,a){const i=await Q_(s.localStore,Vr(t)),o=i.targetId,l=s.sharedClientState.addLocalQueryTarget(o,r);let c;return a&&(c=await _P(s,t,o,l==="current",i.resumeToken)),s.isPrimaryClient&&r&&e5(s.remoteStore,i),c}async function _P(s,t,r,a,i){s.Ha=(I,S,D)=>async function(L,v,_,z){let R=v.view.ba(_);R.ls&&(R=await By(L.localStore,v.query,!1).then(({documents:A})=>v.view.ba(A,R)));const H=z&&z.targetChanges.get(v.targetId),K=z&&z.targetMismatches.get(v.targetId)!=null,W=v.view.applyChanges(R,L.isPrimaryClient,H,K);return Yy(L,v.targetId,W.Ma),W.snapshot}(s,I,S,D);const o=await By(s.localStore,t,!0),l=new wP(t,o.gs),c=l.ba(o.documents),x=Fo.createSynthesizedTargetChangeForCurrentChange(r,a&&s.onlineState!=="Offline",i),f=l.applyChanges(c,s.isPrimaryClient,x);Yy(s,r,f.Ma);const N=new kP(t,r,l);return s.ka.set(t,N),s.qa.has(r)?s.qa.get(r).push(t):s.qa.set(r,[t]),f.snapshot}async function PP(s,t,r){const a=it(s),i=a.ka.get(t),o=a.qa.get(i.targetId);if(o.length>1)return a.qa.set(i.targetId,o.filter(l=>!Lu(l,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await yh(a.localStore,i.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(i.targetId),r&&J0(a.remoteStore,i.targetId),vh(a,i.targetId)}).catch(Yi)):(vh(a,i.targetId),await yh(a.localStore,i.targetId,!0))}async function TP(s,t){const r=it(s),a=r.ka.get(t),i=r.qa.get(a.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(a.targetId),J0(r.remoteStore,a.targetId))}async function DP(s,t,r){const a=VP(s);try{const i=await function(l,c){const x=it(l),f=Zt.now(),N=c.reduce((D,g)=>D.add(g.key),ft());let I,S;return x.persistence.runTransaction("Locally write mutations","readwrite",D=>{let g=ha(),L=ft();return x.ds.getEntries(D,N).next(v=>{g=v,g.forEach((_,z)=>{z.isValidDocument()||(L=L.add(_))})}).next(()=>x.localDocuments.getOverlayedDocuments(D,g)).next(v=>{I=v;const _=[];for(const z of c){const R=YS(z,I.get(z.key).overlayedDocument);R!=null&&_.push(new xn(z.key,R,hw(R.value.mapValue),gs.exists(!0)))}return x.mutationQueue.addMutationBatch(D,f,_,c)}).next(v=>{S=v;const _=v.applyToLocalDocumentSet(I,L);return x.documentOverlayCache.saveOverlays(D,v.batchId,_)})}).then(()=>({batchId:S.batchId,changes:Cw(I)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(i.batchId),function(l,c,x){let f=l.Wa[l.currentUser.toKey()];f||(f=new Qt(ct)),f=f.insert(c,x),l.Wa[l.currentUser.toKey()]=f}(a,i.batchId,r),await $o(a,i.changes),await Gu(a.remoteStore)}catch(i){const o=sp(i,"Failed to persist write");r.reject(o)}}async function c5(s,t){const r=it(s);try{const a=await W_(r.localStore,t);t.targetChanges.forEach((i,o)=>{const l=r.Ua.get(o);l&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?jt(l.Ba):i.removedDocuments.size>0&&(jt(l.Ba),l.Ba=!1))}),await $o(r,a,t)}catch(a){await Yi(a)}}function Ky(s,t,r){const a=it(s);if(a.isPrimaryClient&&r===0||!a.isPrimaryClient&&r===1){const i=[];a.ka.forEach((o,l)=>{const c=l.view.sa(t);c.snapshot&&i.push(c.snapshot)}),function(l,c){const x=it(l);x.onlineState=c;let f=!1;x.queries.forEach((N,I)=>{for(const S of I.ta)S.sa(c)&&(f=!0)}),f&&np(x)}(a.eventManager,t),i.length&&a.La.p_(i),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function AP(s,t,r){const a=it(s);a.sharedClientState.updateQueryState(t,"rejected",r);const i=a.Ua.get(t),o=i&&i.key;if(o){let l=new Qt(et.comparator);l=l.insert(o,us.newNoDocument(o,at.min()));const c=ft().add(o),x=new $u(at.min(),new Map,new Qt(ct),l,c);await c5(a,x),a.$a=a.$a.remove(o),a.Ua.delete(t),op(a)}else await yh(a.localStore,t,!1).then(()=>vh(a,t,r)).catch(Yi)}async function RP(s,t){const r=it(s),a=t.batch.batchId;try{const i=await q_(r.localStore,t);u5(r,a,null),d5(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),await $o(r,i)}catch(i){await Yi(i)}}async function MP(s,t,r){const a=it(s);try{const i=await function(l,c){const x=it(l);return x.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let N;return x.mutationQueue.lookupMutationBatch(f,c).next(I=>(jt(I!==null),N=I.keys(),x.mutationQueue.removeMutationBatch(f,I))).next(()=>x.mutationQueue.performConsistencyCheck(f)).next(()=>x.documentOverlayCache.removeOverlaysForBatchId(f,N,c)).next(()=>x.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,N)).next(()=>x.localDocuments.getDocuments(f,N))})}(a.localStore,t);u5(a,t,r),d5(a,t),a.sharedClientState.updateMutationState(t,"rejected",r),await $o(a,i)}catch(i){await Yi(i)}}function d5(s,t){(s.Ga.get(t)||[]).forEach(r=>{r.resolve()}),s.Ga.delete(t)}function u5(s,t,r){const a=it(s);let i=a.Wa[a.currentUser.toKey()];if(i){const o=i.get(t);o&&(r?o.reject(r):o.resolve(),i=i.remove(t)),a.Wa[a.currentUser.toKey()]=i}}function vh(s,t,r=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.qa.get(t))s.ka.delete(a),r&&s.La.Ja(a,r);s.qa.delete(t),s.isPrimaryClient&&s.Ka.br(t).forEach(a=>{s.Ka.containsKey(a)||x5(s,a)})}function x5(s,t){s.Qa.delete(t.path.canonicalString());const r=s.$a.get(t);r!==null&&(J0(s.remoteStore,r),s.$a=s.$a.remove(t),s.Ua.delete(r),op(s))}function Yy(s,t,r){for(const a of r)a instanceof i5?(s.Ka.addReference(a.key,t),zP(s,a)):a instanceof l5?(Fe(lp,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,t),s.Ka.containsKey(a.key)||x5(s,a.key)):st()}function zP(s,t){const r=t.key,a=r.path.canonicalString();s.$a.get(r)||s.Qa.has(a)||(Fe(lp,"New document in limbo: "+r),s.Qa.add(a),op(s))}function op(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const t=s.Qa.values().next().value;s.Qa.delete(t);const r=new et(Ot.fromString(t)),a=s.za.next();s.Ua.set(a,new CP(r)),s.$a=s.$a.insert(r,a),e5(s.remoteStore,new Oa(Vr(Ou(r.path)),a,"TargetPurposeLimboResolution",Mu.ae))}}async function $o(s,t,r){const a=it(s),i=[],o=[],l=[];a.ka.isEmpty()||(a.ka.forEach((c,x)=>{l.push(a.Ha(x,t,r).then(f=>{var N;if((f||r)&&a.isPrimaryClient){const I=f?!f.fromCache:(N=r==null?void 0:r.targetChanges.get(x.targetId))===null||N===void 0?void 0:N.current;a.sharedClientState.updateQueryState(x.targetId,I?"current":"not-current")}if(f){i.push(f);const I=Q0.Yi(x.targetId,f);o.push(I)}}))}),await Promise.all(l),a.La.p_(i),await async function(x,f){const N=it(x);try{await N.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Ne.forEach(f,S=>Ne.forEach(S.Hi,D=>N.persistence.referenceDelegate.addReference(I,S.targetId,D)).next(()=>Ne.forEach(S.Ji,D=>N.persistence.referenceDelegate.removeReference(I,S.targetId,D)))))}catch(I){if(!Ji(I))throw I;Fe(K0,"Failed to update sequence numbers: "+I)}for(const I of f){const S=I.targetId;if(!I.fromCache){const D=N.Ts.get(S),g=D.snapshotVersion,L=D.withLastLimboFreeSnapshotVersion(g);N.Ts=N.Ts.insert(S,L)}}}(a.localStore,o))}async function OP(s,t){const r=it(s);if(!r.currentUser.isEqual(t)){Fe(lp,"User change. New user:",t.toKey());const a=await Jw(r.localStore,t);r.currentUser=t,function(o,l){o.Ga.forEach(c=>{c.forEach(x=>{x.reject(new Ve(je.CANCELLED,l))})}),o.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $o(r,a.Rs)}}function LP(s,t){const r=it(s),a=r.Ua.get(t);if(a&&a.Ba)return ft().add(a.key);{let i=ft();const o=r.qa.get(t);if(!o)return i;for(const l of o){const c=r.ka.get(l);i=i.unionWith(c.view.Sa)}return i}}function m5(s){const t=it(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=c5.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AP.bind(null,t),t.La.p_=vP.bind(null,t.eventManager),t.La.Ja=NP.bind(null,t.eventManager),t}function VP(s){const t=it(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MP.bind(null,t),t}class Xd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qu(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,r){return null}nu(t,r){return null}eu(t){return $_(this.persistence,new B_,t.initialUser,this.serializer)}Xa(t){return new Yw(H0.ri,this.serializer)}Za(t){return new Y_}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xd.provider={build:()=>new Xd};class BP extends Xd{constructor(t){super(),this.cacheSizeBytes=t}tu(t,r){jt(this.persistence.referenceDelegate instanceof Yd);const a=this.persistence.referenceDelegate.garbageCollector;return new C_(a,t.asyncQueue,r)}Xa(t){const r=this.cacheSizeBytes!==void 0?Vs.withCacheSize(this.cacheSizeBytes):Vs.DEFAULT;return new Yw(a=>Yd.ri(a,r),this.serializer)}}class Nh{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Ky(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=OP.bind(null,this.syncEngine),await yP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new jP}()}createDatastore(t){const r=qu(t.databaseInfo.databaseId),a=function(o){return new tP(o)}(t.databaseInfo);return function(o,l,c,x){return new nP(o,l,c,x)}(t.authCredentials,t.appCheckCredentials,a,r)}createRemoteStore(t){return function(a,i,o,l,c){return new lP(a,i,o,l,c)}(this.localStore,this.datastore,t.asyncQueue,r=>Ky(this.syncEngine,r,0),function(){return $y.D()?new $y:new J_}())}createSyncEngine(t,r){return function(i,o,l,c,x,f,N){const I=new IP(i,o,l,c,x,f);return N&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const o=it(i);Fe(zn,"RemoteStore shutting down."),o.W_.add(5),await Uo(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Nh.provider={build:()=>new Nh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ma("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ve(je.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const r=await async function(i,o){const l=it(i),c={documents:o.map(I=>Kd(l.serializer,I))},x=await l.Co("BatchGetDocuments",l.serializer.databaseId,Ot.emptyPath(),c,o.length),f=new Map;x.forEach(I=>{const S=o_(l.serializer,I);f.set(S.key.toString(),S)});const N=[];return o.forEach(I=>{const S=f.get(I.toString());jt(!!S),N.push(S)}),N}(this.datastore,t);return r.forEach(a=>this.recordVersion(a)),r}set(t,r){this.write(r.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,r){try{this.write(r.toMutation(t,this.preconditionForUpdate(t)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(t.toString())}delete(t){this.write(new Uu(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const i=et.fromPath(a);this.mutations.push(new zw(i,this.precondition(i)))}),await async function(a,i){const o=it(a),l={writes:i.map(c=>Ww(o.serializer,c))};await o.So("Commit",o.serializer.databaseId,Ot.emptyPath(),l)}(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let r;if(t.isFoundDocument())r=t.version;else{if(!t.isNoDocument())throw st();r=at.min()}const a=this.readVersions.get(t.key.toString());if(a){if(!r.isEqual(a))throw new Ve(je.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),r)}precondition(t){const r=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&r?r.isEqual(at.min())?gs.exists(!1):gs.updateTime(r):gs.none()}preconditionForUpdate(t){const r=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&r){if(r.isEqual(at.min()))throw new Ve(je.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gs.updateTime(r)}return gs.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,r,a,i,o){this.asyncQueue=t,this.datastore=r,this.options=a,this.updateFunction=i,this.deferred=o,this.Tu=a.maxAttempts,this.a_=new Y0(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const t=new FP(this.datastore),r=this.du(t);r&&r.then(a=>{this.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{this.deferred.resolve(a)}).catch(i=>{this.Au(i)}))}).catch(a=>{this.Au(a)})})}du(t){try{const r=this.updateFunction(t);return!Vo(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}Au(t){this.Tu>0&&this.Ru(t)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(t)}Ru(t){if(t.name==="FirebaseError"){const r=t.code;return r==="aborted"||r==="failed-precondition"||r==="already-exists"||!Ow(r)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="FirestoreClient";class $P{constructor(t,r,a,i,o){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=a,this.databaseInfo=i,this.user=Ss.UNAUTHENTICATED,this.clientId=rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(a,async l=>{Fe(nn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(a,l=>(Fe(nn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const a=sp(r,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function sm(s,t){s.asyncQueue.verifyOperationInProgress(),Fe(nn,"Initializing OfflineComponentProvider");const r=s.configuration;await t.initialize(r);let a=r.initialUser;s.setCredentialChangeListener(async i=>{a.isEqual(i)||(await Jw(t.localStore,i),a=i)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function Jy(s,t){s.asyncQueue.verifyOperationInProgress();const r=await qP(s);Fe(nn,"Initializing OnlineComponentProvider"),await t.initialize(r,s.configuration),s.setCredentialChangeListener(a=>Wy(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,i)=>Wy(t.remoteStore,i)),s._onlineComponents=t}async function qP(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){Fe(nn,"Using user provided OfflineComponentProvider");try{await sm(s,s._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Oi("Error using user provided cache. Falling back to memory cache: "+r),await sm(s,new Xd)}}else Fe(nn,"Using default OfflineComponentProvider"),await sm(s,new BP(void 0));return s._offlineComponents}async function dp(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(Fe(nn,"Using user provided OnlineComponentProvider"),await Jy(s,s._uninitializedComponentsProvider._online)):(Fe(nn,"Using default OnlineComponentProvider"),await Jy(s,new Nh))),s._onlineComponents}function WP(s){return dp(s).then(t=>t.syncEngine)}function GP(s){return dp(s).then(t=>t.datastore)}async function Zd(s){const t=await dp(s),r=t.eventManager;return r.onListen=EP.bind(null,t.syncEngine),r.onUnlisten=PP.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=SP.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=TP.bind(null,t.syncEngine),r}function HP(s,t,r={}){const a=new Lr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,c,x,f){const N=new cp({next:S=>{N.su(),l.enqueueAndForget(()=>ap(o,I));const D=S.docs.has(c);!D&&S.fromCache?f.reject(new Ve(je.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&x&&x.source==="server"?f.reject(new Ve(je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(S)},error:S=>f.reject(S)}),I=new ip(Ou(c.path),N,{includeMetadataChanges:!0,Ta:!0});return rp(o,I)}(await Zd(s),s.asyncQueue,t,r,a)),a.promise}function QP(s,t,r={}){const a=new Lr;return s.asyncQueue.enqueueAndForget(async()=>function(o,l,c,x,f){const N=new cp({next:S=>{N.su(),l.enqueueAndForget(()=>ap(o,I)),S.fromCache&&x.source==="server"?f.reject(new Ve(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(S)},error:S=>f.reject(S)}),I=new ip(c,N,{includeMetadataChanges:!0,Ta:!0});return rp(o,I)}(await Zd(s),s.asyncQueue,t,r,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(s,t,r){if(!r)throw new Ve(je.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function KP(s,t,r,a){if(t===!0&&a===!0)throw new Ve(je.INVALID_ARGUMENT,`${s} and ${r} cannot be used together.`)}function Zy(s){if(!et.isDocumentKey(s))throw new Ve(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function eb(s){if(et.isDocumentKey(s))throw new Ve(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Hu(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":st()}function zs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new Ve(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hu(s);throw new Ve(je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return s}function YP(s,t){if(t<=0)throw new Ve(je.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f5="firestore.googleapis.com",tb=!0;class sb{constructor(t){var r,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Ve(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f5,this.ssl=tb}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:tb;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Kw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<w_)throw new Ve(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h5((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(je.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,i){return a.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qu{constructor(t,r,a,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ve(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sb(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new aS;switch(a.type){case"firstParty":return new oS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ve(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Xy.get(r);a&&(Fe("ComponentProvider","Removing Datastore"),Xy.delete(r),a.terminate())}(this),Promise.resolve()}}function JP(s,t,r,a={}){var i;const o=(s=zs(s,Qu))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:s._getEmulatorOptions()}),c=`${t}:${r}`;o.host!==f5&&o.host!==c&&Oi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const x=Object.assign(Object.assign({},o),{host:c,ssl:!1,emulatorOptions:a});if(!Za(x,l)&&(s._setSettings(x),a.mockUserToken)){let f,N;if(typeof a.mockUserToken=="string")f=a.mockUserToken,N=Ss.MOCK_USER;else{f=gN(a.mockUserToken,(i=s._app)===null||i===void 0?void 0:i.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new Ve(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Ss(I)}s._authCredentials=new nS(new tw(f,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new ya(this.firestore,t,this._query)}}class bs{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bs(this.firestore,t,this._key)}}class Ya extends ya{constructor(t,r,a){super(t,r,Ou(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bs(this.firestore,null,new et(t))}withConverter(t){return new Ya(this.firestore,t,this._path)}}function Z(s,t,...r){if(s=Vt(s),p5("collection","path",t),s instanceof Qu){const a=Ot.fromString(t,...r);return eb(a),new Ya(s,null,a)}{if(!(s instanceof bs||s instanceof Ya))throw new Ve(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ot.fromString(t,...r));return eb(a),new Ya(s.firestore,null,a)}}function $(s,t,...r){if(s=Vt(s),arguments.length===1&&(t=rw.newId()),p5("doc","path",t),s instanceof Qu){const a=Ot.fromString(t,...r);return Zy(a),new bs(s,null,new et(a))}{if(!(s instanceof bs||s instanceof Ya))throw new Ve(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ot.fromString(t,...r));return Zy(a),new bs(s.firestore,s instanceof Ya?s.converter:null,new et(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb="AsyncQueue";class ab{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Y0(this,"async_queue_retry"),this.Su=()=>{const a=tm();a&&Fe(rb,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=t;const r=tm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const r=tm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ji(t))throw t;Fe(rb,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const r=this.bu.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(a);throw ma("INTERNAL UNHANDLED ERROR: ",i),a}).then(a=>(this.pu=!1,a))));return this.bu=r,r}enqueueAfterDelay(t,r,a){this.Du(),this.wu.indexOf(t)>-1&&(r=0);const i=tp.createAndSchedule(this,t,r,a,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&st()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const r of this.fu)if(r.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((r,a)=>r.targetTimeMs-a.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const r=this.fu.indexOf(t);this.fu.splice(r,1)}}function nb(s){return function(r,a){if(typeof r!="object"||r===null)return!1;const i=r;for(const o of a)if(o in i&&typeof i[o]=="function")return!0;return!1}(s,["next","error","complete"])}class qr extends Qu{constructor(t,r,a,i){super(t,r,a,i),this.type="firestore",this._queue=new ab,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ab(t),this._firestoreClient=void 0,await t}}}function XP(s,t){const r=typeof s=="object"?s:Du(),a=typeof s=="string"?s:t||qd,i=dn(r,"firestore").getImmediate({identifier:a});if(!i._initialized){const o=hN("firestore");o&&JP(i,...o)}return i}function qo(s){if(s._terminated)throw new Ve(je.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||ZP(s),s._firestoreClient}function ZP(s){var t,r,a;const i=s._freezeSettings(),o=function(c,x,f,N){return new wS(c,x,f,N.host,N.ssl,N.experimentalForceLongPolling,N.experimentalAutoDetectLongPolling,h5(N.experimentalLongPollingOptions),N.useFetchStreams)}(s._databaseId,((t=s._app)===null||t===void 0?void 0:t.options.appId)||"",s._persistenceKey,i);s._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((a=i.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),s._firestoreClient=new $P(s._authCredentials,s._appCheckCredentials,s._queue,o,s._componentsProvider&&function(c){const x=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(x),_online:x}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(vs.fromBase64String(t))}catch(r){throw new Ve(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new On(vs.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ve(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ve(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ve(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ct(this._lat,t._lat)||ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,i){if(a.length!==i.length)return!1;for(let o=0;o<a.length;++o)if(a[o]!==i[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=/^__.*__$/;class t6{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return this.fieldMask!==null?new xn(t,this.data,this.fieldMask,r,this.fieldTransforms):new Bo(t,this.data,r,this.fieldTransforms)}}class g5{constructor(t,r,a){this.data=t,this.fieldMask=r,this.fieldTransforms=a}toMutation(t,r){return new xn(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function y5(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class mp{constructor(t,r,a,i,o,l){this.settings=t,this.databaseId=r,this.serializer=a,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new mp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.$u(t),i}Uu(t){var r;const a=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.ku({path:a,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return eu(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(y5(this.Lu)&&e6.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class s6{constructor(t,r,a){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=a||qu(t)}ju(t,r,a,i=!1){return new mp({Lu:t,methodName:r,zu:a,path:fs.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ho(s){const t=s._freezeSettings(),r=qu(s._databaseId);return new s6(s._databaseId,!!t.ignoreUndefinedProperties,r)}function hp(s,t,r,a,i,o={}){const l=s.ju(o.merge||o.mergeFields?2:0,t,r,i);gp("Data must be an object, but it was:",l,a);const c=v5(a,l);let x,f;if(o.merge)x=new Xs(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const N=[];for(const I of o.mergeFields){const S=wh(t,I,r);if(!l.contains(S))throw new Ve(je.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);w5(N,S)||N.push(S)}x=new Xs(N),f=l.fieldTransforms.filter(I=>x.covers(I.field))}else x=null,f=l.fieldTransforms;return new t6(new Rs(c),x,f)}class Ku extends Go{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ku}}class pp extends Go{_toFieldTransform(t){return new Aw(t.path,new ko)}isEqual(t){return t instanceof pp}}class fp extends Go{constructor(t,r){super(t),this.Ju=r}_toFieldTransform(t){const r=new Eo(t.serializer,Sw(t.serializer,this.Ju));return new Aw(t.path,r)}isEqual(t){return t instanceof fp&&this.Ju===t.Ju}}function b5(s,t,r,a){const i=s.ju(1,t,r);gp("Data must be an object, but it was:",i,a);const o=[],l=Rs.empty();un(a,(x,f)=>{const N=yp(t,x,r);f=Vt(f);const I=i.Uu(N);if(f instanceof Ku)o.push(N);else{const S=Qo(f,I);S!=null&&(o.push(N),l.set(N,S))}});const c=new Xs(o);return new g5(l,c,i.fieldTransforms)}function j5(s,t,r,a,i,o){const l=s.ju(1,t,r),c=[wh(t,a,r)],x=[i];if(o.length%2!=0)throw new Ve(je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<o.length;S+=2)c.push(wh(t,o[S])),x.push(o[S+1]);const f=[],N=Rs.empty();for(let S=c.length-1;S>=0;--S)if(!w5(f,c[S])){const D=c[S];let g=x[S];g=Vt(g);const L=l.Uu(D);if(g instanceof Ku)f.push(D);else{const v=Qo(g,L);v!=null&&(f.push(D),N.set(D,v))}}const I=new Xs(f);return new g5(N,I,l.fieldTransforms)}function r6(s,t,r,a=!1){return Qo(r,s.ju(a?4:3,t))}function Qo(s,t){if(N5(s=Vt(s)))return gp("Unsupported field value:",t,s),v5(s,t);if(s instanceof Go)return function(a,i){if(!y5(i.Lu))throw i.Wu(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${a._methodName}() is not currently supported inside arrays`);const o=a._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,i){const o=[];let l=0;for(const c of a){let x=Qo(c,i.Ku(l));x==null&&(x={nullValue:"NULL_VALUE"}),o.push(x),l++}return{arrayValue:{values:o}}}(s,t)}return function(a,i){if((a=Vt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Sw(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const o=Zt.fromDate(a);return{timestampValue:Qd(i.serializer,o)}}if(a instanceof Zt){const o=new Zt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qd(i.serializer,o)}}if(a instanceof up)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof On)return{bytesValue:Fw(i.serializer,a._byteString)};if(a instanceof bs){const o=i.databaseId,l=a.firestore._databaseId;if(!l.isEqual(o))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:W0(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof xp)return function(l,c){return{mapValue:{fields:{[uw]:{stringValue:mw},[Wd]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Wu("VectorValues must only contain numeric values.");return U0(c.serializer,f)})}}}}}}(a,i);throw i.Wu(`Unsupported field value: ${Hu(a)}`)}(s,t)}function v5(s,t){const r={};return nw(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):un(s,(a,i)=>{const o=Qo(i,t.qu(a));o!=null&&(r[a]=o)}),{mapValue:{fields:r}}}function N5(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Zt||s instanceof up||s instanceof On||s instanceof bs||s instanceof Go||s instanceof xp)}function gp(s,t,r){if(!N5(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const a=Hu(r);throw a==="an object"?t.Wu(s+" a custom object"):t.Wu(s+" "+a)}}function wh(s,t,r){if((t=Vt(t))instanceof Wo)return t._internalPath;if(typeof t=="string")return yp(s,t);throw eu("Field path arguments must be of type string or ",s,!1,void 0,r)}const a6=new RegExp("[~\\*/\\[\\]]");function yp(s,t,r){if(t.search(a6)>=0)throw eu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,r);try{return new Wo(...t.split("."))._internalPath}catch{throw eu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,r)}}function eu(s,t,r,a,i){const o=a&&!a.isEmpty(),l=i!==void 0;let c=`Function ${t}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let x="";return(o||l)&&(x+=" (found",o&&(x+=` in field ${a}`),l&&(x+=` in document ${i}`),x+=")"),new Ve(je.INVALID_ARGUMENT,c+s+x)}function w5(s,t){return s.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(t,r,a,i,o){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new n6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Yu("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class n6 extends tu{data(){return super.data()}}function Yu(s,t){return typeof t=="string"?yp(s,t):t instanceof Wo?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new Ve(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bp{}class jp extends bp{}function pe(s,t,...r){let a=[];t instanceof bp&&a.push(t),a=a.concat(r),function(o){const l=o.filter(x=>x instanceof vp).length,c=o.filter(x=>x instanceof Ju).length;if(l>1||l>0&&c>0)throw new Ve(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const i of a)s=i._apply(s);return s}class Ju extends jp{constructor(t,r,a){super(),this._field=t,this._op=r,this._value=a,this.type="where"}static _create(t,r,a){return new Ju(t,r,a)}_apply(t){const r=this._parse(t);return C5(t._query,r),new ya(t.firestore,t.converter,hh(t._query,r))}_parse(t){const r=Ho(t.firestore);return function(o,l,c,x,f,N,I){let S;if(f.isKeyField()){if(N==="array-contains"||N==="array-contains-any")throw new Ve(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${N}' queries on documentId().`);if(N==="in"||N==="not-in"){lb(I,N);const g=[];for(const L of I)g.push(ib(x,o,L));S={arrayValue:{values:g}}}else S=ib(x,o,I)}else N!=="in"&&N!=="not-in"&&N!=="array-contains-any"||lb(I,N),S=r6(c,l,I,N==="in"||N==="not-in");return ss.create(f,N,S)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function fe(s,t,r){const a=t,i=Yu("where",s);return Ju._create(i,a,r)}class vp extends bp{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new vp(t,r)}_parse(t){const r=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return r.length===1?r[0]:Sr.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const x of c)C5(l,x),l=hh(l,x)}(t._query,r),new ya(t.firestore,t.converter,hh(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Np extends jp{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Np(t,r)}_apply(t){const r=function(i,o,l){if(i.startAt!==null)throw new Ve(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ve(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wo(o,l)}(t._query,this._field,this._direction);return new ya(t.firestore,t.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Xi(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function kh(s,t="asc"){const r=t,a=Yu("orderBy",s);return Np._create(a,r)}class wp extends jp{constructor(t,r,a){super(),this.type=t,this._limit=r,this._limitType=a}static _create(t,r,a){return new wp(t,r,a)}_apply(t){return new ya(t.firestore,t.converter,Hd(t._query,this._limit,this._limitType))}}function It(s){return YP("limit",s),wp._create("limit",s,"F")}function ib(s,t,r){if(typeof(r=Vt(r))=="string"){if(r==="")throw new Ve(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vw(t)&&r.indexOf("/")!==-1)throw new Ve(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const a=t.path.child(Ot.fromString(r));if(!et.isDocumentKey(a))throw new Ve(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return vy(s,new et(a))}if(r instanceof bs)return vy(s,r._key);throw new Ve(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hu(r)}.`)}function lb(s,t){if(!Array.isArray(s)||s.length===0)throw new Ve(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function C5(s,t){const r=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(s.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ve(je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ve(je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class I5{convertValue(t,r="none"){switch(rn(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Jt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(sn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw st()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const a={};return un(t,(i,o)=>{a[i]=this.convertValue(o,r)}),a}convertVectorValue(t){var r,a,i;const o=(i=(a=(r=t.fields)===null||r===void 0?void 0:r[Wd].arrayValue)===null||a===void 0?void 0:a.values)===null||i===void 0?void 0:i.map(l=>Jt(l.doubleValue));return new xp(o)}convertGeoPoint(t){return new up(Jt(t.latitude),Jt(t.longitude))}convertArray(t,r){return(t.values||[]).map(a=>this.convertValue(a,r))}convertServerTimestamp(t,r){switch(r){case"previous":const a=zu(t);return a==null?null:this.convertValue(a,r);case"estimate":return this.convertTimestamp(jo(t));default:return null}}convertTimestamp(t){const r=tn(t);return new Zt(r.seconds,r.nanos)}convertDocumentKey(t,r){const a=Ot.fromString(t);jt(Qw(a));const i=new vo(a.get(1),a.get(3)),o=new et(a.popFirst(5));return i.isEqual(r)||ma(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s,t,r){let a;return a=s?r&&(r.merge||r.mergeFields)?s.toFirestore(t,r):s.toFirestore(t):t,a}class i6 extends I5{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new bs(this.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cp extends tu{constructor(t,r,a,i,o,l){super(t,r,a,i,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(Yu("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}}class ld extends Cp{data(t={}){return super.data(t)}}class E5{constructor(t,r,a,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new gi(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(a=>{t.call(r,new ld(this._firestore,this._userDataWriter,a.key,a,new gi(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const x=new ld(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:x,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const x=new ld(i._firestore,i._userDataWriter,c.doc.key,c.doc,new gi(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,N=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),N=l.indexOf(c.doc.key)),{type:l6(c.type),doc:x,oldIndex:f,newIndex:N}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function l6(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(s){s=zs(s,bs);const t=zs(s.firestore,qr);return HP(qo(t),s._key).then(r=>S5(t,s,r))}class Xu extends I5{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new bs(this.firestore,null,r)}}function dt(s){s=zs(s,ya);const t=zs(s.firestore,qr),r=qo(t),a=new Xu(t);return k5(s._query),QP(r,s._query).then(i=>new E5(t,a,s,i))}function or(s,t,r){s=zs(s,bs);const a=zs(s.firestore,qr),i=kp(s.converter,t,r);return Zu(a,[hp(Ho(a),"setDoc",s._key,i,s.converter!==null,r).toMutation(s._key,gs.none())])}function Es(s,t,r,...a){s=zs(s,bs);const i=zs(s.firestore,qr),o=Ho(i);let l;return l=typeof(t=Vt(t))=="string"||t instanceof Wo?j5(o,"updateDoc",s._key,t,r,a):b5(o,"updateDoc",s._key,t),Zu(i,[l.toMutation(s._key,gs.exists(!0))])}function o6(s){return Zu(zs(s.firestore,qr),[new Uu(s._key,gs.none())])}function En(s,t){const r=zs(s.firestore,qr),a=$(s),i=kp(s.converter,t);return Zu(r,[hp(Ho(s.firestore),"addDoc",a._key,i,s.converter!==null,{}).toMutation(a._key,gs.exists(!1))]).then(()=>a)}function we(s,...t){var r,a,i;s=Vt(s);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof t[l]!="object"||nb(t[l])||(o=t[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(nb(t[l])){const I=t[l];t[l]=(r=I.next)===null||r===void 0?void 0:r.bind(I),t[l+1]=(a=I.error)===null||a===void 0?void 0:a.bind(I),t[l+2]=(i=I.complete)===null||i===void 0?void 0:i.bind(I)}let x,f,N;if(s instanceof bs)f=zs(s.firestore,qr),N=Ou(s._key.path),x={next:I=>{t[l]&&t[l](S5(f,s,I))},error:t[l+1],complete:t[l+2]};else{const I=zs(s,ya);f=zs(I.firestore,qr),N=I._query;const S=new Xu(f);x={next:D=>{t[l]&&t[l](new E5(f,S,I,D))},error:t[l+1],complete:t[l+2]},k5(s._query)}return function(S,D,g,L){const v=new cp(L),_=new ip(D,v,g);return S.asyncQueue.enqueueAndForget(async()=>rp(await Zd(S),_)),()=>{v.su(),S.asyncQueue.enqueueAndForget(async()=>ap(await Zd(S),_))}}(qo(f),N,c,x)}function Zu(s,t){return function(a,i){const o=new Lr;return a.asyncQueue.enqueueAndForget(async()=>DP(await WP(a),i,o)),o.promise}(qo(s),t)}function S5(s,t,r){const a=r.docs.get(t._key),i=new Xu(s);return new Cp(s,i,t._key,a,new gi(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6={maxAttempts:5};function Rl(s,t){if((s=Vt(s)).firestore!==t)throw new Ve(je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Ho(t)}get(t){const r=Rl(t,this._firestore),a=new i6(this._firestore);return this._transaction.lookup([r._key]).then(i=>{if(!i||i.length!==1)return st();const o=i[0];if(o.isFoundDocument())return new tu(this._firestore,a,o.key,o,r.converter);if(o.isNoDocument())return new tu(this._firestore,a,r._key,null,r.converter);throw st()})}set(t,r,a){const i=Rl(t,this._firestore),o=kp(i.converter,r,a),l=hp(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,a);return this._transaction.set(i._key,l),this}update(t,r,a,...i){const o=Rl(t,this._firestore);let l;return l=typeof(r=Vt(r))=="string"||r instanceof Wo?j5(this._dataReader,"Transaction.update",o._key,r,a,i):b5(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,l),this}delete(t){const r=Rl(t,this._firestore);return this._transaction.delete(r._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6 extends d6{constructor(t,r){super(t,r),this._firestore=t}get(t){const r=Rl(t,this._firestore),a=new Xu(this._firestore);return super.get(t).then(i=>new Cp(this._firestore,a,r._key,i._document,new gi(!1,!1),r.converter))}}function Ze(s,t,r){s=zs(s,qr);const a=Object.assign(Object.assign({},c6),r);return function(o){if(o.maxAttempts<1)throw new Ve(je.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(o,l,c){const x=new Lr;return o.asyncQueue.enqueueAndForget(async()=>{const f=await GP(o);new UP(o.asyncQueue,f,c,l,x).Iu()}),x.promise}(qo(s),i=>t(new u6(s,i)),a)}function Dt(){return new pp("serverTimestamp")}function Ge(s){return new fp("increment",s)}(function(t,r=!0){(function(i){Ki=i})(qn),Er(new mr("firestore",(a,{instanceIdentifier:i,options:o})=>{const l=a.getProvider("app").getImmediate(),c=new qr(new iS(a.getProvider("auth-internal")),new cS(l,a.getProvider("app-check-internal")),function(f,N){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vo(f.options.projectId,N)}(l,i),l);return o=Object.assign({useFetchStreams:r},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ws(cy,dy,t),Ws(cy,dy,"esm2017")})();function Ip(s,t){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(s);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(s,a[i])&&(r[a[i]]=s[a[i]]);return r}function _5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x6=_5,P5=new $n("auth","Firebase",_5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su=new Tu("@firebase/auth");function m6(s,...t){su.logLevel<=pt.WARN&&su.warn(`Auth (${qn}): ${s}`,...t)}function od(s,...t){su.logLevel<=pt.ERROR&&su.error(`Auth (${qn}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(s,...t){throw Ep(s,...t)}function Br(s,...t){return Ep(s,...t)}function T5(s,t,r){const a=Object.assign(Object.assign({},x6()),{[t]:r});return new $n("auth","Firebase",a).create(t,{appName:s.name})}function ia(s){return T5(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(s,...t){if(typeof s!="string"){const r=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(r,...a)}return P5.create(s,...t)}function nt(s,t,...r){if(!s)throw Ep(t,...r)}function sa(s){const t="INTERNAL ASSERTION FAILED: "+s;throw od(t),new Error(t)}function pa(s,t){s||sa(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function D5(){return ob()==="http:"||ob()==="https:"}function ob(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D5()||yN()||"connection"in navigator)?navigator.onLine:!0}function p6(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,r){this.shortDelay=t,this.longDelay=r,pa(r>t,"Short delay should be less than long delay!"),this.isMobile=xI()||pI()}get(){return h6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(s,t){pa(s.emulator,"Emulator should always be set here");const{url:r}=s.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{static initialize(t,r,a){this.fetchImpl=t,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],y6=new Ko(3e4,6e4);function ba(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Hr(s,t,r,a,i={}){return R5(s,i,async()=>{let o={},l={};a&&(t==="GET"?l=a:o={body:JSON.stringify(a)});const c=Lo(Object.assign({key:s.config.apiKey},l)).slice(1),x=await s._getAdditionalHeaders();x["Content-Type"]="application/json",s.languageCode&&(x["X-Firebase-Locale"]=s.languageCode);const f=Object.assign({method:t,headers:x},o);return hI()||(f.referrerPolicy="no-referrer"),A5.fetch()(await M5(s,s.config.apiHost,r,c),f)})}async function R5(s,t,r){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},f6),t);try{const i=new j6(s),o=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Vc(s,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[x,f]=c.split(" : ");if(x==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(s,"credential-already-in-use",l);if(x==="EMAIL_EXISTS")throw Vc(s,"email-already-in-use",l);if(x==="USER_DISABLED")throw Vc(s,"user-disabled",l);const N=a[x]||x.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw T5(s,N,f);_r(s,N)}}catch(i){if(i instanceof hr)throw i;_r(s,"network-request-failed",{message:String(i)})}}async function Yo(s,t,r,a,i={}){const o=await Hr(s,t,r,a,i);return"mfaPendingCredential"in o&&_r(s,"multi-factor-auth-required",{_serverResponse:o}),o}async function M5(s,t,r,a){const i=`${t}${r}?${a}`,o=s,l=o.config.emulator?Sp(s.config,i):`${s.config.apiScheme}://${i}`;return g6.includes(r)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function b6(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Br(this.auth,"network-request-failed")),y6.get())})}}function Vc(s,t,r){const a={appName:s.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const i=Br(s,t,a);return i.customData._tokenResponse=r,i}function cb(s){return s!==void 0&&s.enterprise!==void 0}class v6{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return b6(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function N6(s,t){return Hr(s,"GET","/v2/recaptchaConfig",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(s,t){return Hr(s,"POST","/v1/accounts:delete",t)}async function au(s,t){return Hr(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function k6(s,t=!1){const r=Vt(s),a=await r.getIdToken(t),i=_p(a);nt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:a,authTime:Jl(rm(i.auth_time)),issuedAtTime:Jl(rm(i.iat)),expirationTime:Jl(rm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rm(s){return Number(s)*1e3}function _p(s){const[t,r,a]=s.split(".");if(t===void 0||r===void 0||a===void 0)return od("JWT malformed, contained fewer than 3 sections"),null;try{const i=xN(r);return i?JSON.parse(i):(od("Failed to decode base64 JWT payload"),null)}catch(i){return od("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function db(s){const t=_p(s);return nt(t,"internal-error"),nt(typeof t.exp<"u","internal-error"),nt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $i(s,t,r=!1){if(r)return t;try{return await t}catch(a){throw a instanceof hr&&C6(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function C6({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(s){var t;const r=s.auth,a=await s.getIdToken(),i=await $i(s,au(r,{idToken:a}));nt(i==null?void 0:i.users.length,r,"internal-error");const o=i.users[0];s._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?z5(o.providerUserInfo):[],c=S6(s.providerData,l),x=s.isAnonymous,f=!(s.email&&o.passwordHash)&&!(c!=null&&c.length),N=x?f:!1,I={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ch(o.createdAt,o.lastLoginAt),isAnonymous:N};Object.assign(s,I)}async function E6(s){const t=Vt(s);await nu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function S6(s,t){return[...s.filter(a=>!t.some(i=>i.providerId===a.providerId)),...t]}function z5(s){return s.map(t=>{var{providerId:r}=t,a=Ip(t,["providerId"]);return{providerId:r,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(s,t){const r=await R5(s,{},async()=>{const a=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=s.config,l=await M5(s,i,"/v1/token",`key=${o}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",A5.fetch()(l,{method:"POST",headers:c,body:a})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function P6(s,t){return Hr(s,"POST","/v2/accounts:revokeToken",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){nt(t.idToken,"internal-error"),nt(typeof t.idToken<"u","internal-error"),nt(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):db(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){nt(t.length!==0,"internal-error");const r=db(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:a,refreshToken:i,expiresIn:o}=await _6(t,r);this.updateTokensAndExpiration(a,i,Number(o))}updateTokensAndExpiration(t,r,a){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,r){const{refreshToken:a,accessToken:i,expirationTime:o}=r,l=new Ii;return a&&(nt(typeof a=="string","internal-error",{appName:t}),l.refreshToken=a),i&&(nt(typeof i=="string","internal-error",{appName:t}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ii,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(s,t){nt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Nr{constructor(t){var{uid:r,auth:a,stsTokenManager:i}=t,o=Ip(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new I6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ch(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const r=await $i(this,this.stsTokenManager.getToken(this.auth,t));return nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return k6(this,t)}reload(){return E6(this)}_assign(t){this!==t&&(nt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Nr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),r&&await nu(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ys(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await $i(this,w6(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var a,i,o,l,c,x,f,N;const I=(a=r.displayName)!==null&&a!==void 0?a:void 0,S=(i=r.email)!==null&&i!==void 0?i:void 0,D=(o=r.phoneNumber)!==null&&o!==void 0?o:void 0,g=(l=r.photoURL)!==null&&l!==void 0?l:void 0,L=(c=r.tenantId)!==null&&c!==void 0?c:void 0,v=(x=r._redirectEventId)!==null&&x!==void 0?x:void 0,_=(f=r.createdAt)!==null&&f!==void 0?f:void 0,z=(N=r.lastLoginAt)!==null&&N!==void 0?N:void 0,{uid:R,emailVerified:H,isAnonymous:K,providerData:W,stsTokenManager:A}=r;nt(R&&A,t,"internal-error");const d=Ii.fromJSON(this.name,A);nt(typeof R=="string",t,"internal-error"),Ia(I,t.name),Ia(S,t.name),nt(typeof H=="boolean",t,"internal-error"),nt(typeof K=="boolean",t,"internal-error"),Ia(D,t.name),Ia(g,t.name),Ia(L,t.name),Ia(v,t.name),Ia(_,t.name),Ia(z,t.name);const q=new Nr({uid:R,auth:t,email:S,emailVerified:H,displayName:I,isAnonymous:K,photoURL:g,phoneNumber:D,tenantId:L,stsTokenManager:d,createdAt:_,lastLoginAt:z});return W&&Array.isArray(W)&&(q.providerData=W.map(B=>Object.assign({},B))),v&&(q._redirectEventId=v),q}static async _fromIdTokenResponse(t,r,a=!1){const i=new Ii;i.updateFromServerResponse(r);const o=new Nr({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:a});return await nu(o),o}static async _fromGetAccountInfoResponse(t,r,a){const i=r.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?z5(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Ii;c.updateFromIdToken(a);const x=new Nr({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ch(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(x,f),x}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;function ra(s){pa(s instanceof Function,"Expected a class definition");let t=ub.get(s);return t?(pa(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,ub.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}O5.type="NONE";const xb=O5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s,t,r){return`firebase:${s}:${t}:${r}`}class Ei{constructor(t,r,a){this.persistence=t,this.auth=r,this.userKey=a;const{config:i,name:o}=this.auth;this.fullUserKey=cd(this.userKey,i.apiKey,o),this.fullPersistenceKey=cd("persistence",i.apiKey,o),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await au(this.auth,{idToken:t}).catch(()=>{});return r?Nr._fromGetAccountInfoResponse(this.auth,r,t):null}return Nr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,a="authUser"){if(!r.length)return new Ei(ra(xb),t,a);const i=(await Promise.all(r.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ra(xb);const l=cd(a,t.config.apiKey,t.name);let c=null;for(const f of r)try{const N=await f._get(l);if(N){let I;if(typeof N=="string"){const S=await au(t,{idToken:N}).catch(()=>{});if(!S)break;I=await Nr._fromGetAccountInfoResponse(t,S,N)}else I=Nr._fromJSON(t,N);f!==o&&(c=I),o=f;break}}catch{}const x=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!x.length?new Ei(o,t,a):(o=x[0],c&&await o._set(l,c.toJSON()),await Promise.all(r.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Ei(o,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F5(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(L5(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($5(t))return"Blackberry";if(q5(t))return"Webos";if(V5(t))return"Safari";if((t.includes("chrome/")||B5(t))&&!t.includes("edge/"))return"Chrome";if(U5(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(r);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function L5(s=Ts()){return/firefox\//i.test(s)}function V5(s=Ts()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function B5(s=Ts()){return/crios\//i.test(s)}function F5(s=Ts()){return/iemobile/i.test(s)}function U5(s=Ts()){return/android/i.test(s)}function $5(s=Ts()){return/blackberry/i.test(s)}function q5(s=Ts()){return/webos/i.test(s)}function Pp(s=Ts()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function T6(s=Ts()){var t;return Pp(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function D6(){return fI()&&document.documentMode===10}function W5(s=Ts()){return Pp(s)||U5(s)||q5(s)||$5(s)||/windows phone/i.test(s)||F5(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(s,t=[]){let r;switch(s){case"Browser":r=mb(Ts());break;case"Worker":r=`${mb(Ts())}-${s}`;break;default:r=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${qn}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const a=o=>new Promise((l,c)=>{try{const x=t(o);l(x)}catch(x){c(x)}});a.onAbort=r,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const a of this.queue)await a(t),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R6(s,t={}){return Hr(s,"GET","/v2/passwordPolicy",ba(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6=6;class z6{constructor(t){var r,a,i,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:M6,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,a,i,o,l,c;const x={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,x),this.validatePasswordCharacterOptions(t,x),x.isValid&&(x.isValid=(r=x.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),x.isValid&&(x.isValid=(a=x.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),x.isValid&&(x.isValid=(i=x.containsLowercaseLetter)!==null&&i!==void 0?i:!0),x.isValid&&(x.isValid=(o=x.containsUppercaseLetter)!==null&&o!==void 0?o:!0),x.isValid&&(x.isValid=(l=x.containsNumericCharacter)!==null&&l!==void 0?l:!0),x.isValid&&(x.isValid=(c=x.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),x}validatePasswordLengthOptions(t,r){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=t.length>=a),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let i=0;i<t.length;i++)a=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,r,a,i,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(t,r,a,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hb(this),this.idTokenSubscription=new hb(this),this.beforeStateQueue=new A6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=ra(r)),this._initializationPromise=this.queue(async()=>{var a,i,o;if(!this._deleted&&(this.persistenceManager=await Ei.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await au(this,{idToken:t}),a=await Nr._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Ys(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let i=a,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,x=await this.tryRedirectSignIn(t);(!l||l===c)&&(x!=null&&x.user)&&(i=x.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await nu(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=p6()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ys(this.app))return Promise.reject(ia(this));const r=t?Vt(t):null;return r&&nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&nt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ys(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ys(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await R6(this),r=new z6(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $n("auth","Firebase",t())}onAuthStateChanged(t,r,a){return this.registerStateListener(this.authStateSubscription,t,r,a)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,a){return this.registerStateListener(this.idTokenSubscription,t,r,a)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await P6(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const a=await this.getOrInitRedirectPersistenceManager(r);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&ra(t)||this._popupRedirectResolver;nt(r,this,"argument-error"),this.redirectPersistenceManager=await Ei.create(this,[ra(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,a;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,a,i){if(this._deleted)return()=>{};const o=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof r=="function"){const x=t.addObserver(r,a,i);return()=>{l=!0,x()}}else{const x=t.addObserver(r);return()=>{l=!0,x()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=G5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(r["X-Firebase-Client"]=a);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&m6(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Hn(s){return Vt(s)}class hb{constructor(t){this.auth=t,this.observer=null,this.addObserver=wI(r=>this.observer=r)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L6(s){ex=s}function H5(s){return ex.loadJS(s)}function V6(){return ex.recaptchaEnterpriseScript}function B6(){return ex.gapiScript}function F6(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class U6{constructor(){this.enterprise=new $6}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class $6{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const q6="recaptcha-enterprise",Q5="NO_RECAPTCHA";class W6{constructor(t){this.type=q6,this.auth=Hn(t)}async verify(t="verify",r=!1){async function a(o){if(!r){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{N6(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(x=>{if(x.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new v6(x);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(x=>{c(x)})})}function i(o,l,c){const x=window.grecaptcha;cb(x)?x.enterprise.ready(()=>{x.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(Q5)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new U6().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{a(this.auth).then(c=>{if(!r&&cb(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let x=V6();x.length!==0&&(x+=c),H5(x).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function kl(s,t,r,a=!1,i=!1){const o=new W6(s);let l;if(i)l=Q5;else try{l=await o.verify(r)}catch{l=await o.verify(r,!0)}const c=Object.assign({},t);if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const x=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:x,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const x=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:x,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return a?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Ih(s,t,r,a,i){var o,l;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=s._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await kl(s,t,r,r==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const x=await kl(s,t,r,r==="getOobCode");return a(s,x)}else return Promise.reject(c)});else if(i==="PHONE_PROVIDER")if(!((l=s._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("PHONE_PROVIDER")){const c=await kl(s,t,r);return a(s,c).catch(async x=>{var f;if(((f=s._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(x.code==="auth/missing-recaptcha-token"||x.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const N=await kl(s,t,r,!1,!0);return a(s,N)}return Promise.reject(x)})}else{const c=await kl(s,t,r,!1,!0);return a(s,c)}else return Promise.reject(i+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(s,t){const r=dn(s,"auth");if(r.isInitialized()){const i=r.getImmediate(),o=r.getOptions();if(Za(o,t??{}))return i;_r(i,"already-initialized")}return r.initialize({options:t})}function H6(s,t){const r=(t==null?void 0:t.persistence)||[],a=(Array.isArray(r)?r:[r]).map(ra);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function Q6(s,t,r){const a=Hn(s);nt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),o=K5(t),{host:l,port:c}=K6(t),x=c===null?"":`:${c}`,f={url:`${o}//${l}${x}/`},N=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){nt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),nt(Za(f,a.config.emulator)&&Za(N,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=f,a.emulatorConfig=N,a.settings.appVerificationDisabledForTesting=!0,i||Y6()}function K5(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function K6(s){const t=K5(s),r=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const o=i[1];return{host:o,port:pb(a.substr(o.length+1))}}else{const[o,l]=a.split(":");return{host:o,port:pb(l)}}}function pb(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Y6(){function s(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return sa("not implemented")}_getIdTokenResponse(t){return sa("not implemented")}_linkToIdToken(t,r){return sa("not implemented")}_getReauthenticationResolver(t){return sa("not implemented")}}async function J6(s,t){return Hr(s,"POST","/v1/accounts:update",t)}async function X6(s,t){return Hr(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z6(s,t){return Yo(s,"POST","/v1/accounts:signInWithPassword",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e8(s,t){return Yo(s,"POST","/v1/accounts:signInWithEmailLink",ba(s,t))}async function t8(s,t){return Yo(s,"POST","/v1/accounts:signInWithEmailLink",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Tp{constructor(t,r,a,i=null){super("password",a),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new So(t,r,"password")}static _fromEmailAndCode(t,r,a=null){return new So(t,r,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,r,"signInWithPassword",Z6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return e8(t,{email:this._email,oobCode:this._password});default:_r(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const a={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ih(t,a,"signUpPassword",X6,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return t8(t,{idToken:r,email:this._email,oobCode:this._password});default:_r(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si(s,t){return Yo(s,"POST","/v1/accounts:signInWithIdp",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="http://localhost";class Ln extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Ln(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):_r("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:i}=r,o=Ip(r,["providerId","signInMethod"]);if(!a||!i)return null;const l=new Ln(a,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const r=this.buildRequest();return Si(t,r)}_linkToIdToken(t,r){const a=this.buildRequest();return a.idToken=r,Si(t,a)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Si(t,r)}buildRequest(){const t={requestUri:s8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Lo(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a8(s){const t=_l(Pl(s)).link,r=t?_l(Pl(t)).deep_link_id:null,a=_l(Pl(s)).deep_link_id;return(a?_l(Pl(a)).link:null)||a||r||t||s}class Dp{constructor(t){var r,a,i,o,l,c;const x=_l(Pl(t)),f=(r=x.apiKey)!==null&&r!==void 0?r:null,N=(a=x.oobCode)!==null&&a!==void 0?a:null,I=r8((i=x.mode)!==null&&i!==void 0?i:null);nt(f&&N&&I,"argument-error"),this.apiKey=f,this.operation=I,this.code=N,this.continueUrl=(o=x.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=x.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=x.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){const r=a8(t);try{return new Dp(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.providerId=el.PROVIDER_ID}static credential(t,r){return So._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const a=Dp.parseLink(r);return nt(a,"argument-error"),So._fromEmailAndCode(t,a.code,a.tenantId)}}el.PROVIDER_ID="password";el.EMAIL_PASSWORD_SIGN_IN_METHOD="password";el.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends Y5{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Jo{constructor(){super("facebook.com")}static credential(t){return Ln._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ta.credentialFromTaggedObject(t)}static credentialFromError(t){return Ta.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ta.credential(t.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Jo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Ln._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:a}=t;if(!r&&!a)return null;try{return Da.credential(r,a)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Jo{constructor(){super("github.com")}static credential(t){return Ln._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Aa.credentialFromTaggedObject(t)}static credentialFromError(t){return Aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Aa.credential(t.oauthAccessToken)}catch{return null}}}Aa.GITHUB_SIGN_IN_METHOD="github.com";Aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Jo{constructor(){super("twitter.com")}static credential(t,r){return Ln._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ra.credentialFromTaggedObject(t)}static credentialFromError(t){return Ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=t;if(!r||!a)return null;try{return Ra.credential(r,a)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(s,t){return Yo(s,"POST","/v1/accounts:signUp",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,a,i=!1){const o=await Nr._fromIdTokenResponse(t,a,i),l=fb(a);return new Vn({user:o,providerId:l,_tokenResponse:a,operationType:r})}static async _forOperation(t,r,a){await t._updateTokensIfNecessary(a,!0);const i=fb(a);return new Vn({user:t,providerId:i,_tokenResponse:a,operationType:r})}}function fb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends hr{constructor(t,r,a,i){var o;super(r.code,r.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,iu.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,r,a,i){return new iu(t,r,a,i)}}function J5(s,t,r,a){return(t==="reauthenticate"?r._getReauthenticationResolver(s):r._getIdTokenResponse(s)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?iu._fromErrorAndOperation(s,o,t,a):o})}async function i8(s,t,r=!1){const a=await $i(s,t._linkToIdToken(s.auth,await s.getIdToken()),r);return Vn._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(s,t,r=!1){const{auth:a}=s;if(Ys(a.app))return Promise.reject(ia(a));const i="reauthenticate";try{const o=await $i(s,J5(a,i,t,s),r);nt(o.idToken,a,"internal-error");const l=_p(o.idToken);nt(l,a,"internal-error");const{sub:c}=l;return nt(s.uid===c,a,"user-mismatch"),Vn._forOperation(s,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&_r(a,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X5(s,t,r=!1){if(Ys(s.app))return Promise.reject(ia(s));const a="signIn",i=await J5(s,a,t),o=await Vn._fromIdTokenResponse(s,a,i);return r||await s._updateCurrentUser(o.user),o}async function o8(s,t){return X5(Hn(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(s){const t=Hn(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function c8(s,t,r){if(Ys(s.app))return Promise.reject(ia(s));const a=Hn(s),l=await Ih(a,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n8,"EMAIL_PASSWORD_PROVIDER").catch(x=>{throw x.code==="auth/password-does-not-meet-requirements"&&Z5(s),x}),c=await Vn._fromIdTokenResponse(a,"signIn",l);return await a._updateCurrentUser(c.user),c}function d8(s,t,r){return Ys(s.app)?Promise.reject(ia(s)):o8(Vt(s),el.credential(t,r)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Z5(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(s,t){return Hr(s,"POST","/v1/accounts:createAuthUri",ba(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8(s,t){const r=D5()?ru():"http://localhost",a={identifier:t,continueUri:r},{signinMethods:i}=await u8(Vt(s),a);return i||[]}function e2(s,t){return m8(Vt(s),null,t)}async function m8(s,t,r){const{auth:a}=s,o={idToken:await s.getIdToken(),returnSecureToken:!0};t&&(o.email=t),r&&(o.password=r);const l=await $i(s,J6(a,o));await s._updateTokensIfNecessary(l,!0)}function h8(s,t,r,a){return Vt(s).onIdTokenChanged(t,r,a)}function p8(s,t,r){return Vt(s).beforeAuthStateChanged(t,r)}function vt(s,t,r,a){return Vt(s).onAuthStateChanged(t,r,a)}function _o(s){return Vt(s).signOut()}const lu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(lu,"1"),this.storage.removeItem(lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1e3,g8=10;class s2 extends t2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),i=this.localCache[r];a!==i&&t(r,i,a)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((l,c,x)=>{this.notifyListeners(l,x)});return}const a=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(a);!r&&this.localCache[a]===l||this.notifyListeners(a,l)},o=this.storage.getItem(a);D6()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,g8):i()}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:a}),!0)})},f8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}s2.type="LOCAL";const y8=s2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends t2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}r2.type="SESSION";const a2=r2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const a=new tx(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:a,eventType:i,data:o}=r.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const c=Array.from(l).map(async f=>f(r.origin,o)),x=await b8(c);r.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:x})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(s="",t=10){let r="";for(let a=0;a<t;a++)r+=Math.floor(Math.random()*10);return s+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,x)=>{const f=Ap("",20);i.port1.start();const N=setTimeout(()=>{x(new Error("unsupported_event"))},a);l={messageChannel:i,onMessage(I){const S=I;if(S.data.eventId===f)switch(S.data.status){case"ack":clearTimeout(N),o=setTimeout(()=>{x(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(S.data.response);break;default:clearTimeout(N),clearTimeout(o),x(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function v8(s){Fr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function N8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w8(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function k8(){return n2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="firebaseLocalStorageDb",C8=1,ou="firebaseLocalStorage",l2="fbase_key";class Xo{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function sx(s,t){return s.transaction([ou],t?"readwrite":"readonly").objectStore(ou)}function I8(){const s=indexedDB.deleteDatabase(i2);return new Xo(s).toPromise()}function Eh(){const s=indexedDB.open(i2,C8);return new Promise((t,r)=>{s.addEventListener("error",()=>{r(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ou,{keyPath:l2})}catch(i){r(i)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ou)?t(a):(a.close(),await I8(),t(await Eh()))})})}async function gb(s,t,r){const a=sx(s,!0).put({[l2]:t,value:r});return new Xo(a).toPromise()}async function E8(s,t){const r=sx(s,!1).get(t),a=await new Xo(r).toPromise();return a===void 0?null:a.value}function yb(s,t){const r=sx(s,!0).delete(t);return new Xo(r).toPromise()}const S8=800,_8=3;class o2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eh(),this.db)}async _withRetries(t){let r=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(r++>_8)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tx._getInstance(k8()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await N8(),!this.activeServiceWorker)return;this.sender=new j8(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((r=a[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||w8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eh();return await gb(t,lu,"1"),await yb(t,lu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>gb(a,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(a=>E8(a,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>yb(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const o=sx(i,!1).getAll();return new Xo(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(t.length!==0)for(const{fbase_key:i,value:o}of t)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const i of Array.from(a))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o2.type="LOCAL";const P8=o2;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(s,t){return t?ra(t):(nt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp extends Tp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Si(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Si(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Si(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function D8(s){return X5(s.auth,new Rp(s),s.bypassAuthState)}function A8(s){const{auth:t,user:r}=s;return nt(r,t,"internal-error"),l8(r,new Rp(s),s.bypassAuthState)}async function R8(s){const{auth:t,user:r}=s;return nt(r,t,"internal-error"),i8(r,new Rp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,r,a,i,o=!1){this.auth=t,this.resolver=a,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:a,postBody:i,tenantId:o,error:l,type:c}=t;if(l){this.reject(l);return}const x={auth:this.auth,requestUri:r,sessionId:a,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(x))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return D8;case"linkViaPopup":case"linkViaRedirect":return R8;case"reauthViaPopup":case"reauthViaRedirect":return A8;default:_r(this.auth,"internal-error")}}resolve(t){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){pa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Ko(2e3,1e4);class yi extends c2{constructor(t,r,a,i,o){super(t,r,i,o),this.provider=a,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return nt(t,this.auth,"internal-error"),t}async onExecution(){pa(this.filter.length===1,"Popup operations only handle one event");const t=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,a;if(!((a=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,M8.get())};t()}}yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8="pendingRedirect",dd=new Map;class O8 extends c2{constructor(t,r,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let t=dd.get(this.auth._key());if(!t){try{const a=await L8(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(r){t=()=>Promise.reject(r)}dd.set(this.auth._key(),t)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L8(s,t){const r=F8(t),a=B8(s);if(!await a._isAvailable())return!1;const i=await a._get(r)==="true";return await a._remove(r),i}function V8(s,t){dd.set(s._key(),t)}function B8(s){return ra(s._redirectPersistence)}function F8(s){return cd(z8,s.config.apiKey,s.name)}async function U8(s,t,r=!1){if(Ys(s.app))return Promise.reject(ia(s));const a=Hn(s),i=T8(a,t),l=await new O8(a,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await a._persistUserIfCurrent(l.user),await a._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=10*60*1e3;class q8{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(r=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!W8(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var a;if(t.error&&!d2(t)){const i=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";r.onError(Br(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const a=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$8&&this.cachedEventUids.clear(),this.cachedEventUids.has(bb(t))}saveEventToCache(t){this.cachedEventUids.add(bb(t)),this.lastProcessedEventTime=Date.now()}}function bb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function d2({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function W8(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d2(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(s,t={}){return Hr(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q8=/^https?/;async function K8(s){if(s.config.emulator)return;const{authorizedDomains:t}=await G8(s);for(const r of t)try{if(Y8(r))return}catch{}_r(s,"unauthorized-domain")}function Y8(s){const t=ru(),{protocol:r,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const l=new URL(s);return l.hostname===""&&a===""?r==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===a}if(!Q8.test(r))return!1;if(H8.test(s))return a===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new Ko(3e4,6e4);function jb(){const s=Fr().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let r=0;r<s.CP.length;r++)s.CP[r]=null}}function X8(s){return new Promise((t,r)=>{var a,i,o;function l(){jb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{jb(),r(Br(s,"network-request-failed"))},timeout:J8.get()})}if(!((i=(a=Fr().gapi)===null||a===void 0?void 0:a.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((o=Fr().gapi)===null||o===void 0)&&o.load)l();else{const c=F6("iframefcb");return Fr()[c]=()=>{gapi.load?l():r(Br(s,"network-request-failed"))},H5(`${B6()}?onload=${c}`).catch(x=>r(x))}}).catch(t=>{throw ud=null,t})}let ud=null;function Z8(s){return ud=ud||X8(s),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Ko(5e3,15e3),tT="__/auth/iframe",sT="emulator/auth/iframe",rT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nT(s){const t=s.config;nt(t.authDomain,s,"auth-domain-config-required");const r=t.emulator?Sp(t,sT):`https://${s.config.authDomain}/${tT}`,a={apiKey:t.apiKey,appName:s.name,v:qn},i=aT.get(s.config.apiHost);i&&(a.eid=i);const o=s._getFrameworks();return o.length&&(a.fw=o.join(",")),`${r}?${Lo(a).slice(1)}`}async function iT(s){const t=await Z8(s),r=Fr().gapi;return nt(r,s,"internal-error"),t.open({where:document.body,url:nT(s),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rT,dontclear:!0},a=>new Promise(async(i,o)=>{await a.restyle({setHideOnLeave:!1});const l=Br(s,"network-request-failed"),c=Fr().setTimeout(()=>{o(l)},eT.get());function x(){Fr().clearTimeout(c),i(a)}a.ping(x).then(x,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oT=500,cT=600,dT="_blank",uT="http://localhost";class vb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xT(s,t,r,a=oT,i=cT){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-a)/2,0).toString();let c="";const x=Object.assign(Object.assign({},lT),{width:a.toString(),height:i.toString(),top:o,left:l}),f=Ts().toLowerCase();r&&(c=B5(f)?dT:r),L5(f)&&(t=t||uT,x.scrollbars="yes");const N=Object.entries(x).reduce((S,[D,g])=>`${S}${D}=${g},`,"");if(T6(f)&&c!=="_self")return mT(t||"",c),new vb(null);const I=window.open(t||"",c,N);nt(I,s,"popup-blocked");try{I.focus()}catch{}return new vb(I)}function mT(s,t){const r=document.createElement("a");r.href=s,r.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="__/auth/handler",pT="emulator/auth/handler",fT=encodeURIComponent("fac");async function Nb(s,t,r,a,i,o){nt(s.config.authDomain,s,"auth-domain-config-required"),nt(s.config.apiKey,s,"invalid-api-key");const l={apiKey:s.config.apiKey,appName:s.name,authType:r,redirectUrl:a,v:qn,eventId:i};if(t instanceof Y5){t.setDefaultLanguage(s.languageCode),l.providerId=t.providerId||"",NI(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[N,I]of Object.entries(o||{}))l[N]=I}if(t instanceof Jo){const N=t.getScopes().filter(I=>I!=="");N.length>0&&(l.scopes=N.join(","))}s.tenantId&&(l.tid=s.tenantId);const c=l;for(const N of Object.keys(c))c[N]===void 0&&delete c[N];const x=await s._getAppCheckToken(),f=x?`#${fT}=${encodeURIComponent(x)}`:"";return`${gT(s)}?${Lo(c).slice(1)}${f}`}function gT({config:s}){return s.emulator?Sp(s,pT):`https://${s.authDomain}/${hT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="webStorageSupport";class yT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=a2,this._completeRedirectFn=U8,this._overrideRedirectResult=V8}async _openPopup(t,r,a,i){var o;pa((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await Nb(t,r,a,ru(),i);return xT(t,l,Ap())}async _openRedirect(t,r,a,i){await this._originValidation(t);const o=await Nb(t,r,a,ru(),i);return v8(o),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:o}=this.eventManagers[r];return i?Promise.resolve(i):(pa(o,"If manager is not set, promise should be"),o)}const a=this.initAndGetManager(t);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(t){const r=await iT(t),a=new q8(t);return r.register("authEvent",i=>(nt(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=r,a}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(am,{type:am},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[am];l!==void 0&&r(!!l),_r(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=K8(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return W5()||V5()||Pp()}}const bT=yT;var wb="@firebase/auth",kb="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NT(s){Er(new mr("auth",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=a.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:a.name});const x={apiKey:l,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G5(s)},f=new O6(a,i,o,x);return H6(f,r),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,a)=>{t.getProvider("auth-internal").initialize()})),Er(new mr("auth-internal",t=>{const r=Hn(t.getProvider("auth").getImmediate());return(a=>new jT(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(wb,kb,vT(s)),Ws(wb,kb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=5*60,kT=fN("authIdTokenMaxAge")||wT;let Cb=null;const CT=s=>async t=>{const r=t&&await t.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>kT)return;const i=r==null?void 0:r.token;Cb!==i&&(Cb=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function u2(s=Du()){const t=dn(s,"auth");if(t.isInitialized())return t.getImmediate();const r=G6(s,{popupRedirectResolver:bT,persistence:[P8,y8,a2]}),a=fN("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(a,location.origin);if(location.origin===o.origin){const l=CT(o.toString());p8(r,l,()=>l(r.currentUser)),h8(r,c=>l(c))}}const i=mN("auth");return i&&Q6(r,`http://${i}`),r}function IT(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}L6({loadJS(s){return new Promise((t,r)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=i=>{const o=Br("internal-error");o.customData=i,r(o)},a.type="text/javascript",a.charset="UTF-8",IT().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NT("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="firebasestorage.googleapis.com",ET="storageBucket",ST=2*60*1e3,_T=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends hr{constructor(t,r,a=0){super(nm(t),`Firebase Storage: ${r} (${nm(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qr.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return nm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wr;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wr||(Wr={}));function nm(s){return"storage/"+s}function PT(){const s="An unknown error occurred, please check the error payload for server response.";return new Qr(Wr.UNKNOWN,s)}function TT(){return new Qr(Wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DT(){return new Qr(Wr.CANCELED,"User canceled the upload/download.")}function AT(s){return new Qr(Wr.INVALID_URL,"Invalid URL '"+s+"'.")}function RT(s){return new Qr(Wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function Ib(s){return new Qr(Wr.INVALID_ARGUMENT,s)}function m2(){return new Qr(Wr.APP_DELETED,"The Firebase app was deleted.")}function MT(s){return new Qr(Wr.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let a;try{a=wr.makeFromUrl(t,r)}catch{return new wr(t,"")}if(a.path==="")return a;throw RT(t)}static makeFromUrl(t,r){let a=null;const i="([A-Za-z0-9.\\-_]+)";function o(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),x={bucket:1,path:3};function f(H){H.path_=decodeURIComponent(H.path)}const N="v[A-Za-z0-9_]+",I=r.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",D=new RegExp(`^https?://${I}/${N}/b/${i}/o${S}`,"i"),g={bucket:1,path:3},L=r===x2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",_=new RegExp(`^https?://${L}/${i}/${v}`,"i"),R=[{regex:c,indices:x,postModify:o},{regex:D,indices:g,postModify:f},{regex:_,indices:{bucket:1,path:2},postModify:f}];for(let H=0;H<R.length;H++){const K=R[H],W=K.regex.exec(t);if(W){const A=W[K.indices.bucket];let d=W[K.indices.path];d||(d=""),a=new wr(A,d),K.postModify(a);break}}if(a==null)throw AT(t);return a}}class zT{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(s,t,r){let a=1,i=null,o=null,l=!1,c=0;function x(){return c===2}let f=!1;function N(...v){f||(f=!0,t.apply(null,v))}function I(v){i=setTimeout(()=>{i=null,s(D,x())},v)}function S(){o&&clearTimeout(o)}function D(v,..._){if(f){S();return}if(v){S(),N.call(null,v,..._);return}if(x()||l){S(),N.call(null,v,..._);return}a<64&&(a*=2);let R;c===1?(c=2,R=0):R=(a+Math.random())*1e3,I(R)}let g=!1;function L(v){g||(g=!0,S(),!f&&(i!==null?(v||(c=2),clearTimeout(i),I(0)):v||(c=1)))}return I(0),o=setTimeout(()=>{l=!0,L(!0)},r),L}function LT(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(s){return s!==void 0}function Eb(s,t,r,a){if(a<t)throw Ib(`Invalid value for '${s}'. Expected ${t} or greater.`);if(a>r)throw Ib(`Invalid value for '${s}'. Expected ${r} or less.`)}function BT(s){const t=encodeURIComponent;let r="?";for(const a in s)if(s.hasOwnProperty(a)){const i=t(a)+"="+t(s[a]);r=r+i+"&"}return r=r.slice(0,-1),r}var cu;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(cu||(cu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(s,t){const r=s>=500&&s<600,i=[408,429].indexOf(s)!==-1,o=t.indexOf(s)!==-1;return r||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(t,r,a,i,o,l,c,x,f,N,I,S=!0){this.url_=t,this.method_=r,this.headers_=a,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=x,this.timeout_=f,this.progressCallback_=N,this.connectionFactory_=I,this.retry=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,g)=>{this.resolve_=D,this.reject_=g,this.start_()})}start_(){const t=(a,i)=>{if(i){a(!1,new Bc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const x=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(x,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===cu.NO_ERROR,x=o.getStatus();if(!c||FT(x,this.additionalRetryCodes_)&&this.retry){const N=o.getErrorCode()===cu.ABORT;a(!1,new Bc(!1,null,N));return}const f=this.successCodes_.indexOf(x)!==-1;a(!0,new Bc(f,o))})},r=(a,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const x=this.callback_(c,c.getResponse());VT(x)?o(x):o()}catch(x){l(x)}else if(c!==null){const x=PT();x.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,x)):l(x)}else if(i.canceled){const x=this.appDelete_?m2():DT();l(x)}else{const x=TT();l(x)}};this.canceled_?r(!1,new Bc(!1,null,!0)):this.backoffId_=OT(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LT(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bc{constructor(t,r,a){this.wasSuccessCode=t,this.connection=r,this.canceled=!!a}}function $T(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function qT(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function WT(s,t){t&&(s["X-Firebase-GMPID"]=t)}function GT(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function HT(s,t,r,a,i,o,l=!0){const c=BT(s.urlParams),x=s.url+c,f=Object.assign({},s.headers);return WT(f,t),$T(f,r),qT(f,o),GT(f,a),new UT(x,s.method,f,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function KT(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,r){this._service=t,r instanceof wr?this._location=r:this._location=wr.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new du(t,r)}get root(){const t=new wr(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KT(this._location.path)}get storage(){return this._service}get parent(){const t=QT(this._location.path);if(t===null)return null;const r=new wr(this._location.bucket,t);return new du(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw MT(t)}}function Sb(s,t){const r=t==null?void 0:t[ET];return r==null?null:wr.makeFromBucketSpec(r,s)}function YT(s,t,r,a={}){s.host=`${t}:${r}`,s._protocol="http";const{mockUserToken:i}=a;i&&(s._overrideAuthToken=typeof i=="string"?i:gN(i,s.app.options.projectId))}class JT{constructor(t,r,a,i,o){this.app=t,this._authProvider=r,this._appCheckProvider=a,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=x2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ST,this._maxUploadRetryTime=_T,this._requests=new Set,i!=null?this._bucket=wr.makeFromBucketSpec(i,this._host):this._bucket=Sb(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wr.makeFromBucketSpec(this._url,t):this._bucket=Sb(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Eb("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Eb("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(Ys(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new du(this,t)}_makeRequest(t,r,a,i,o=!0){if(this._deleted)return new zT(m2());{const l=HT(t,this._appId,a,i,r,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,r){const[a,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,a,i).getPromise()}}const _b="@firebase/storage",Pb="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="storage";function XT(s=Du(),t){s=Vt(s);const a=dn(s,h2).getImmediate({identifier:t}),i=hN("storage");return i&&ZT(a,...i),a}function ZT(s,t,r,a={}){YT(s,t,r,a)}function eD(s,{instanceIdentifier:t}){const r=s.getProvider("app").getImmediate(),a=s.getProvider("auth-internal"),i=s.getProvider("app-check-internal");return new JT(r,a,i,t,qn)}function tD(){Er(new mr(h2,eD,"PUBLIC").setMultipleInstances(!0)),Ws(_b,Pb,""),Ws(_b,Pb,"esm2017")}tD();const sD={apiKey:"AIzaSyDYacL_WIzZUSP-Tjl3794P_jHocMDqN9g",authDomain:"blackkstreaming-55f0e.firebaseapp.com",projectId:"blackkstreaming-55f0e",storageBucket:"blackkstreaming-55f0e.firebasestorage.app",messagingSenderId:"998157647233",appId:"1:998157647233:web:3e5b8128a0275ae4553c80",measurementId:"G-GFM50WNMSP"},rx=kN(sD);eS(rx);const C=XP(rx),Oe=u2(rx);XT(rx);const qe="/assets/logo-e43e9960.png",rD="/assets/brooklyn99-7c1a6c47.png",aD="/assets/stranger-things-31a579dc.png",nD="/assets/breaking-bad-482f4098.png",iD="/assets/naruto-54b60bd0.png",lD="/assets/alice-5ff5523e.png",oD="/assets/netflix-e3c8e0d2.png",cD="/assets/spotify-d09996b4.png",dD="/assets/disney-0c4f0934.png",uD="/assets/max-c00a4c65.png",xD="/assets/prime-video-72b85c51.png",mD="/assets/vix-ee8ed6dc.png",hD="/assets/Canva-e7a7d520.png",pD="/assets/ChatGPT-b8d712b1.png",fD="/assets/crunchyroll-562435fc.png",gD="/assets/redessociales-65298696.png",yD="/assets/dgo-7ac16535.png",bD="/assets/ligamax-7ac6606f.png",jD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPoAAAB4CAYAAADblO/uAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACnFJREFUeNrsnd912zYbh+Gc3FedoPQEVSYINUHUm+bS0gS2JlA8ga0JrF7qyvYElieIMkHYCapvAn+EQEb2sUgR1AsSIJ/nHKU9jkOKIH54/+AFcPby8qIAoNucIXQAhA4ACB0AEDoAIHQAQOgAgNABAKEDAEIHQOgAgNABAKEDAEIHAIQOAAgdABA6ACB0AIQOAAgdABA6AHRX6GdnZ7RiVVZJlP45Tj+D9PM5++k2/fxIPxv1NXqgkeA1UoYYoTcj8En652X6GR75TS36Rfq5TUW/peEAoYchcG29b9JPZPkvk/QzTcW+phEROkL3V+DaNb/L3PRT0GJf0qAIHaH7KfKnCm46YgeEjsjf8CkV+4YGRugIvbsiz2P2TyToEHpdPtCUYtw4ErkmSj9XNDGEadHNvLL+xK9+qq3WJqiMs8mu3zdwp/O0XRK6LRbdf6EbF1dbpwt1fNpJF5AsvBa9eZ6fyhTBuGaZtsWU7o/Q/Rb6KvmmTOGIrSi04KdexqjmmeYN3vF3YnWE7qfQZRJV2mX9y6vsc7PWPGeWtsEtEkDofgl9lQwzkUuIQVuykTdiXyU6BLlp+K5J+vznne7dxks6FLYkCN1HobuxeP6IfZX8VPblrRJ0e159lRzqlKM+lgRLCf2j4+/5pOTdWhMGrJJ2xW4WqkQt3V0nMjeOnitWb2dB6rDeDcgU+XjDR4dCcDmvrMV+n96jzSKSixbf23gXq7tBi/zU5OI86wPbTPSPlPG2ywdHItedxXWBR6SambsuyjvELb63KKtB8J1BNijdpd/3v8wLgs4IvbnpprggceOaSw/e3TiwvjbIBH+f5W4gaKHLxHh2g4qxsE1Z84EnIvscaJ9rqooQHMfo8xaeQ6/9/tTQvSaq2Xnzsli6Scqz3vty5igbhMYl7WQ8sa/RNyQYokVvL3YdZsm/vrjtxhX2KU7Xc9x6INBJN1Omq+f6b0vbERc+WNe9zUz0VRY2uHTbY9XelNrhAc5X9GzI10jPDExLYnZW5AUq9EnLz+Paql949v6G3vcwM61WtLvtFyQYmtCNtRu03vFdZeGNmznx7P2FkpC7LnlfuO+BWXRfRmdXWfiJh+8vDJGYCrkkWK+kA0hm3WOPnku78CPha156+P5CEokWetToYPU2ZzPI2stsbJJ/p54slPko1KADzzpdvKvCkiq79C8J9/q7RYF01ucCYzAsieFt39GX7HrDygNI3TLdw/UiSe0+V3Q9vWrPI4vuo2W5SRvvQagWXjoJpzvWIvtvXoAzr2ndohK3uE9okdTJ4uftP077i34Hs4pHY8Xqfc3I+gRhSl/PSYwee/ji80MUTreYsvG57kijXWcyU1BJtpHEuXK1Ig1sBs37lsqqnSIldF+zv2OBhRSSIp8W7g5jPI86K9LiQPpaUR/xcXCbZxt+EqMfGAl9Rbvwm1pro401nwuKvNwN05Vlq2QdkHhtPaxDSC4zXqv96bTbkkEkP812XNJ373bvoiP78/VB6KdsVCG1+GJpkaR57JzQy5O1Mhbdvm7+YedBFW8Hlsfuyy68gg8CLzGETpmLfVy5Y66SOyWTZEwsXfIuxulXhW3TtsU0oVTR++lM5V6fTmrJd6W5K63GMgPXk2Bsfm3ZmW07vt/VcaatL0usavsYsScH/qYzxTwSrntojTHZffTUm5nbzS1orPbzsHIxo+28qg4vVkmXXPayfQP/8ejbPhzwPCKE/tZShshYud9A4lr1kf3mHDcl/WPt2eaR/3b5lXxU4IpNx7YnvqiQj/kt84iO/Z4OT6bevS+EDjVYdOx5JoLXmnJYZH+Ens9z+lYnL/NsbG9cbMmrlZhKhxPHvIwhQpdHi2D2KxttXsJ9wPH+oeer2yG72uHevnO3otb5gc8VwwgsuiOSd0f/moowvaz0qSNiP8Vtt31+n2PLtTIFQA+NuOqm3FlXMkZIu32hHxaBmVbShQt3gbfppuH4838N3WdmMag0u87bZPlvlJ+bg/RW6MWdRce1q0TPZYe8oODUJJyvHo3Pswh3Fn1mXdLuQ4Qux7EYbZbFVaG68KcmmobC7dltjLs+LjEqi2yQ2hy5TpyFjghdKEYs75ja5VslC9XOQRCni7z52u2+r2GfFxqMoiXBPUSi1t22Y0dHf8OsREoCbM9HgWv8SbesbM2HBf1picjlhe5KkLMA21NiftguZOlW9Z0tRS77NdKWFrp9djWueF0tmnVQIpdx222EvqULi/RJKaLuCt1gI0gb1zQkq/4odB2bZBx7zPlF54WeOOnIJlO67JHb7kvYBPXzBlGXhf7DatSza4xZAC7qpqWdUn70XFbbArGNG3nnh5l0Wei2LmRc+TeNgHxfCdbWBgp9d92LQsY6U7ORUNtfWq9XMAPTF/+Fbp/5/WJ5/W+eu6ltuO3bnmfcy85004c33h/1HM3egHq3oe/KtvTaJPwOiT3fn/Bb4ZZl5r7jbFuzn8os6HJalSdZGbe2sNRxjevPlNyurNJueyIq4GqZ9wcFmusCkeanrzxkIc7m1yBgNsiIBcS1KLj3IPMq5rutxt+GGNWPi/LQdbd1IwfWu8f6O90m/Z0eKg4GzBWbfrE88g7y467us4/+/ysRC3r83rmw41efVkq7JYX+7NR931v1rsfni0rtwA4tr/lLIF+xqeklSdx7qxznW+SEbr9ryLjGPXybbkvENzg01yvbT23K7jXv2kznKz5lXs62hsCn2b9/rnVvc0T3bc3BRb9rfe7eo8smkl69ZhOnR7vspL1QZtkg4cPqtoWjjquX62qLfaH22WCzEsu9JS9yR5vM8I9q3V8nbVeJFtxEmR1mDrnKufV8VO93ol3Wes783DyzGOv1vd8bBnP953f3drzF99nLy8tpFzg7U6++bNHxNmUuqP1IaH8fF2x3I3FHzuaCljEnuL47Nvnl7z9GvsXoqkaMU+/ccTM4tD2HvEDkEAqyQi+eWyxiWHo8Ujlt7gu+rRmTARTxRzhCN9hmoeuVK5r4pq0pphnWHISJQhO6rfte/5BAUzHXdOHIkqw3NCT0xF+h27vv8Yl3nDYYr29UmBtigM+YUt1DQv/XX6EbbKadTnNZ9vOY6wZEPsJlBwdMCn4u1qdlp9f2I5ROsOli/aqJtpHIAo1Voqfcrhy8iNv0+2HJwYU11yWy3w/8jS4C+v1Ufbq16MbqNR/HGjGOBGObdTYIIXKQFvggmzt/EvCKW7Lo+7jje0Wrfi5e8WX2+76okQPQg5RO8P3T+2WgUNerzBfMHCqprXK09K9iLCmL7k7o5qGrVLDpevFzx4kO3ah/quIVS89Z467Fa9ehj0I/JXzcZl7krh+GIXTz4E9HRi822ocuCV2743MJkUsK/UMDj66X8RUJ+RaRQ8eoG4IuM3fdiUfp3qK/d6GjX3Ewa6qhexZd9+/LLEyMVPH08UbtV7IVngngjesOAP6D0AEQOgAgdABA6ACA0AEAoQMAQgcAhA4ACB0AoQMAQgcAhA4ACB0AEDoAIHQAQOgAgNABEDoAIHQAQOgAgNABAKEDAEIHAIQOAAgdAKEjdIDu838BBgAP9Pzi++BqOAAAAABJRU5ErkJggg==",vD="/assets/youtube-49ca55e1.png",ND="/assets/deezer-17be4fc1.png",wD="/assets/tidal-d3f361cb.png",kD="/assets/vpn-62bcb4e7.png",CD="/assets/wintv-4112ccf1.png",ID="/assets/applemusic-67f0cc24.png",ED="/assets/appletv-e2fd6c55.png",SD="/assets/iptv-a55016d0.png",_D="/assets/flujotv-4d1c58b0.png",PD="/assets/vikirakuten-116faf85.png",TD="/assets/pornhub-46f32d0d.png",DD="/assets/paramount-5ab87b8f.png",AD="/assets/licencias-80ba80ab.png",RD="/assets/capcut-bc65a6c0.png",MD="/assets/duolingo-4d803f89.png",zD="/assets/buscapersonas-88e00efa.png",nr=[{src:rD,title:"Brooklyn Nine-Nine"},{src:aD,title:"Stranger Things"},{src:nD,title:"Breaking Bad"},{src:iD,title:"Naruto"},{src:lD,title:"Alice in Borderland"}],OD=[{name:"Netflix",logo:oD,route:"/netflix",color:"#E50914"},{name:"Spotify",logo:cD,route:"/spotify",color:"#1DB954"},{name:"Disney+",logo:dD,route:"/disney",color:"#1C4ED8"},{name:"Max",logo:uD,route:"/max",color:"#B5179E"},{name:"Prime Video",logo:xD,route:"/primevideo",color:"#00A8E1"},{name:"Vix",logo:mD,route:"/vix",color:"#FF5733"},{name:"Canva",logo:hD,route:"/canva",color:"#00C4B4"},{name:"ChatGPT",logo:pD,route:"/chatgpt",color:"#10A37F"},{name:"Crunchyroll",logo:fD,route:"/crunchyroll",color:"#F47521"},{name:"Redes Sociales",logo:gD,route:"/redessociales",color:"#3B5998"},{name:"Dgo",logo:yD,route:"/dgo",color:"#4CAF50"},{name:"Liga Max",logo:bD,route:"/ligamax",color:"#FFD700"},{name:"Movistar Play",logo:jD,route:"/movistarplay",color:"#00ADEF"},{name:"Youtube",logo:vD,route:"/youtube",color:"#FF0000"},{name:"Deezer",logo:ND,route:"/deezer",color:"#FEAA2D"},{name:"Tidal",logo:wD,route:"/tidal",color:"#00C7B7"},{name:"Vpn",logo:kD,route:"/vpn",color:"#4B0082"},{name:"Win Tv",logo:CD,route:"/wintv",color:"#4682B4"},{name:"Apple Music",logo:ID,route:"/applemusic",color:"#FA2C43"},{name:"Apple Tv",logo:ED,route:"/appletv",color:"#A3AAAE"},{name:"Iptv",logo:SD,route:"/iptv",color:"#8B008B"},{name:"Flujo Tv",logo:_D,route:"/flujotv",color:"#20B2AA"},{name:"Viki Rakuten",logo:PD,route:"/vikirakuten",color:"#D81B60"},{name:"Pornhub",logo:TD,route:"/pornhub",color:"#FFA500"},{name:"Paramount",logo:DD,route:"/paramount",color:"#0064D2"},{name:"Licencias",logo:AD,route:"/licencias",color:"#708090"},{name:"Capcut",logo:RD,route:"/capcut",color:"#00CED1"},{name:"Duolingo",logo:MD,route:"/duolingo",color:"#58CC02"},{name:"Busca Personas",logo:zD,route:"/buscapersonas",color:"#6A5ACD"}],LD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(0),[i,o]=j.useState(null),[l,c]=j.useState(0),[x,f]=j.useState("user"),[N,I]=j.useState(""),S=ut();j.useEffect(()=>{const v=setInterval(()=>{a(_=>(_+1)%nr.length)},5e3);return()=>clearInterval(v)},[]),j.useEffect(()=>{(async()=>{if(Oe.currentUser)try{const _=Z(C,"users"),z=pe(_,fe("email","==",Oe.currentUser.email)),R=await dt(z);if(!R.empty){const H=R.docs[0].data();o({name:H.username||"Usuario",email:Oe.currentUser.email}),c(H.balance||0),f(H.role||"user")}}catch(_){console.error("Error loading user data:",_)}})()},[Oe.currentUser]);const D=()=>{Oe.signOut().then(()=>{o(null),S("/login")}).catch(v=>{console.error("Logout error:",v)})},g=()=>{x==="user"?S("/dashboard/user"):x==="affiliate"?S("/dashboard/affiliate"):x==="provider"?S("/dashboard/provider"):x==="admin"&&S("/dashboard/admin")},L=v=>{v.preventDefault(),N.trim()&&S(`/search?q=${encodeURIComponent(N)}`)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar películas, series...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:N,onChange:v=>I(v.target.value)}),e.jsx("button",{onClick:L,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(_0,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:i?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:["👤 ",i.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",l.toFixed(2)]}),e.jsx("button",{onClick:g,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Bg,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:D,className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(Fg,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>S("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>S("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]}),s&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"flex flex-col space-y-2 p-4",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2",children:[e.jsxs("span",{className:"font-medium",children:["👤 ",i.name]}),e.jsxs("span",{className:"font-medium",children:["S/ ",l.toFixed(2)]})]}),e.jsxs("button",{onClick:g,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2",children:[e.jsx(Bg,{className:"text-cyan-400"}),e.jsx("span",{children:"Dashboard"})]}),e.jsxs("button",{onClick:D,className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors flex items-center space-x-2 text-red-400",children:[e.jsx(Fg,{}),e.jsx("span",{children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>S("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>S("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})})]})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),e.jsxs("main",{className:"flex-grow",children:[e.jsx("section",{className:"py-6 px-4 text-center",children:e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white",children:"Tus plataformas favoritas al instante"})}),e.jsxs("section",{className:"relative flex justify-center items-center space-x-4 mt-6 px-4 sm:px-6",children:[e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:nr[(r-1+nr.length)%nr.length].src,alt:"Previous show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-xl border border-gray-700/50",children:[e.jsx("img",{src:nr[r].src,alt:"Featured show",className:"w-48 h-64 sm:w-64 sm:h-80 object-cover transition-all duration-700 scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/80 to-transparent"}),e.jsx("h2",{className:"absolute bottom-0 w-full text-center text-base sm:text-lg font-bold text-white py-3 drop-shadow-lg",children:nr[r].title})]}),e.jsx("div",{className:"hidden sm:block w-40 h-56 rounded-2xl overflow-hidden shadow-lg",children:e.jsx("img",{src:nr[(r+1)%nr.length].src,alt:"Next show",className:"w-full h-full object-cover opacity-50 transition-all duration-500 scale-95"})}),e.jsx("button",{onClick:()=>a(v=>(v-1+nr.length)%nr.length),className:"absolute left-4 sm:left-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(JC,{})}),e.jsx("button",{onClick:()=>a(v=>(v+1)%nr.length),className:"absolute right-4 sm:right-6 text-2xl sm:text-3xl bg-gray-900/80 backdrop-blur-sm hover:bg-gray-700/80 px-3 py-2 sm:px-4 sm:py-2 rounded-full transition-all border border-gray-700/50",children:e.jsx(XC,{})})]}),e.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:nr.map((v,_)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${_===r?"bg-cyan-400":"bg-gray-600"} transition-all duration-300`},_))}),e.jsxs("section",{className:"py-12 container mx-auto px-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Plataformas de Streaming"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto",children:"Acceso a todas tus plataformas favoritas en un solo lugar"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-8 sm:gap-10",children:OD.map((v,_)=>e.jsxs(h,{to:v.route,className:"group relative overflow-hidden rounded-2xl bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 p-4 flex flex-col items-center shadow-xl",style:{border:`2px solid ${v.color}`,backgroundColor:`${v.color}10`},children:[e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 mb-4 flex items-center justify-center",children:e.jsx("img",{src:v.logo,alt:v.name,className:"max-h-full max-w-full object-contain group-hover:scale-105 transition-transform duration-300"})}),e.jsx("span",{className:"font-medium text-center text-gray-200",children:v.name})]},_))})]}),!i&&e.jsx("section",{className:"py-12 bg-gradient-to-r from-gray-900/80 to-blue-950/80",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"¿Listo para adquirir?"}),e.jsx("p",{className:"text-gray-300 max-w-2xl mx-auto mb-6",children:"Únete a miles de usuarios satisfechos accediendo a todas tus plataformas favoritas en un solo lugar."}),e.jsx("button",{onClick:()=>S("/register"),className:"px-6 py-3 rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-all duration-300 font-medium text-white",children:"Regístrate - Gratis por tiempo limitado"})]})})]}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},VD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(null),[l,c]=j.useState(!1),x=ut(),f=async N=>{N.preventDefault(),o(null);try{const I=Z(C,"users"),S=pe(I,fe("username","==",s)),D=await dt(S);if(D.empty){o("Nombre de usuario no encontrado.");return}const v=D.docs[0].data().email,z=(await d8(Oe,v,r)).user;x("/")}catch{o("Usuario o contraseña incorrectos.")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>c(!l),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),l&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>c(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>x("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>x("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>c(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Bienvenido de nuevo. Inicia sesión para continuar."}),i&&e.jsxs("div",{className:"mb-4 p-3 bg-red-900/80 border-l-4 border-red-500 rounded-xl flex items-center",children:[e.jsx(lt,{className:"mr-2 text-red-400"}),e.jsx("span",{className:"text-red-300",children:i})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Tu nombre de usuario",value:s,onChange:N=>t(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(oN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",placeholder:"••••••••",value:r,onChange:N=>a(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",required:!0})]})]}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Iniciar Sesión"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/register",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(lN,{className:"mr-1"})," ¿No tienes una cuenta? Regístrate"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},BD=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl max-w-sm w-full border transform transition-all duration-300 ${r==="success"?"border-green-500 scale-100":"border-red-500 scale-100"}`,children:[e.jsxs("div",{className:"flex items-center mb-4",children:[r==="success"?e.jsx(zi,{className:"text-green-400 text-2xl mr-2"}):e.jsx(lt,{className:"text-red-400 text-2xl mr-2"}),e.jsx("h3",{className:`text-lg font-bold ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"Éxito":"Error"})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-xl font-medium transition-all duration-300 ${r==="success"?"bg-green-600 hover:bg-green-700 text-white":"bg-red-600 hover:bg-red-700 text-white"}`,children:"Cerrar"})]})}):null,FD=()=>{const[s,t]=j.useState(""),[r,a]=j.useState(""),[i,o]=j.useState(""),[l,c]=j.useState("user"),[x,f]=j.useState(""),[N,I]=j.useState(!1),[S,D]=j.useState({isOpen:!1,message:"",type:"success"}),[g,L]=j.useState(!1),v=ut(),_=async z=>{z.preventDefault(),D({isOpen:!1,message:"",type:"success"}),I(!0);try{if(!s||s.length<3)throw new Error("El nombre de usuario debe tener al menos 3 caracteres.");if(!r||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))throw new Error("Por favor, ingresa un correo electrónico válido.");if(!i||i.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres.");if(!["user","affiliate","provider"].includes(l))throw new Error("Rol no válido.");await or($(C,"pendingRegistrations",r),{username:s,email:r,password:i,role:l,status:"pending",referrerCode:x||null,createdAt:new Date().toISOString()}),D({isOpen:!0,message:"Tu solicitud de registro ha sido enviada y está pendiente de aprobación.",type:"success"}),setTimeout(()=>{v("/login")},2e3)}catch(R){console.error("Error al registrar la solicitud:",R.message),D({isOpen:!0,message:R.message||"Error al enviar la solicitud de registro. Por favor, inténtalo de nuevo.",type:"error"})}finally{I(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:[e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>L(!g),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(S0,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:[e.jsx("button",{onClick:()=>v("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:textcyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>v("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})]}),g&&e.jsx("div",{className:"fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform translate-x-0 transition-transform duration-300 ease-in-out z-50 md:hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>L(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"flex flex-col space-y-2 p-4",children:[e.jsx("button",{onClick:()=>v("/login"),className:"px-3 py-2 text-left rounded-xl hover:bg-gray-700/50 transition-colors",children:"Ingresar"}),e.jsx("button",{onClick:()=>v("/register"),className:"px-3 py-2 text-left rounded-xl bg-cyan-500 hover:bg-cyan-600 transition-colors",children:"Registrarse"})]})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>L(!1)})]}),e.jsx("main",{className:"flex-grow flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-md rounded-2xl shadow-xl p-8 w-full max-w-md border border-gray-700/50",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:["Black",e.jsx("span",{className:"text-cyan-400",children:"Streaming"})]}),e.jsx("p",{className:"text-sm text-center text-gray-400 mb-6",children:"Regístrate para acceder al sistema."}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de Usuario"}),e.jsxs("div",{className:"relative",children:[e.jsx(Be,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"text",value:s,onChange:z=>t(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige un nombre de usuario",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo Electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx(tI,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"email",value:r,onChange:z=>a(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Tu correo electrónico",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(oN,{className:"absolute top-3 left-3 text-gray-400"}),e.jsx("input",{type:"password",value:i,onChange:z=>o(z.target.value),className:"w-full pl-10 pr-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Elige una contraseña",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Rol"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:z=>c(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all appearance-none",children:[e.jsx("option",{value:"user",children:"Usuario"}),e.jsx("option",{value:"affiliate",children:"Afiliado"}),e.jsx("option",{value:"provider",children:"Proveedor"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Código de Referido (opcional)"}),e.jsx("input",{type:"text",value:x,onChange:z=>f(z.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 border border-gray-600/50 text-white focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ingresa un código de referido (si tienes)"})]}),e.jsx("button",{type:"submit",disabled:N,className:`w-full py-3 rounded-xl font-medium transition-all duration-300 ${N?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:N?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white mr-2",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]}),"Registrando..."]}):"Registrarse"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(h,{to:"/login",className:"text-gray-400 hover:text-cyan-400 flex items-center justify-center transition-all",children:[e.jsx(lN,{className:"mr-1"})," ¿Ya tienes una cuenta? Inicia sesión"]})})]})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})}),e.jsx(BD,{isOpen:S.isOpen,message:S.message,type:S.type,onClose:()=>D({isOpen:!1,message:"",type:"success"})})]})},UD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState(""),[i,o]=j.useState([]),[l,c]=j.useState(""),[x,f]=j.useState(""),[N,I]=j.useState(0),[S,D]=j.useState(null),[g,L]=j.useState("inicio"),[v,_]=j.useState([]),[z,R]=j.useState({}),[H,K]=j.useState(!0),[W,A]=j.useState(null),[d,q]=j.useState({show:!1,message:"",title:""}),[B,X]=j.useState(""),E=ut(),U=(Q,se)=>{q({show:!0,title:Q,message:se})},Ae=()=>{q({show:!1,message:"",title:""})};j.useEffect(()=>{(async()=>{try{const se=pe(Z(C,"products")),n=await dt(se),y={};n.forEach(m=>{y[m.id]=m.data()}),R(y)}catch(se){console.error("Error fetching products:",se),A("Error al cargar productos")}})()},[]);const Se=async Q=>{var se,n,y,m,P,F,te;try{K(!0),A(null);const w=parseFloat(Q.price)||0;if(N<w){A("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const V=parseInt(Q.durationDays)||30,M=Zt.now(),b=M.toDate(),p=new Date(b.getTime()+V*24*60*60*1e3),O=p.toISOString(),Y={customerId:S,customerName:((se=Q.client)==null?void 0:se.customerName)||"Cliente desconocido",customerEmail:((n=Q.client)==null?void 0:n.email)||x,phoneNumber:((y=Q.client)==null?void 0:y.phone)||"No especificado",productName:Q.productName||"Producto sin nombre",type:Q.category||"netflix",price:w,accountDetails:{email:((m=Q.account)==null?void 0:m.email)||"No especificado",password:((P=Q.account)==null?void 0:P.password)||"No especificado",profile:((F=Q.account)==null?void 0:F.profile)||"No especificado",pin:((te=Q.account)==null?void 0:te.pin)||"No especificado"},provider:Q.provider||"Proveedor desconocido",providerId:Q.providerId||"",providerPhone:Q.providerPhone||Q.providerWhatsapp||"51999999999",status:"completed",createdAt:M,saleDate:M,startDate:M,endDate:O,durationDays:V,renewedAt:M,renewable:Q.renewable!==void 0?Q.renewable:!0},J=await En(Z(C,"sales"),Y),ie=$(C,"users",S);await Es(ie,{balance:N-w}),I(ee=>ee-w),_(ee=>[...ee,{...Y,id:J.id,saleDate:b,startDate:b,endDate:p,account:Y.accountDetails,client:{customerName:Y.customerName,email:Y.customerEmail,phone:Y.phoneNumber},orderId:`BS-${J.id.slice(0,8).toUpperCase()}`,renewable:Y.renewable}]),U("Éxito","¡Pedido renovado exitosamente!")}catch(w){console.error("Error al renovar el pedido:",w),A("Error al renovar el pedido: "+w.message)}finally{K(!1)}},Te=async()=>{try{await _o(Oe),E("/")}catch(Q){console.error("Error al cerrar sesión:",Q),A("Error al cerrar sesión")}};j.useEffect(()=>{const Q=vt(Oe,se=>{se?(D(se.uid),f(se.email||"No especificado"),K(!1)):E("/login")});return()=>Q()},[E]),j.useEffect(()=>{if(!S)return;(async()=>{try{const se=$(C,"users",S);return we(se,y=>{if(y.exists()){const m=y.data();c(m.username||"Usuario"),f(m.email||"No especificado"),I(Number(m.balance)||0)}else A("Usuario no encontrado")})}catch(se){console.error("Error al obtener datos del usuario:",se),A("Error al cargar datos del usuario")}})()},[S]),j.useEffect(()=>{if(!S)return;(()=>{const se=pe(Z(C,"sales"),fe("customerId","==",S)),n=we(se,m=>{if(m.empty){_([]),K(!1);return}const P=m.docs.map(F=>{var ke,Re,ye,Ie,Pt,ls,rs,pr,Ds,Tt,Pr;const te=F.data(),V=((Re=(ke=te.saleDate)==null?void 0:ke.toDate)==null?void 0:Re.call(ke))||((Ie=(ye=te.createdAt)==null?void 0:ye.toDate)==null?void 0:Ie.call(ye))||new Date;let M=(ls=(Pt=te.startDate)==null?void 0:Pt.toDate)==null?void 0:ls.call(Pt),b=M||V,p=!1;M||(p=!0);const O=te.durationDays||30;let Y;te.endDate?Y=new Date(te.endDate):(Y=new Date(b.getTime()+O*24*60*60*1e3),p=!0),p&&Es($(C,"sales",F.id),{startDate:M||Zt.fromDate(V),endDate:Y.toISOString(),durationDays:O}).catch(fr=>{console.error("Error al actualizar startDate/endDate en Firestore:",fr)});const J=new Date,ie=Y.getTime()-b.getTime(),ee=J.getTime()-b.getTime(),ae=Y.getTime()-J.getTime(),ce=Math.ceil(ie/(1e3*60*60*24)),ue=Math.max(0,Math.ceil(ae/(1e3*60*60*24))),be=Math.ceil(ee/(1e3*60*60*24)),xe=ce>0?be/ce*100:100,ze=((rs=z[te.providerId])==null?void 0:rs.terms)||"No se especificaron términos y condiciones.";return{id:F.id,productName:te.productName||"Producto sin nombre",category:te.type||"netflix",price:parseFloat(te.price)||0,provider:te.provider||"No especificado",providerId:te.providerId||"",providerPhone:te.providerPhone||te.providerWhatsapp||"51999999999",providerWhatsapp:te.providerPhone||te.providerWhatsapp||"51999999999",status:te.status||"completed",saleDate:V,startDate:b,endDate:Y,durationDays:O,daysRemaining:ue,totalDays:ce,timeElapsedPercentage:xe,account:{email:((pr=te.accountDetails)==null?void 0:pr.email)||"No especificado",password:((Ds=te.accountDetails)==null?void 0:Ds.password)||"No especificado",profile:((Tt=te.accountDetails)==null?void 0:Tt.profile)||"No especificado",pin:((Pr=te.accountDetails)==null?void 0:Pr.pin)||"No especificado"},client:{customerName:te.customerName||"Cliente desconocido",email:te.customerEmail||"No especificado",phone:te.phoneNumber||"No especificado"},paymentMethod:"BlackStreaming",orderId:`BS-${F.id.slice(0,8).toUpperCase()}`,termsAndConditions:ze,renewable:te.renewable!==void 0?te.renewable:!0}});_(P),K(!1)},m=>{console.error("Error al obtener pedidos:",m),A("Error al cargar pedidos: "+m.message),K(!1)}),y=setInterval(()=>{_(m=>m.map(P=>{const F=new Date,te=new Date(P.endDate).getTime()-new Date(P.startDate).getTime(),w=F.getTime()-new Date(P.startDate).getTime(),V=new Date(P.endDate).getTime()-F.getTime(),M=Math.ceil(te/(1e3*60*60*24)),b=Math.max(0,Math.ceil(V/(1e3*60*60*24))),p=Math.ceil(w/(1e3*60*60*24)),O=M>0?p/M*100:100;return{...P,daysRemaining:b,totalDays:M,timeElapsedPercentage:O}}))},6e4);return()=>{n(),clearInterval(y)}})()},[S,z]),j.useEffect(()=>{if(!S)return;(()=>{const se=pe(Z(C,"pendingTopUps"),fe("userId","==",S));return we(se,y=>{const m=y.docs.map(P=>{var F,te;return{id:P.id,...P.data(),date:((te=(F=P.data().requestedAt)==null?void 0:F.toDate)==null?void 0:te.call(F))||new Date,amount:parseFloat(P.data().amount)||0}});o(m)},y=>{console.error("Error al obtener recargas:",y),A("Error al cargar recargas")})})()},[S]);const Le=async()=>{try{if(!r||isNaN(r)){A("Ingrese un monto válido");return}const Q=parseFloat(r);if(Q<10){A("El monto mínimo de recarga es S/ 10.00");return}await En(Z(C,"pendingTopUps"),{userId:S,username:l,amount:Q,status:"pendiente",requestedAt:Dt()}),a(""),U("Éxito","Solicitud de recarga enviada correctamente")}catch(Q){console.error("Error al solicitar recarga:",Q),A("Error al enviar solicitud de recarga")}},de=Q=>{if(!Q)return"No especificada";try{const se=Q instanceof Date?Q:new Date(Q);return isNaN(se.getTime())?"Fecha inválida":se.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(se){return console.error("Error formatting date:",se),"Fecha inválida"}},ge=async()=>{try{if(!B){A("Por favor, ingrese una nueva contraseña");return}const Q=Oe.currentUser;Q&&(await e2(Q,B),X(""),U("Éxito","Contraseña actualizada correctamente"))}catch(Q){console.error("Error al actualizar la contraseña:",Q),A("Error al actualizar la contraseña: "+Q.message)}},me=()=>{if(H)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(W)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:W}),e.jsx("button",{onClick:()=>A(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(g){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:l})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Mr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:x})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",N.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Pedidos activos"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:v.filter(Q=>new Date(Q.endDate)>new Date&&Q.status==="completed").length})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Pedidos recientes"}),v.slice(0,3).map((Q,se)=>{const n=new Date(Q.endDate)>new Date&&Q.status==="completed",y=Q.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Q.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${y?"bg-yellow-900/80 text-yellow-400":n?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:y?"A pedido":n?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",de(Q.endDate)]})]},se)}),v.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),v.length>3&&e.jsx("button",{onClick:()=>L("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"recargar":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:r,onChange:Q=>a(Q.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:Le,disabled:!r||parseFloat(r)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${r&&parseFloat(r)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50 max-w-md mx-auto",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ds,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:`https://wa.me/51940505969?text=${encodeURIComponent("Hola 😊, he realizado una recarga a través de Yape. Por favor, confirma mi pago.")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(Mr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:i.map((Q,se)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",Q.amount.toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Q.status==="aprobado"?"bg-green-900/80 text-green-400":Q.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:Q.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:de(Q.date)})]},se))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),v.length>0?e.jsx("div",{className:"space-y-6",children:v.map((Q,se)=>{var p,O,Y,J,ie,ee,ae,ce,ue,be,xe,ze;const n=parseFloat(Q.price)||0,y=new Date(Q.endDate)>new Date&&Q.status==="completed",m=Q.status==="pending",P=Q.daysRemaining||0,F=Q.timeElapsedPercentage||0;let te="text-green-400";F>70&&F<=90?te="text-yellow-400":F>90&&(te="text-red-400");const w=m?e.jsx(Ct,{className:"text-yellow-400"}):y?e.jsx(zi,{className:"text-green-400"}):e.jsx(lt,{className:"text-red-400"}),V=encodeURIComponent(`*Consulta sobre Pedido - ${Q.productName||"Sin nombre"}*

*N° Pedido:* ${Q.orderId||"No especificado"}
*Producto:* ${Q.productName||"No especificado"}
*Precio:* S/ ${n.toFixed(2)}
*Estado:* ${m?"A pedido":y?"Activo":"Expirado"}
*Fecha de Inicio:* ${de(Q.startDate)}
*Fecha de Vencimiento:* ${de(Q.endDate)}

`+(m?`Hola 😊, he comprado un producto a pedido (${Q.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),M=encodeURIComponent(`😊 Estimado/a ${((p=Q.client)==null?void 0:p.customerName)||"Cliente"} 😊

Le enviamos la información de su suscripción a nuestro servicio de streaming:
📌 Tipo: ${Q.productName||"Sin nombre"}.
🔢 Código: ${Q.orderId||"No especificado"}
`+(m?"":`📧 Correo: ${((O=Q.account)==null?void 0:O.email)||"No especificado"}
🔐 Contraseña: ${((Y=Q.account)==null?void 0:Y.password)||"No especificado"}
👤 Perfil: ${((J=Q.account)==null?void 0:J.profile)||"No especificado"}
📌 PIN: ${((ie=Q.account)==null?void 0:ie.pin)||"No especificado"}
`)+`🌐 URL: Sin URL
📅 Fecha de creación: ${de(Q.startDate)}
📅 Fecha de vencimiento: ${de(Q.endDate)}
🏁 Días contratados: ${Q.durationDays||30} días.

`+(m?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:"")+`*Términos y Condiciones:*
${Q.termsAndConditions||"No se especificaron términos y condiciones."}

Muchas gracias por su preferencia.
Atentamente, BLACKSTREAMING`),b=Q.providerPhone?Q.providerPhone.replace(/^\+51/,"").replace(/\D/g,""):"51999999999";return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[w,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:Q.productName||"Producto sin nombre"}),Q.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",Q.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",n.toFixed(2)]}),e.jsx("p",{className:`text-xs font-medium ${m?"text-yellow-400":te}`,children:m?"Pendiente de activación":`${P} día${P===1?"":"s"} restante${P===1?"":"s"}`})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Usuario:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:"Por completar"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((ee=Q.account)==null?void 0:ee.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((ae=Q.account)==null?void 0:ae.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((ce=Q.account)==null?void 0:ce.profile)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:((ue=Q.account)==null?void 0:ue.pin)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(We,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:Q.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:Q.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${m?"bg-yellow-900/80 text-yellow-400":y?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:m?"A pedido":y?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:"BlackStreaming"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:de(Q.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:de(Q.endDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Días restantes:"}),e.jsx("span",{className:`block ${te}`,children:P})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((be=Q.client)==null?void 0:be.customerName)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((xe=Q.client)==null?void 0:xe.phone)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/51${b}?text=${V}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Mr,{size:18})," Contactar Proveedor"]}),Q.renewable&&e.jsxs("button",{onClick:()=>Se(Q),disabled:H,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${H?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(cN,{size:18})," Renovar Pedido"]}),((ze=Q.client)==null?void 0:ze.phone)&&e.jsxs("a",{href:`https://wa.me/${Q.client.phone.replace(/^\+/,"")}?text=${M}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Mr,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},se)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:l,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:x,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-gray-400 border border-gray-600/50 cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cambiar contraseña"}),e.jsx("input",{type:"password",value:B,onChange:Q=>X(Q.target.value),placeholder:"Nueva contraseña",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsx("button",{onClick:ge,disabled:!B,className:`w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium mt-4 transition-all duration-300 ${B?"":"opacity-50 cursor-not-allowed"}`,children:"Guardar cambios"})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:Te,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(gt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>L("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(wt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:l.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:l}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:x})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{L("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${g==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(_u,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{L("recargar"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${g==="recargar"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ds,{})," ",e.jsx("span",{children:"Recargar saldo"})]}),e.jsxs("button",{onClick:()=>{L("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${g==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(mt,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{L("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${g==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(go,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:Te,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(gt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:me()}),d.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:d.title}),e.jsx("button",{onClick:Ae,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:d.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},$D=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,c]=j.useState(""),[x,f]=j.useState(""),[N,I]=j.useState(""),[S,D]=j.useState(""),[g,L]=j.useState(""),[v,_]=j.useState([]),[z,R]=j.useState(0),[H,K]=j.useState(0),[W,A]=j.useState(null),[d,q]=j.useState(!0),[B,X]=j.useState(null),[E,U]=j.useState([]),[Ae,Se]=j.useState(!1),[Te,Le]=j.useState(""),[de,ge]=j.useState(""),[me,Q]=j.useState([]),[se,n]=j.useState([]),[y,m]=j.useState(""),[P,F]=j.useState(""),[te,w]=j.useState({show:!1,message:"",title:""}),V=ut(),M=(ce,ue)=>{w({show:!0,title:ce,message:ue})},b=()=>{w({show:!1,message:"",title:""})};j.useEffect(()=>{const ce=vt(Oe,ue=>{ue?(A(ue.uid),c(ue.email||""),f(ue.email||""),q(!1)):V("/login")});return()=>ce()},[V]),j.useEffect(()=>{(async()=>{if(W)try{const ue=$(C,"users",W),be=await Ue(ue);if(be.exists()){const ke=be.data();if(o(ke.username||"Usuario"),K(Number(ke.balance)||0),ke.orders){const Re=ke.orders.map(ye=>{var Ie,Pt,ls,rs;return{...ye,startDate:((Pt=(Ie=ye.startDate)==null?void 0:Ie.toDate)==null?void 0:Pt.call(Ie))||new Date,endDate:((rs=(ls=ye.endDate)==null?void 0:ls.toDate)==null?void 0:rs.call(ls))||new Date(Date.now()+2592e6)}});n(Re)}}const xe=$(C,"affiliates",W),ze=await Ue(xe);if(ze.exists()){const ke=ze.data();L(ke.affiliateCode||""),R(Number(ke.earnings)||0)}else{const ke=`AFF-${Math.random().toString(36).substring(2,8).toUpperCase()}`;await or(xe,{username:i||"Nuevo Afiliado",email:l,affiliateCode:ke,earnings:0,createdAt:Dt(),updatedAt:Dt()}),L(ke)}}catch(ue){console.error("Error al manejar datos:",ue),X("Error al cargar datos")}finally{q(!1)}})()},[W,l,i]),j.useEffect(()=>{if(!W)return;const ce=Z(C,"pendingTopUps"),ue=pe(ce,fe("userId","==",W)),be=we(ue,async xe=>{const ze=xe.docs.map(ke=>{var Re;return{id:ke.id,...ke.data(),date:((Re=ke.data().requestedAt)==null?void 0:Re.toDate())||new Date}});Q(ze);for(const ke of ze)if(ke.status==="aprobado"&&!ke.processed)try{const Re=$(C,"users",W),ye=await Ue(Re);if(ye.exists()){const Pt=(Number(ye.data().balance)||0)+Number(ke.amount||0);await Es(Re,{balance:Pt,updatedAt:Dt()}),K(Pt),await Es($(C,"pendingTopUps",ke.id),{processed:!0,updatedAt:Dt()})}}catch(Re){console.error("Error al actualizar saldo:",Re),X("Error al actualizar saldo tras aprobación de recarga")}},xe=>{console.error("Error al escuchar recargas:",xe),X("Error al cargar recargas")});return()=>be()},[W]),j.useEffect(()=>{if(!g)return;const ce=pe(Z(C,"users"),fe("referrerCode","==",g),kh("createdAt","desc"),It(5)),ue=we(ce,be=>{const xe=be.docs.map(ze=>{var ke;return{id:ze.id,...ze.data(),joinDate:((ke=ze.data().createdAt)==null?void 0:ke.toDate())||new Date}});U(xe)});return()=>ue()},[g]),j.useEffect(()=>{if(!g)return;const ce=pe(Z(C,"users"),fe("referrerCode","==",g)),ue=we(ce,be=>{const xe=be.docs.map(ze=>{var ke;return{id:ze.id,...ze.data(),joinDate:((ke=ze.data().createdAt)==null?void 0:ke.toDate())||new Date}});_(xe)});return()=>ue()},[g]);const p=async()=>{try{if(!de||isNaN(de)){X("Ingrese un monto válido");return}const ce=parseFloat(de);if(ce<10){X("El monto mínimo de recarga es S/ 10.00");return}await En(Z(C,"pendingTopUps"),{userId:W,username:i,amount:ce,status:"pendiente",requestedAt:Dt(),processed:!1}),ge(""),M("Éxito","Solicitud de recarga enviada correctamente")}catch(ce){console.error("Error al solicitar recarga:",ce),X("Error al enviar solicitud de recarga")}},O=async ce=>{var ue,be,xe,ze,ke,Re;try{q(!0),X(null);const ye=parseFloat(ce.price)||0;if(H<ye){X("Saldo insuficiente para renovar el pedido. Por favor, recarga tu saldo.");return}const Ie={customerId:W,customerName:((ue=ce.client)==null?void 0:ue.name)||"Cliente desconocido",customerEmail:((be=ce.client)==null?void 0:be.email)||l,phoneNumber:((xe=ce.client)==null?void 0:xe.phone)||"No especificado",productName:ce.productName||"Producto sin nombre",type:ce.category||"netflix",price:ye,accountDetails:{email:((ze=ce.account)==null?void 0:ze.email)||"No especificado",password:((ke=ce.account)==null?void 0:ke.password)||"No especificado",profile:((Re=ce.account)==null?void 0:Re.profile)||"No especificado"},provider:ce.provider||"Proveedor desconocido",providerId:ce.providerId||"",providerPhone:ce.providerPhone||ce.providerWhatsapp||"51999999999",status:"completed",createdAt:Dt(),saleDate:Dt(),startDate:Dt(),endDate:new Date(Date.now()+30*24*60*60*1e3).toISOString(),renewedAt:Dt()},Pt=await En(Z(C,"sales"),Ie),ls=$(C,"users",W);await Es(ls,{balance:H-ye}),K(rs=>rs-ye),n(rs=>[...rs,{...Ie,id:Pt.id,saleDate:new Date,startDate:new Date,endDate:new Date(Date.now()+30*24*60*60*1e3),account:Ie.accountDetails,client:{name:Ie.customerName,email:Ie.customerEmail,phone:Ie.phoneNumber},orderId:`BS-${Pt.id.slice(0,8).toUpperCase()}`}]),M("Éxito","¡Pedido renovado exitosamente!")}catch(ye){console.error("Error al renovar el pedido:",ye),X("Error al renovar el pedido: "+ye.message)}finally{q(!1)}},Y=()=>{g&&(navigator.clipboard.writeText(g),Se(!0),setTimeout(()=>Se(!1),2e3))},J=ce=>{if(!ce)return"No especificada";try{const ue=ce instanceof Date?ce:new Date(ce);return isNaN(ue.getTime())?"Fecha inválida":ue.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(ue){return console.error("Error formatting date:",ue),"Fecha inválida"}},ie=async()=>{try{await _o(Oe),V("/")}catch(ce){console.error("Error al cerrar sesión:",ce),X("Error al cerrar sesión")}},ee=async ce=>{ce.preventDefault(),m(""),F("");try{if(N&&N!==S){m("Las contraseñas no coinciden");return}const ue=$(C,"users",W),be={username:i};x!==l&&(be.email=x),await or(ue,be,{merge:!0}),F(N?"Cambio de contraseña no disponible en esta versión":"Configuración actualizada correctamente"),c(x),I(""),D(""),M("Éxito",P)}catch(ue){console.error("Error al actualizar configuración:",ue),m("Error al actualizar la configuración")}},ae=()=>{if(d)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(B)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:B}),e.jsx("button",{onClick:()=>X(null),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Mr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Saldo disponible"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",H.toFixed(2)]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",z.toFixed(2)]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Tu código de afiliado"}),e.jsxs("button",{onClick:Y,disabled:!g,className:`flex items-center gap-2 px-3 py-1 rounded-xl transition-all duration-300 ${g?"bg-cyan-900/80 text-cyan-400 hover:bg-cyan-800/80":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:[e.jsx(eI,{size:16}),Ae?"¡Copiado!":"Copiar"]})]}),e.jsx("div",{className:"bg-gray-800/50 p-4 rounded-xl mb-6 border border-gray-600/50",children:e.jsx("p",{className:"text-2xl font-bold text-center tracking-wider text-white",children:g||"Generando código..."})}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Comparte este código con tus amigos para que se registren y ganes comisiones por sus compras."}),e.jsxs("div",{className:"bg-cyan-900/30 p-4 rounded-xl border border-cyan-800/50",children:[e.jsx("h4",{className:"font-medium text-cyan-400 mb-2",children:"Enlace de afiliado:"}),e.jsx("p",{className:"text-sm bg-gray-800/50 p-2 rounded-xl border border-gray-600/50 overflow-x-auto text-gray-300",children:g?`https://blackkstreaming.com/registro?ref=${g}`:"Generando enlace..."})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:de,onChange:ce=>ge(ce.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:p,disabled:!de||parseFloat(de)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${de&&parseFloat(de)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Pedidos recientes"}),se.slice(0,3).map((ce,ue)=>{const be=new Date(ce.endDate)>new Date&&ce.status==="completed",xe=ce.status==="pending";return e.jsxs("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:ce.productName}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${xe?"bg-yellow-900/80 text-yellow-400":be?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:xe?"A pedido":be?"Activo":"Expirado"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Vence: ",J(ce.endDate)]})]},ue)}),se.length===0&&e.jsx("p",{className:"text-gray-400 py-2",children:"No tienes pedidos recientes"}),se.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Recargar saldo"}),e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a recargar (S/)"}),e.jsx("input",{type:"number",value:de,onChange:ce=>ge(ce.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Mínimo S/ 10.00",min:"10",step:"0.01"})]}),e.jsx("button",{onClick:p,disabled:!de||parseFloat(de)<10,className:`w-full py-3 px-4 rounded-xl font-medium transition-all duration-300 ${de&&parseFloat(de)>=10?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar recarga"}),e.jsxs("div",{className:"mt-6 bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ds,{className:"mr-2"})," ¿Cómo realizar tu recarga?"]}),e.jsxs("p",{className:"text-gray-300 mb-2",children:["Realiza tu pago mediante ",e.jsx("span",{className:"font-semibold text-white",children:"Yape"})," al número:"]}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"📱 940505969"}),e.jsx("p",{className:"text-gray-300 mb-3",children:"Una vez realizado el pago, por favor contáctanos vía WhatsApp al mismo número para confirmar tu recarga."}),e.jsxs("a",{href:"https://wa.me/51940505969?text=Hola%2C%20he%20realizado%20una%20recarga%20a%20trav%C3%A9s%20de%20Yape.%20Por%20favor%2C%20confirma%20mi%20pago.",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300",children:[e.jsx(Mr,{className:"mr-2"})," Confirmar por WhatsApp"]})]})]})]}),e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-4",children:"Historial de recargas"}),me.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acción"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:me.map((ce,ue)=>{var xe,ze;const be=encodeURIComponent(`Hola, he pedido una recarga de S/ ${((xe=ce.amount)==null?void 0:xe.toFixed(2))||"0.00"} con el nombre ${i}. Adjunto la captura de mi pago, por favor.`);return e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",((ze=ce.amount)==null?void 0:ze.toFixed(2))||"0.00"]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ce.status==="aprobado"?"bg-green-900/80 text-green-400":ce.status==="pendiente"?"bg-yellow-900/80 text-yellow-400":"bg-red-900/80 text-red-400"}`,children:ce.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-400",children:J(ce.date)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:ce.status==="pendiente"?e.jsxs("a",{href:`https://wa.me/51940505969?text=${be}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded-xl transition-all duration-300 text-sm",children:[e.jsx(Mr,{className:"mr-2"})," Enviar captura"]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"—"})})]},ue)})})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay recargas registradas"})]})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Mis pedidos"}),se.length>0?e.jsx("div",{className:"space-y-6",children:se.map((ce,ue)=>{var Ie,Pt,ls,rs,pr,Ds,Tt,Pr,fr,Qn,Kn;const be=parseFloat(ce.price)||0,xe=new Date(ce.endDate)>new Date&&ce.status==="completed",ze=ce.status==="pending",ke=ze?e.jsx(Ct,{className:"text-yellow-400"}):xe?e.jsx(zi,{className:"text-green-400"}):e.jsx(lt,{className:"text-red-400"}),Re=encodeURIComponent(`*Consulta sobre Pedido - ${ce.productName||"Sin nombre"}*

*N° Pedido:* ${ce.orderId||"No especificado"}
*Producto:* ${ce.productName||"No especificado"}
*Precio:* S/ ${be.toFixed(2)}
*Estado:* ${ze?"A pedido":xe?"Activo":"Expirado"}
*Fecha de Inicio:* ${J(ce.startDate)}
*Fecha de Vencimiento:* ${J(ce.endDate)}

`+(ze?`Hola, he comprado un producto a pedido (${ce.productName}). ¿En cuántos días estará listo? Por favor, indíqueme los detalles para coordinar.`:"Por favor indíqueme cómo puedo resolver mi consulta sobre este pedido.")),ye=encodeURIComponent(`Hola ${((Ie=ce.client)==null?void 0:Ie.name)||"Cliente"},

*Aquí tienes la información de tu pedido en BlackStreaming:*
*Producto:* ${ce.productName||"Sin nombre"}
*N° Pedido:* ${ce.orderId||"No especificado"}
*Precio:* S/ ${be.toFixed(2)}
*Estado:* ${ze?"A pedido":xe?"Activo":"Expirado"}
*Fecha de Inicio:* ${J(ce.startDate)}
*Fecha de Vencimiento:* ${J(ce.endDate)}

`+(ze?`*Nota:* Este pedido está "A pedido". El proveedor se contactará contigo para coordinar los detalles.

`:`*Detalles de la Cuenta:*
📧 *Email:* ${((Pt=ce.account)==null?void 0:Pt.email)||"No especificado"}
🔑 *Contraseña:* ${((ls=ce.account)==null?void 0:ls.password)||"No especificado"}
👤 *Perfil:* ${((rs=ce.account)==null?void 0:rs.profile)||"No especificado"}

`)+"Si tienes alguna duda o necesitas soporte, no dudes en contactarnos. ¡Gracias por elegir BlackStreaming!");return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[ke,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ce.productName||"Producto sin nombre"}),ce.orderId&&e.jsxs("p",{className:"text-xs text-gray-400",children:["N° Pedido: ",ce.orderId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",be.toFixed(2)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[J(ce.startDate)," - ",J(ce.endDate)]})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:ze?e.jsx("p",{className:"text-gray-400",children:'Este pedido está "A pedido". El proveedor se contactará contigo para proporcionarte los detalles.'}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:((pr=ce.account)==null?void 0:pr.email)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:((Ds=ce.account)==null?void 0:Ds.password)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:((Tt=ce.account)==null?void 0:Tt.profile)||"No especificado"})]})]})})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(We,{className:"mr-2"})," Información del Pedido"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"block text-white",children:ce.provider||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono del Proveedor:"}),e.jsx("span",{className:"block text-white",children:ce.providerPhone||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Estado:"}),e.jsx("span",{className:`block px-2 py-1 text-xs rounded-full ${ze?"bg-yellow-900/80 text-yellow-400":xe?"bg-green-900/80 text-green-400":"bg-red-900/80 text-red-400"}`,children:ze?"A pedido":xe?"Activo":"Expirado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Método de Pago:"}),e.jsx("span",{className:"block text-white",children:ce.paymentMethod||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de inicio:"}),e.jsx("span",{className:"block text-white",children:J(ce.startDate)})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Fecha de vencimiento:"}),e.jsx("span",{className:"block text-white",children:J(ce.endDate)})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Información del Cliente"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:((Pr=ce.client)==null?void 0:Pr.name)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:((fr=ce.client)==null?void 0:fr.phone)||"No especificado"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:((Qn=ce.client)==null?void 0:Qn.email)||"No especificado"})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("a",{href:`https://wa.me/${ce.providerPhone||ce.providerWhatsapp||"51999999999"}?text=${Re}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Mr,{size:18})," Contactar Proveedor"]}),e.jsxs("button",{onClick:()=>O(ce),disabled:d,className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300 ${d?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-cyan-500 hover:bg-cyan-600 text-white"}`,children:[e.jsx(cN,{size:18})," Renovar Pedido"]}),((Kn=ce.client)==null?void 0:Kn.phone)&&e.jsxs("a",{href:`https://wa.me/${ce.client.phone}?text=${ye}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[e.jsx(Mr,{size:18})," Contactar Cliente por WhatsApp"]})]})]})]},ue)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Realiza tu primer pedido en nuestra tienda"})]})]});case"referidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:["Todos tus referidos (",v.length,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar referidos...",className:"px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm placeholder-gray-500",value:Te,onChange:ce=>Le(ce.target.value)}),e.jsx(_0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),v.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha de registro"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:v.filter(ce=>{const ue=ce.username||"",be=ce.email||"";return ue.toLowerCase().includes(Te.toLowerCase())||be.toLowerCase().includes(Te.toLowerCase())}).map((ce,ue)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ce.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ce.email||"Sin email"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ce.joinDate?J(ce.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:ce.status||"Activo"})})]},ue))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes referidos aún"}),e.jsx("p",{className:"text-gray-400",children:"Comparte tu código de afiliado para empezar a ganar comisiones"})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde ayer"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:"S/ 0.00"}),e.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"+0% desde la semana pasada"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-600/50 shadow-lg",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias totales"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",z.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[v.length," referidos"]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx(th,{className:"mr-2 text-cyan-400"})," Historial de comisiones"]}),v.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-800/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Referido"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Origen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-700/50 divide-y divide-gray-600/50",children:v.map((ce,ue)=>e.jsxs("tr",{className:"hover:bg-gray-600/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ce.username||"Usuario sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:ce.joinDate?J(ce.joinDate):"No especificada"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:"S/ 0.00"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:"Registro"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-900/80 text-yellow-400",children:"Pendiente"})})]},ue))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-400",children:"No hay comisiones registradas"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Gana comisiones cuando tus referidos realicen compras"})]})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:ee,children:[y&&e.jsxs("div",{className:"bg-red-900/80 text-red-300 p-3 rounded-xl mb-4 flex items-center",children:[e.jsx(lt,{className:"mr-2"})," ",y]}),P&&e.jsxs("div",{className:"bg-green-900/80 text-green-300 p-3 rounded-xl mb-4 flex items-center",children:[e.jsx(zi,{className:"mr-2"})," ",P]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,onChange:ce=>o(ce.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:x,onChange:ce=>f(ce.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña"}),e.jsx("input",{type:"password",value:N,onChange:ce=>I(ce.target.value),placeholder:"Dejar en blanco para no cambiar",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",disabled:!0}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Cambio de contraseña no disponible en esta versión."})]}),N&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Confirmar nueva contraseña"}),e.jsx("input",{type:"password",value:S,onChange:ce=>D(ce.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",disabled:!0})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",className:"w-full py-3 px-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl font-medium transition-all duration-300",children:"Guardar cambios"})})]})]}),e.jsx("div",{className:"mt-8 border-t border-gray-600/50 pt-6",children:e.jsxs("button",{onClick:ie,className:"flex items-center justify-center gap-2 w-full py-3 px-4 bg-red-900/80 hover:bg-red-800 text-white rounded-xl font-medium transition-all duration-300",children:[e.jsx(gt,{})," Cerrar sesión"]})})]});default:return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-full bg-gray-800/50 backdrop-blur-sm hover:bg-gray-700/50 transition-all duration-300 border border-gray-700/50",children:e.jsx(wt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-900/90 backdrop-blur-md border-r border-gray-800/50 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-full hover:bg-gray-700/50 transition-all duration-300",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700/50",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>{a("inicio"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="inicio"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(_u,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>{a("recargas"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="recargas"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ds,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>{a("pedidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="pedidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(mt,{})," ",e.jsx("span",{children:"Mis pedidos"})]}),e.jsxs("button",{onClick:()=>{a("referidos"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="referidos"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(ql,{})," ",e.jsx("span",{children:"Referidos"})]}),e.jsxs("button",{onClick:()=>{a("ganancias"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="ganancias"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(th,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>{a("configuracion"),t(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${r==="configuracion"?"bg-cyan-900/80 text-white":"text-gray-300 hover:bg-gray-700/50"}`,children:[e.jsx(go,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:ie,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx(gt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 sm:p-6 pt-20 md:pt-6",children:ae()}),te.show&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-900/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-800/50",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:te.title}),e.jsx("button",{onClick:b,className:"text-gray-400 hover:text-white transition-all duration-300",children:e.jsx(le,{size:20})})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:te.message}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:b,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})})]})})}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden",onClick:()=>t(!1)})]})},qD=()=>{var al;const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState("Usuario"),[l,c]=j.useState(""),[x,f]=j.useState(""),[N,I]=j.useState([]),[S,D]=j.useState([]),[g,L]=j.useState(!0),[v,_]=j.useState(""),[z,R]=j.useState({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:Array(1).fill({email:"",password:"",profile:"",pin:""})}),[H,K]=j.useState(null),[W,A]=j.useState(!1),[d,q]=j.useState(""),[B,X]=j.useState({open:!1,message:""}),[E,U]=j.useState({email:"",password:"",preferences:""}),[Ae,Se]=j.useState([]),[Te,Le]=j.useState(""),[de,ge]=j.useState("Yape"),[me,Q]=j.useState(""),[se,n]=j.useState(!1),[y,m]=j.useState([]),[P,F]=j.useState(!0),[te,w]=j.useState(0),[V,M]=j.useState(!1),[b,p]=j.useState(null),[O,Y]=j.useState(""),J=ut(),ie=u2(),ee=ne=>{var Ce;if(!ne)return"No especificada";try{const De=ne instanceof Date?ne:((Ce=ne==null?void 0:ne.toDate)==null?void 0:Ce.call(ne))||new Date(ne);return isNaN(De.getTime())?"Fecha inválida":De.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(De){return console.error("Error formatting date:",De),"Fecha inválida"}},ae=ne=>({netflix:"Netflix",spotify:"Spotify",disney:"Disney",max:"Max",primevideo:"Prime Video",vix:"Vix",crunchyroll:"Crunchyroll",canva:"Canva",chatgpt:"ChatGPT",redessociales:"Redes Sociales",dgo:"Dgo",ligamax:"Liga Max",movistarplay:"Movistar Play",youtube:"Youtube",deezer:"Deezer",tidal:"Tidal",vpn:"Vpn",wintv:"WinTv",applemusic:"Apple Music",appletv:"Apple TV",iptv:"Iptv",flujotv:"Flujo Tv",vikirakuten:"Viki Rakuten",pornhub:"Pornhub",paramount:"Paramount",licencias:"Licencias",capcut:"Capcut",duolingo:"Duolingo",buscapersonas:"BuscaPersonas"})[ne==null?void 0:ne.toLowerCase()]||"Otro";j.useEffect(()=>{const ne=vt(ie,Ce=>{Ce?(c(Ce.email||""),f(Ce.uid),ce(Ce.uid)):J("/login")});return()=>ne()},[ie,J]);const ce=async ne=>{try{const Ce=$(C,"users",ne),De=await Ue(Ce);if(De.exists()){const tt=De.data();o(tt.username||"Usuario"),U({email:tt.email||"",password:"",preferences:tt.preferences||""})}L(!1)}catch(Ce){_("Error al cargar datos del usuario"),console.error("Error fetching user data:",Ce),L(!1)}};j.useEffect(()=>{l&&(async Ce=>{try{const De=await Ue($(C,"admins",Ce));n(De.exists())}catch(De){console.error("Error checking admin status:",De)}})(l)},[l]),j.useEffect(()=>{if(!i)return;const ne=pe(Z(C,"products"),fe("provider","==",i)),Ce=we(ne,De=>{const tt=De.docs.map(ot=>({id:ot.id,...ot.data()}));D(tt)},De=>{console.error("Error fetching products:",De),_("Error al cargar productos")});return()=>Ce()},[i]),j.useEffect(()=>{if(!x)return;const ne=pe(Z(C,"sales"),fe("providerId","==",x)),Ce=we(ne,De=>{const tt=De.docs.map(ot=>{const yt=ot.data();return{id:ot.id,productName:yt.productName||"Producto sin nombre",category:yt.type||"netflix",buyer:yt.customerName||yt.customerNAME||"Comprador desconocido",buyerEmail:yt.customerEmail||"Sin email",buyerPhone:yt.phoneNumber||"Sin teléfono",date:yt.saleDate?yt.saleDate:yt.createdAt||new Date,amount:parseFloat(yt.price)||0,status:yt.status||"completed",accountDetails:yt.accountDetails||{email:"No disponible",password:"No disponible",profile:"N/A",pin:""}}});I(tt),F(!1)},De=>{console.error("Error fetching sales:",De),_("Error al cargar ventas"),F(!1)});return()=>Ce()},[x]),j.useEffect(()=>{if(!i)return;const ne=pe(Z(C,"withdrawals"),fe("provider","==",i),kh("createdAt","desc")),Ce=we(ne,De=>{const tt=De.docs.map(ot=>{const yt=ot.data();return{id:ot.id,...yt,amount:parseFloat(yt.amount)||0,createdAt:yt.createdAt||new Date,processedAt:yt.processedAt||null}});Se(tt),F(!1)},De=>{console.error("Error fetching withdrawals:",De),_("Error al cargar retiros")});return()=>Ce()},[i]),j.useEffect(()=>{if(!se)return;const ne=pe(Z(C,"withdrawals"),fe("status","==","pending"),kh("createdAt","desc")),Ce=we(ne,De=>{const tt=De.docs.map(ot=>{const yt=ot.data();return{id:ot.id,...yt,amount:parseFloat(yt.amount)||0,createdAt:yt.createdAt||new Date}});m(tt)},De=>{console.error("Error fetching pending withdrawals:",De),_("Error al cargar solicitudes de retiro pendientes")});return()=>Ce()},[se]),j.useEffect(()=>{if(!i)return;const ne=$(C,"providerBalances",i),Ce=we(ne,De=>{De.exists()?w(De.data().balance||0):(or(ne,{balance:0,provider:i,updatedAt:Dt()}),w(0)),F(!1)},De=>{console.error("Error fetching provider balance:",De),_("Error al cargar el saldo del proveedor"),F(!1)});return()=>Ce()},[i]);const ue=()=>{_o(ie).then(()=>J("/login")).catch(ne=>{_("Error al cerrar sesión"),console.error("Logout error:",ne)})},be=ne=>{const{name:Ce,value:De,type:tt,checked:ot}=ne.target;R(yt=>({...yt,[Ce]:tt==="checkbox"?ot:De}))},xe=ne=>{const{name:Ce,value:De}=ne.target;U(tt=>({...tt,[Ce]:De}))},ze=(ne,Ce=!1)=>{const De=ne.target.files[0];if(De){if(De.size>10485760){Ce?q("La imagen no debe exceder los 10MB"):_("La imagen no debe exceder los 10MB");return}const ot=new FileReader;ot.onloadend=()=>{Ce?K(yt=>({...yt,image:ot.result})):R(yt=>({...yt,image:ot.result}))},ot.readAsDataURL(De)}},ke=ne=>{const Ce=parseInt(ne.target.value)||1,De=z.accounts||[];if(Ce>De.length){const tt=[...De];for(;tt.length<Ce;)tt.push({email:"",password:"",profile:"",pin:""});R({...z,stock:Ce,accounts:tt})}else if(Ce<De.length){const tt=De.slice(0,Math.max(Ce,1));R({...z,stock:Ce,accounts:tt})}else R({...z,stock:Ce})},Re=ne=>{const Ce=parseInt(ne.target.value)||1;let tt=[...H.accounts||[]];if(Ce>tt.length)for(;tt.length<Ce;)tt.push({email:"",password:"",profile:"",pin:""});else Ce<tt.length&&(tt=tt.slice(0,Math.max(Ce,1)));K({...H,stock:Ce,accounts:tt})},ye=(ne,Ce,De)=>{const tt=[...z.accounts];tt[ne]={...tt[ne],[Ce]:De},R({...z,accounts:tt})},Ie=(ne,Ce,De)=>{K(tt=>({...tt,accounts:tt.accounts.map((ot,yt)=>yt===ne?{...ot,[Ce]:De}:ot)}))},Pt=ne=>{const{name:Ce,value:De}=ne.target;p(tt=>({...tt,accountDetails:{...tt.accountDetails,[Ce]:De}}))},ls=async()=>{if(_(""),!z.name||!z.price){_("Por favor complete todos los campos obligatorios");return}if(z.renewal&&!z.renewalPrice){_("Por favor ingrese el precio de renovación");return}if(z.status==="En stock"&&z.accounts.some(Ce=>!Ce.email||!Ce.password)){_("Por favor complete todos los campos de las cuentas");return}try{const ne={...z,provider:i,providerId:x,providerPhone:z.status==="En stock"?z.providerPhone||"":z.providerPhone||"No especificado",createdAt:Dt(),availableAccounts:z.status==="En stock"?z.accounts.length:0},Ce=await En(Z(C,"products"),ne);if(z.status==="En stock"){const De=Z(C,`products/${Ce.id}/accounts`);for(const tt of z.accounts)await En(De,{email:tt.email,password:tt.password,profile:tt.profile||"",pin:tt.pin||"",status:"available"})}R({image:"",category:"Netflix",accountType:"Premium",name:"",price:"",renewal:!1,renewalPrice:"",stock:1,duration:"",providerPhone:"",details:"",terms:"",status:"En stock",accounts:[{email:"",password:"",profile:"",pin:""}]}),a("inventario"),X({open:!0,message:"Producto subido exitosamente!"})}catch(ne){console.error("Error al subir el producto:",ne),_(`Error al subir el producto: ${ne.message}`)}},rs=ne=>{q(""),K({...ne,accounts:ne.status==="En stock"?ne.accounts||Array(Math.max(ne.stock||1,1)).fill({email:"",password:"",profile:"",pin:""}):[],providerId:ne.providerId||x,accountType:ne.accountType||"Premium",renewal:ne.renewal||!1,renewalPrice:ne.renewalPrice||""}),A(!0)},pr=async()=>{var ne;if(q(""),!H.name||!H.price){q("Por favor complete todos los campos obligatorios");return}if(H.renewal&&!H.renewalPrice){q("Por favor ingrese el precio de renovación");return}if(H.status==="En stock"&&H.accounts.some(De=>!De.email||!De.password)){q("Por favor complete todos los campos de las cuentas");return}try{const Ce=$(C,"products",H.id);await or(Ce,{...H,providerId:H.providerId||x,availableAccounts:H.status==="En stock"&&((ne=H.accounts)==null?void 0:ne.length)||0},{merge:!0}),A(!1),X({open:!0,message:"Producto actualizado exitosamente!"})}catch(Ce){console.error("Error al actualizar el producto:",Ce),q("Error al actualizar el producto")}},Ds=async ne=>{try{await o6($(C,"products",ne)),X({open:!0,message:"Producto eliminado exitosamente!"})}catch(Ce){console.error("Error al eliminar el producto:",Ce),_("Error al eliminar el producto")}},Tt=async()=>{try{const ne=ie.currentUser;if(ne){const Ce=$(C,"users",ne.uid);await or(Ce,{preferences:E.preferences,...E.password&&{password:E.password}},{merge:!0}),X({open:!0,message:"Configuración actualizada correctamente!"})}}catch(ne){console.error("Error al actualizar la configuración:",ne),_("Error al actualizar la configuración")}},Pr=async()=>{if(!Te||parseFloat(Te)<=0){_("Ingrese un monto válido");return}if(parseFloat(Te)>te){_("No tienes suficientes fondos disponibles");return}if(!me){_("Ingrese los datos de su cuenta");return}try{await En(Z(C,"withdrawals"),{provider:i,providerEmail:l,amount:parseFloat(Te),method:de,account:me,status:"pending",createdAt:Dt()}),Le(""),Q(""),X({open:!0,message:"Solicitud de retiro enviada correctamente"})}catch(ne){console.error("Error al solicitar retiro:",ne),_("Error al solicitar retiro")}},fr=async(ne,Ce)=>{try{const De=$(C,"withdrawals",ne),tt=await Ue(De);if(!tt.exists())throw new Error("Solicitud de retiro no encontrada");const ot=tt.data(),yt=ot.provider,ja=parseFloat(ot.amount);if(Ce==="approved"){const va=$(C,"providerBalances",yt),Zo=await Ue(va);let nl=0;if(Zo.exists()&&(nl=Zo.data().balance||0),ja>nl){_("El proveedor no tiene suficientes fondos para aprobar este retiro");return}await or(va,{balance:nl-ja,provider:yt,updatedAt:Dt()},{merge:!0})}await Es(De,{status:Ce,processedAt:Dt(),processedBy:l}),X({open:!0,message:Ce==="approved"?"Retiro aprobado y saldo actualizado correctamente":"Retiro rechazado"})}catch(De){console.error("Error al procesar retiro:",De),_("Error al procesar retiro: "+De.message)}},Qn=ne=>{Y(""),p({...ne,accountDetails:{email:ne.accountDetails.email||"",password:ne.accountDetails.password||"",profile:ne.accountDetails.profile||"",pin:ne.accountDetails.pin||""}}),M(!0)},Kn=async()=>{if(Y(""),!b.accountDetails.email||!b.accountDetails.password){Y("Por favor complete todos los campos obligatorios de la cuenta");return}try{const ne=$(C,"sales",b.id);await Es(ne,{accountDetails:b.accountDetails,updatedAt:Dt()}),M(!1),X({open:!0,message:"Detalles de la cuenta actualizados exitosamente!"})}catch(ne){console.error("Error al actualizar los detalles de la cuenta:",ne),Y("Error al actualizar los detalles de la cuenta")}},mn=P?0:N.reduce((ne,Ce)=>ne+(Ce.amount||0),0),tl=P?0:Ae.reduce((ne,Ce)=>ne+(Ce.status==="approved"?Ce.amount:0),0),Hs=(()=>P?0:te)(),sl=S.reduce((ne,Ce)=>ne+(parseInt(Ce.stock)||0),0),rl=()=>{if(g)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-400"})});if(v)return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl text-center max-w-2xl mx-auto border border-gray-700/50",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:v}),e.jsx("button",{onClick:()=>_(""),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Dc,{className:"mr-2"})," Inventario"]}),e.jsx("p",{className:"text-3xl font-bold text-white",children:S.length}),e.jsx("p",{className:"text-gray-400",children:"Productos registrados"}),e.jsxs("p",{className:"text-gray-400",children:["Stock total: ",sl]}),e.jsx("button",{onClick:()=>a("inventario"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Ver inventario"})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(ds,{className:"mr-2"})," Ganancias"]}),P?e.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando..."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",mn.toFixed(2)]}),e.jsxs("p",{className:"text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-gray-400",children:["Disponible: S/ ",Hs.toFixed(2)]}),e.jsx("button",{onClick:()=>a("retiros"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Retirar fondos"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-600/50 shadow-lg",children:[e.jsxs("h3",{className:"text-lg font-semibold text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Mi Cuenta"]}),e.jsx("p",{className:"text-lg font-medium text-white",children:i}),e.jsx("p",{className:"text-sm text-gray-400 truncate",children:l}),e.jsx("p",{className:"text-xs mt-2 bg-cyan-900 text-cyan-400 py-1 px-2 rounded-full inline-block",children:se?"Administrador":"Proveedor"}),e.jsx("button",{onClick:()=>a("configuracion"),className:"text-cyan-400 hover:underline text-sm mt-2",children:"Editar perfil"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[e.jsx(mt,{className:"mr-2"})," Pedidos recientes"]}),N.length===0?e.jsx("p",{className:"text-gray-400 py-2 text-center",children:"No hay pedidos recientes."}):N.slice(0,3).map((ne,Ce)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"w-2/3",children:[e.jsx("p",{className:"font-medium text-white truncate",children:ne.productName}),e.jsxs("p",{className:"text-sm text-gray-400 truncate",children:["Comprador: ",ne.buyer]})]}),e.jsxs("div",{className:"text-right w-1/3",children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-400",children:ee(ne.date)})]})]})},Ce)),N.length>3&&e.jsx("button",{onClick:()=>a("pedidos"),className:"w-full mt-3 text-center text-cyan-400 hover:underline text-sm",children:"Ver todos los pedidos"})]})]});case"inventario":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white flex items-center",children:[e.jsx(Dc,{className:"mr-2"})," Inventario"]}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center w-full md:w-auto justify-center transition-all duration-300",children:[e.jsx(Ug,{className:"mr-2"})," Nuevo Producto"]})]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Precio"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:S.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[ne.image&&e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:ne.image,alt:ne.name})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ne.name}),e.jsx("div",{className:"text-xs text-gray-400",children:ae(ne.category)})]})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:["S/ ",(parseFloat(ne.price)||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.stock||0}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ne.status==="En stock"?"bg-green-900/80 text-green-400":"bg-yellow-900/80 text-yellow-400"}`,children:ne.status})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>rs(ne),className:"text-cyan-400 hover:text-cyan-500 mr-3",title:"Editar",children:e.jsx(Ac,{})}),e.jsx("button",{onClick:()=>Ds(ne.id),className:"text-red-400 hover:text-red-500",title:"Eliminar",children:e.jsx(sI,{})})]})]},ne.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Dc,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No tienes productos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tu primer producto para comenzar"}),e.jsxs("button",{onClick:()=>a("subirProducto"),className:"mt-4 px-4 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-xl flex items-center mx-auto transition-all duration-300",children:[e.jsx(Ug,{className:"mr-2"})," Agregar Producto"]})]})]});case"subirProducto":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-4xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx($g,{className:"mr-2"})," Subir Nuevo Producto"]}),v&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:v})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:z.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:z.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>R({...z,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:ne=>ze(ne),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:z.name,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:z.category,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:z.accountType,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:z.status,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:z.stock,onChange:ke,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:z.price,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:z.renewal,onChange:be,className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),z.renewal&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:z.renewalPrice,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:z.duration,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",z.status==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:z.providerPhone,onChange:be,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:z.status==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:z.details,onChange:be,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:z.terms,onChange:be,rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),z.status==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:z.accounts.map((ne,Ce)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ce+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ne.email,onChange:De=>ye(Ce,"email",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ne.password,onChange:De=>ye(Ce,"password",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ne.profile,onChange:De=>ye(Ce,"profile",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:ne.pin,onChange:De=>ye(Ce,"pin",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},Ce))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>a("inventario"),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:ls,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Subir Producto"})]})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(ds,{className:"mr-2"})," Ganancias"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Ganancias totales"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[N.length," ventas realizadas"]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",tl.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Disponible: S/ ",Hs.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",mn.toFixed(2)]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Producto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Categoría"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Comprador"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Contacto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:N.map((ne,Ce)=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:ne.productName}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ae(ne.category)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:ne.buyer}),e.jsx("div",{className:"text-xs text-gray-400",children:ne.buyerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.buyerPhone}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ee(ne.date)}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-900/80 text-green-400",children:"Completado"})})]},Ce))})]})}),N.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay ventas registradas"}),e.jsx("p",{className:"text-gray-400",children:"Tus ventas aparecerán aquí."})]})]});case"pedidos":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(mt,{className:"mr-2"})," Pedidos"]}),N.length>0?e.jsx("div",{className:"space-y-6",children:N.map((ne,Ce)=>{const tt=ne.status==="pending"?e.jsx(Ct,{className:"text-yellow-400"}):e.jsx(zi,{className:"text-green-400"});return e.jsxs("div",{className:"border border-gray-600/50 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm px-4 py-3 border-b border-gray-600/50 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[tt,e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:ne.productName}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Categoría: ",ae(ne.category)]})]})]}),e.jsxs("div",{className:"text-right flex items-center space-x-2",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("p",{className:"text-xs text-gray-400",children:ee(ne.date)}),e.jsx("button",{onClick:()=>Qn(ne),className:"text-cyan-400 hover:text-cyan-500",title:"Editar cuenta",children:e.jsx(Ac,{})})]})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Información del Comprador"]}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Nombre:"}),e.jsx("span",{className:"block text-white",children:ne.buyer})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white",children:ne.buyerEmail})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Teléfono:"}),e.jsx("span",{className:"block text-white",children:ne.buyerPhone})]})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm p-4 rounded-2xl border border-gray-600/50",children:[e.jsxs("h5",{className:"text-sm font-medium text-cyan-400 mb-3 flex items-center",children:[e.jsx(Be,{className:"mr-2"})," Detalles de la Cuenta"]}),e.jsx("div",{className:"space-y-2 text-gray-300",children:ne.accountDetails?e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Email:"}),e.jsx("span",{className:"block text-white break-all",children:ne.accountDetails.email})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Contraseña:"}),e.jsx("span",{className:"block text-white break-all",children:ne.accountDetails.password})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Perfil:"}),e.jsx("span",{className:"block text-white",children:ne.accountDetails.profile||"N/A"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium text-gray-400",children:"PIN:"}),e.jsx("span",{className:"block text-white",children:ne.accountDetails.pin||"N/A"})]})]}):e.jsx("p",{className:"text-gray-400",children:"No disponible"})})]})]})})]},Ce)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(mt,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay pedidos registrados"}),e.jsx("p",{className:"text-gray-400",children:"Los pedidos de tus productos aparecerán aquí."})]})]});case"retiros":return e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-6xl mx-auto border border-gray-700/50",children:se?e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(wl,{className:"mr-2"})," Solicitudes de Retiro Pendientes"]}),y.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600/50",children:[e.jsx("thead",{className:"bg-gray-700/50 backdrop-blur-sm",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Método"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto (S/)"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800/50 divide-y divide-gray-600/50",children:y.map(ne=>e.jsxs("tr",{className:"hover:bg-gray-700/50 transition-all duration-300",children:[e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-white truncate max-w-xs",children:ne.provider}),e.jsx("div",{className:"text-xs text-gray-400 truncate max-w-xs",children:ne.providerEmail})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ne.method}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-300",children:ee(ne.createdAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("button",{onClick:()=>fr(ne.id,"approved"),className:"text-green-400 hover:text-green-500 flex items-center text-sm",children:[e.jsx(td,{className:"mr-1"})," Aprobar"]}),e.jsxs("button",{onClick:()=>fr(ne.id,"rejected"),className:"text-red-400 hover:text-red-500 flex items-center text-sm",children:[e.jsx(le,{className:"mr-1"})," Rechazar"]})]})})]},ne.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(wl,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay solicitudes pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Las solicitudes de retiro aparecerán aquí"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(wl,{className:"mr-2"})," Retirar Dinero"]}),e.jsx("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 mb-6 border border-gray-600/50 shadow-lg",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-1",children:"Saldo disponible"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Ganancias totales: S/ ",mn.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Retirado: S/ ",tl.toFixed(2)]})]}),e.jsxs("div",{className:"text-3xl font-bold text-white mt-2 md:mt-0",children:["S/ ",Hs.toFixed(2)]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Solicitar Retiro"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Monto a retirar (S/)*"}),e.jsx("input",{type:"number",value:Te,onChange:ne=>Le(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 150.00",step:"0.01",min:"0",max:Hs}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Máximo disponible: S/ ",Hs.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Método de pago*"}),e.jsxs("select",{value:de,onChange:ne=>ge(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Yape",children:"Yape"}),e.jsx("option",{value:"Plin",children:"Plin"}),e.jsx("option",{value:"Transferencia",children:"Transferencia Bancaria"}),e.jsx("option",{value:"Otro",children:"Otro"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Datos de la cuenta*"}),e.jsx("input",{type:"text",value:me,onChange:ne=>Q(ne.target.value),className:"w-full px-4 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:de==="Yape"?"Número de teléfono":"Número de cuenta",required:!0})]}),e.jsx("button",{onClick:Pr,disabled:!Te||parseFloat(Te)<=0||parseFloat(Te)>Hs||!me,className:`w-full px-6 py-3 rounded-xl font-medium transition-all duration-300 ${Te&&parseFloat(Te)>0&&parseFloat(Te)<=Hs&&me?"bg-cyan-500 hover:bg-cyan-600 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:"Solicitar Retiro"})]})]}),e.jsxs("div",{className:"bg-gray-700/50 backdrop-blur-sm rounded-2xl p-4 shadow-lg border border-gray-600/50",children:[e.jsx("h4",{className:"text-lg font-medium text-white mb-4",children:"Historial de Retiros"}),Ae.length>0?e.jsx("div",{className:"space-y-4",children:Ae.map((ne,Ce)=>e.jsx("div",{className:"border-b border-gray-600/50 py-3 last:border-0 hover:bg-gray-600/50 transition-all duration-300 rounded-xl px-2",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:["S/ ",(ne.amount||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[ne.method," - ",ne.account]}),e.jsxs("p",{className:"text-xs text-gray-400",children:[ne.status==="pending"?"Solicitado":"Procesado",": ",ee(ne.status==="pending"?ne.createdAt:ne.processedAt)]})]}),e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-4 font-semibold rounded-full ${ne.status==="approved"?"bg-green-900/80 text-green-400":ne.status==="rejected"?"bg-red-900/80 text-red-400":"bg-yellow-900/80 text-yellow-400"}`,children:ne.status==="approved"?"Aprobado":ne.status==="rejected"?"Rechazado":"Pendiente"})]})},Ce))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(wl,{className:"mx-auto text-3xl text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-400",children:"No hay retiros registrados"})]})]})]})]})});case"configuracion":return e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-4 sm:p-6 rounded-2xl shadow-xl max-w-2xl mx-auto border border-gray-700/50",children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx(go,{className:"mr-2"})," Configuración de cuenta"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico"}),e.jsx("input",{type:"email",name:"email",value:E.email,disabled:!0,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 transition-all cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nueva contraseña"}),e.jsx("input",{type:"password",name:"password",value:E.password,onChange:xe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Dejar vacío para no cambiar"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Preferencias"}),e.jsx("textarea",{name:"preferences",value:E.preferences,onChange:xe,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Escribe tus preferencias o notas",rows:"4"})]}),v&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:v})]})}),e.jsx("div",{className:"flex justify-end gap-3 pt-4",children:e.jsx("button",{onClick:Tt,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})})]})]});default:return null}},Kr=[{id:"inicio",label:"Inicio",icon:e.jsx(_u,{})},{id:"inventario",label:"Inventario",icon:e.jsx(Dc,{})},{id:"subirProducto",label:"Subir Producto",icon:e.jsx($g,{})},{id:"ganancias",label:"Ganancias",icon:e.jsx(ds,{})},{id:"pedidos",label:"Pedidos",icon:e.jsx(mt,{})},{id:"retiros",label:"Retiros",icon:e.jsx(wl,{})},{id:"configuracion",label:"Configuración",icon:e.jsx(go,{})}];return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100",children:[e.jsxs("div",{className:"flex h-screen",children:[e.jsxs("div",{className:`fixed inset-y-0 left-0 z-30 w-64 bg-gray-800/50 backdrop-blur-sm transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out border-r border-gray-700/50`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-700/50",children:[e.jsx("h1",{className:"text-xl font-bold text-cyan-400",children:"Panel de Proveedor"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"mt-4",children:[Kr.map(ne=>e.jsxs("button",{onClick:()=>{a(ne.id),t(!1)},className:`w-full flex items-center px-4 py-3 text-sm font-medium transition-all duration-300 ${r===ne.id?"bg-cyan-500/20 text-cyan-400 border-l-4 border-cyan-400":"text-gray-300 hover:bg-gray-700/50 hover:text-white"}`,children:[ne.icon,e.jsx("span",{className:"ml-3",children:ne.label})]},ne.id)),e.jsxs("button",{onClick:ue,className:"w-full flex items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700/50 hover:text-white transition-all duration-300",children:[e.jsx(gt,{className:"mr-3"}),"Cerrar Sesión"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col md:ml-64",children:[e.jsxs("header",{className:"bg-gray-800/50 backdrop-blur-sm p-4 flex justify-between items-center border-b border-gray-700/50",children:[e.jsx("button",{onClick:()=>t(!0),className:"md:hidden text-gray-300 hover:text-white",children:e.jsx(wt,{size:24})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-700/50 flex items-center justify-center",children:e.jsx(Be,{className:"text-gray-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400",children:l})]})]})]}),e.jsx("main",{className:"flex-1 p-4 sm:p-6 overflow-auto",children:rl()})]})]}),W&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Ac,{className:"mr-2"})," Editar Producto"]}),e.jsx("button",{onClick:()=>A(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),d&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:d})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"col-span-1",children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Imagen del producto"}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-600/50 border-dashed rounded-xl bg-gray-700/50 backdrop-blur-sm",children:H!=null&&H.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:H.image,alt:"Preview",className:"mx-auto h-48 w-full object-contain"}),e.jsx("button",{type:"button",onClick:()=>K({...H,image:""}),className:"absolute top-0 right-0 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:16})})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true",children:e.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),e.jsx("div",{className:"flex text-sm text-gray-400 justify-center",children:e.jsxs("label",{htmlFor:"edit-file-upload",className:"relative cursor-pointer bg-gray-800/50 rounded-xl font-medium text-cyan-400 hover:text-cyan-500 focus-within:outline-none",children:[e.jsx("span",{children:"Subir una imagen"}),e.jsx("input",{id:"edit-file-upload",name:"edit-file-upload",type:"file",className:"sr-only",onChange:ne=>ze(ne,!0),accept:"image/*"})]})}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF hasta 10MB"})]})})]}),e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Nombre del producto*"}),e.jsx("input",{type:"text",name:"name",value:(H==null?void 0:H.name)||"",onChange:ne=>K({...H,name:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: Netflix Premium 1 mes",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Categoría*"}),e.jsxs("select",{name:"category",value:(H==null?void 0:H.category)||"Netflix",onChange:ne=>K({...H,category:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Netflix",children:"Netflix"}),e.jsx("option",{value:"Spotify",children:"Spotify"}),e.jsx("option",{value:"Disney",children:"Disney+"}),e.jsx("option",{value:"Max",children:"Max"}),e.jsx("option",{value:"Prime Video",children:"Prime Video"}),e.jsx("option",{value:"Vix",children:"Vix"}),e.jsx("option",{value:"Crunchyroll",children:"Crunchyroll"}),e.jsx("option",{value:"Canva",children:"Canva"}),e.jsx("option",{value:"ChatGPT",children:"ChatGPT"}),e.jsx("option",{value:"Redes Sociales",children:"Redes Sociales"}),e.jsx("option",{value:"Dgo",children:"DGO"}),e.jsx("option",{value:"Liga Max",children:"Liga Max"}),e.jsx("option",{value:"Movistar Play",children:"Movistar Play"}),e.jsx("option",{value:"Youtube",children:"YouTube"}),e.jsx("option",{value:"Deezer",children:"Deezer"}),e.jsx("option",{value:"Tidal",children:"Tidal"}),e.jsx("option",{value:"Vpn",children:"VPN"}),e.jsx("option",{value:"WinTv",children:"WinTV"}),e.jsx("option",{value:"Apple Music",children:"Apple Music"}),e.jsx("option",{value:"Apple Tv",children:"Apple TV"}),e.jsx("option",{value:"Iptv",children:"IPTV"}),e.jsx("option",{value:"Flujo Tv",children:"Flujo TV"}),e.jsx("option",{value:"Viki Rakuten",children:"Viki Rakuten"}),e.jsx("option",{value:"Pornhub",children:"Pornhub"}),e.jsx("option",{value:"Paramount",children:"Paramount"}),e.jsx("option",{value:"Licencias",children:"Licencias"}),e.jsx("option",{value:"Capcut",children:"Capcut"}),e.jsx("option",{value:"Duolingo",children:"Duolingo"}),e.jsx("option",{value:"BuscaPersonas",children:"BuscaPersonas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Tipo de cuenta*"}),e.jsxs("select",{name:"accountType",value:(H==null?void 0:H.accountType)||"Premium",onChange:ne=>K({...H,accountType:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"Premium",children:"Premium"}),e.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Estado*"}),e.jsxs("select",{name:"status",value:(H==null?void 0:H.status)||"En stock",onChange:ne=>K({...H,status:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",children:[e.jsx("option",{value:"En stock",children:"En stock"}),e.jsx("option",{value:"A pedido",children:"A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Stock*"}),e.jsx("input",{type:"number",name:"stock",value:(H==null?void 0:H.stock)||1,onChange:Re,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",min:"1",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio (S/)*"}),e.jsx("input",{type:"number",name:"price",value:(H==null?void 0:H.price)||"",onChange:ne=>K({...H,price:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 9.99",step:"0.01",min:"0",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",name:"renewal",checked:(H==null?void 0:H.renewal)||!1,onChange:ne=>K({...H,renewal:ne.target.checked}),className:"h-4 w-4 text-cyan-400 focus:ring cyan-400 border-gray-600/50 rounded"}),e.jsx("label",{className:"ml-2 text-gray-300",children:"¿Tiene renovación?"})]})]}),(H==null?void 0:H.renewal)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Precio de renovación (S/)*"}),e.jsx("input",{type:"number",name:"renewalPrice",value:(H==null?void 0:H.renewalPrice)||"",onChange:ne=>K({...H,renewalPrice:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: 8.99",step:"0.01",min:"0",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Duración (días)"}),e.jsx("input",{type:"number",name:"duration",value:(H==null?void 0:H.duration)||"",onChange:ne=>K({...H,duration:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Dejar vacío para ilimitado",min:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-gray-300 mb-2",children:["Teléfono de contacto ",(H==null?void 0:H.status)==="A pedido"?"*":""]}),e.jsx("input",{type:"text",name:"providerPhone",value:(H==null?void 0:H.providerPhone)||"",onChange:ne=>K({...H,providerPhone:ne.target.value}),className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Ej: +51 987654321",required:(H==null?void 0:H.status)==="A pedido"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Detalles del producto"}),e.jsx("textarea",{name:"details",value:(H==null?void 0:H.details)||"",onChange:ne=>K({...H,details:ne.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Describe los detalles y características del producto"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Términos y condiciones"}),e.jsx("textarea",{name:"terms",value:(H==null?void 0:H.terms)||"",onChange:ne=>K({...H,terms:ne.target.value}),rows:"3",className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",placeholder:"Especifica los términos y condiciones de uso"})]}),(H==null?void 0:H.status)==="En stock"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Cuentas asociadas*"}),e.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Debe completar todas las cuentas según el stock indicado"}),e.jsx("div",{className:"space-y-4",children:(al=H==null?void 0:H.accounts)==null?void 0:al.map((ne,Ce)=>e.jsxs("div",{className:"border border-gray-600/50 rounded-xl p-4 bg-gray-700/50 backdrop-blur-sm",children:[e.jsxs("h4",{className:"text-sm font-medium text-white mb-3",children:["Cuenta ",Ce+1]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Correo electrónico*"}),e.jsx("input",{type:"email",value:ne.email,onChange:De=>Ie(Ce,"email",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Contraseña*"}),e.jsx("input",{type:"text",value:ne.password,onChange:De=>Ie(Ce,"password",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",value:ne.profile,onChange:De=>Ie(Ce,"profile",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"PIN (opcional)"}),e.jsx("input",{type:"text",value:ne.pin,onChange:De=>Ie(Ce,"pin",De.target.value),className:"w-full px-3 py-2 rounded-xl bg-gray-800/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all text-sm",placeholder:"Ej: 1234"})]})]})]},Ce))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:pr,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),V&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto border border-gray-700/50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[e.jsx(Ac,{className:"mr-2"})," Editar Detalles de Cuenta"]}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-300 hover:text-white",children:e.jsx(le,{size:24})})]}),O&&e.jsx("div",{className:"bg-red-900/80 border-l-4 border-red-500 p-4 mb-6 rounded-xl",children:e.jsxs("div",{className:"flex",children:[e.jsx(lt,{className:"h-5 w-5 text-red-400"}),e.jsx("p",{className:"ml-3 text-sm text-red-300",children:O})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Correo electrónico*"}),e.jsx("input",{type:"email",name:"email",value:(b==null?void 0:b.accountDetails.email)||"",onChange:Pt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Contraseña*"}),e.jsx("input",{type:"text",name:"password",value:(b==null?void 0:b.accountDetails.password)||"",onChange:Pt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"Perfil (opcional)"}),e.jsx("input",{type:"text",name:"profile",value:(b==null?void 0:b.accountDetails.profile)||"",onChange:Pt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: Perfil 1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-2",children:"PIN (opcional)"}),e.jsx("input",{type:"text",name:"pin",value:(b==null?void 0:b.accountDetails.pin)||"",onChange:Pt,className:"w-full px-4 py-2 rounded-xl bg-gray-700/50 text-white border border-gray-600/50 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all",placeholder:"Ej: 1234"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>M(!1),className:"px-4 py-2 bg-gray-700/50 text-gray-300 rounded-xl hover:bg-gray-600/50 transition-all duration-300",children:"Cancelar"}),e.jsx("button",{onClick:Kn,className:"px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white font-medium rounded-xl transition-all duration-300",children:"Guardar Cambios"})]})]})]})}),B.open&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:e.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm p-6 rounded-2xl shadow-xl max-w-md w-full mx-4 border border-gray-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zi,{className:"mx-auto text-4xl text-green-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"¡Éxito!"}),e.jsx("p",{className:"text-gray-300 mb-4",children:B.message}),e.jsx("button",{onClick:()=>X({open:!1,message:""}),className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all duration-300",children:"Aceptar"})]})})})]})},WD=({isOpen:s,message:t,type:r,onClose:a})=>s?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:`bg-gray-800 p-6 rounded-lg shadow-lg max-w-sm w-full border ${r==="success"?"border-green-500":"border-red-500"}`,children:[e.jsx("h3",{className:`text-lg font-bold mb-2 ${r==="success"?"text-green-400":"text-red-400"}`,children:r==="success"?"Éxito":"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:t}),e.jsx("button",{onClick:a,className:`w-full py-2 rounded-lg ${r==="success"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"} text-white transition-colors`,children:"Cerrar"})]})}):null,GD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState("inicio"),[i,o]=j.useState(""),[l,c]=j.useState(""),[x,f]=j.useState(0),[N,I]=j.useState([]),[S,D]=j.useState([]),[g,L]=j.useState([]),[v,_]=j.useState([]),[z,R]=j.useState([]),[H,K]=j.useState([]),[W,A]=j.useState([]),[d,q]=j.useState({day:0,week:0,month:0,total:0}),[B,X]=j.useState(!0),[E,U]=j.useState({}),[Ae,Se]=j.useState(null),[Te,Le]=j.useState(""),[de,ge]=j.useState({isOpen:!1,message:"",type:"success"}),[me,Q]=j.useState(!1),se=ut();j.useEffect(()=>{const Y=vt(Oe,J=>{!J&&!me?se("/login"):J&&(c(J.email),n(J.uid),X(!1))});return()=>Y()},[se,me]);const n=async Y=>{try{const J=$(C,"users",Y),ie=await Ue(J);if(ie.exists()){const ee=ie.data();o(ee.username||ee.email.split("@")[0])}else Se("Usuario no encontrado en la base de datos")}catch(J){console.error("Error al obtener el nombre de usuario:",J),Se("Error al cargar datos del usuario")}},y=Y=>{const ie=Y*5,ee=ie*.25,ae=ie*.05;q({day:ae,week:ee,month:ie,total:ie})};j.useEffect(()=>{(async()=>{try{const be=await dt(Z(C,"users")),xe=be.size,ze=be.docs.map(Tt=>({id:Tt.id,...Tt.data()}));f(xe),I(ze.slice(-5)),D(ze),y(xe);const ke=pe(Z(C,"pendingRegistrations"),fe("status","==","pending")),Re=await dt(ke);L(Re.docs.map(Tt=>({id:Tt.id,...Tt.data()})));const ye=pe(Z(C,"pendingTopUps"),fe("status","==","pendiente")),Ie=await dt(ye);_(Ie.docs.map(Tt=>({id:Tt.id,...Tt.data()})));const Pt=pe(Z(C,"withdrawals"),fe("status","==","pending")),rs=(await dt(Pt)).docs.map(Tt=>({id:Tt.id,...Tt.data()}));R(rs);const pr=await dt(Z(C,"topUpsHistory"));K(pr.docs.map(Tt=>({id:Tt.id,...Tt.data()})));const Ds=await dt(Z(C,"withdrawalsHistory"));A(Ds.docs.map(Tt=>({id:Tt.id,...Tt.data()})))}catch(be){console.error("Error al obtener datos:",be),Se("Error al cargar datos")}})();const J=we(Z(C,"users"),be=>{const xe=be.size,ze=be.docs.map(ke=>({id:ke.id,...ke.data()}));f(xe),I(ze.slice(-5)),D(ze),y(xe)}),ie=we(pe(Z(C,"pendingRegistrations"),fe("status","==","pending")),be=>{L(be.docs.map(xe=>({id:xe.id,...xe.data()})))}),ee=we(pe(Z(C,"pendingTopUps"),fe("status","==","pendiente")),be=>{_(be.docs.map(xe=>({id:xe.id,...xe.data()})))}),ae=we(pe(Z(C,"withdrawals"),fe("status","==","pending")),be=>{const xe=be.docs.map(ze=>({id:ze.id,...ze.data()}));R(xe)}),ce=we(Z(C,"topUpsHistory"),be=>{K(be.docs.map(xe=>({id:xe.id,...xe.data()})))}),ue=we(Z(C,"withdrawalsHistory"),be=>{A(be.docs.map(xe=>({id:xe.id,...xe.data()})))});return()=>{J(),ie(),ee(),ae(),ce(),ue()}},[]);const m=async Y=>{try{U(ae=>({...ae,[Y]:!0}));const J=$(C,"withdrawals",Y),ie=z.find(ae=>ae.id===Y);if(!(ie!=null&&ie.providerId))throw new Error("Proveedor no encontrado para el retiro");await Es(J,{status:"approved",updatedAt:Dt()});const ee=$(C,"users",ie.providerId);await Es(ee,{balance:Ge(-ie.amount||0)}),await or($(C,"withdrawalsHistory",Y),{...ie,status:"approved",updatedAt:Dt()}),Se(null),ge({isOpen:!0,message:"Retiro aprobado exitosamente",type:"success"})}catch(J){console.error("Error al aprobar retiro:",J),Se(J.message||"Error al aprobar el retiro"),ge({isOpen:!0,message:J.message||"Error al aprobar el retiro",type:"error"})}finally{U(J=>({...providerRef,[Y]:!1}))}},P=async Y=>{try{U(ee=>({...ee,[Y]:!0}));const J=$(C,"withdrawals",Y);await Es(J,{status:"denied",updatedAt:Dt()});const ie=z.find(ee=>ee.id===Y);await or($(C,"withdrawalsHistory",Y),{...ie,status:"denied",updatedAt:Dt()}),Se(null),ge({isOpen:!0,message:"Retiro rechazado exitosamente",type:"success"})}catch(J){console.error("Error al rechazar retiro:",J),Se(J.message||"Error al rechazar el retiro"),ge({isOpen:!0,message:J.message||"Error al rechazar el retiro",type:"error"})}finally{U(J=>({...J,[Y]:!1}))}},F=async Y=>{try{U(ae=>({...ae,[Y]:!0}));const J=$(C,"pendingTopUps",Y),ie=v.find(ae=>ae.id===Y);if(!(ie!=null&&ie.userId))throw new Error("Usuario no encontrado para la recarga");await Es(J,{status:"aprobado",updatedAt:Dt()});const ee=$(C,"users",ie.userId);await Es(ee,{balance:Ge(ie.amount||0)}),await or($(C,"topUpsHistory",Y),{...ie,status:"aprobado",updatedAt:Dt()}),Se(null),ge({isOpen:!0,message:"Recarga aprobada exitosamente",type:"success"})}catch(J){console.error("Error al aprobar recarga:",J),Se(J.message||"Error al aprobar la recarga"),ge({isOpen:!0,message:J.message||"Error al aprobar la recarga",type:"error"})}finally{U(J=>({...J,[Y]:!1}))}},te=async Y=>{try{U(ee=>({...ee,[Y]:!0}));const J=$(C,"pendingTopUps",Y);await Es(J,{status:"rechazado",updatedAt:Dt()});const ie=v.find(ee=>ee.id===Y);await or($(C,"topUpsHistory",Y),{...ie,status:"rechazado",updatedAt:Dt()}),Se(null),ge({isOpen:!0,message:"Recarga rechazada exitosamente",type:"success"})}catch(J){console.error("Error al rechazar recarga:",J),Se(J.message||"Error al rechazar la recarga"),ge({isOpen:!0,message:J.message||"Error al rechazar la recarga",type:"error"})}finally{U(J=>({...J,[Y]:!1}))}},w=async Y=>{try{U(ue=>({...ue,[Y]:!0})),Q(!0);const J=$(C,"pendingRegistrations",Y),ie=g.find(ue=>ue.id===Y);if(!ie)throw new Error("Solicitud no encontrada");if((await x8(Oe,ie.email)).length>0)throw new Error("El correo ya está registrado");const ce=(await c8(Oe,ie.email,ie.password)).user;await or($(C,"users",ce.uid),{username:ie.username,email:ie.email,role:ie.role||"usuario",balance:0,createdAt:Dt()}),await Es(J,{status:"approved",updatedAt:Dt()}),await _o(Oe),Se(null),ge({isOpen:!0,message:"Solicitud de registro aprobada exitosamente",type:"success"})}catch(J){console.error("Error al aceptar solicitud:",J),Se(J.message||"Error al aceptar la solicitud de registro"),ge({isOpen:!0,message:J.message||"Error al aceptar la solicitud de registro",type:"error"})}finally{U(J=>({...J,[Y]:!1})),Q(!1)}},V=async Y=>{try{U(ie=>({...ie,[Y]:!0}));const J=$(C,"pendingRegistrations",Y);await Es(J,{status:"denied",updatedAt:Dt()}),Se(null),ge({isOpen:!0,message:"Solicitud de registro rechazada exitosamente",type:"success"})}catch(J){console.error("Error al rechazar solicitud:",J),Se(J.message||"Error al rechazar la solicitud de registro"),ge({isOpen:!0,message:J.message||"Error al rechazar la solicitud de registro",type:"error"})}finally{U(J=>({...J,[Y]:!1}))}},M=async()=>{try{await _o(Oe),se("/")}catch(Y){console.error("Error al cerrar sesión:",Y),Se(Y.message||"Error al cerrar sesión"),ge({isOpen:!0,message:Y.message||"Error al cerrar sesión",type:"error"})}},b=async Y=>{Y.preventDefault();try{U(ae=>({...ae,config:!0}));const J=Oe.currentUser;if(!J)throw new Error("Usuario no autenticado");const ie=$(C,"users",J.uid);await Es(ie,{username:i,updatedAt:Dt()});const ee=Y.target.password.value;if(ee){if(ee.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");await e2(J,ee)}Se(null),ge({isOpen:!0,message:"Cambios guardados exitosamente",type:"success"})}catch(J){console.error("Error al guardar cambios:",J),Se(J.message||"Error al guardar cambios"),ge({isOpen:!0,message:J.message||"Error al guardar cambios",type:"error"})}finally{U(J=>({...J,config:!1}))}},p=Y=>{if(!Y)return"No especificada";try{const J=Y.toDate?Y.toDate():new Date(Y);return isNaN(J.getTime())?"Fecha inválida":J.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Fecha inválida"}},O=()=>{if(B)return e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan-500"})});if(Ae)return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-center max-w-2xl mx-auto",children:[e.jsx(lt,{className:"mx-auto text-4xl text-red-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-4",children:Ae}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Recargar"})]});switch(r){case"inicio":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Bienvenido, ",e.jsx("span",{className:"text-cyan-400",children:i})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Información de cuenta"}),e.jsxs("div",{className:"space-y-2 text-gray-300",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx(Be,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:i})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx(Mr,{className:"mr-2 text-cyan-400"}),e.jsx("span",{children:l})]})]})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Ganancias del mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",d.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-1",children:"(5 soles por cada usuario)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-3",children:"Usuarios registrados"}),e.jsx("p",{className:"text-3xl font-bold text-white",children:x}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Total ganancias: S/ ",d.total.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Últimos usuarios"}),N.length>0?N.map(Y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Y.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-cyan-900 text-cyan-400",children:Y.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:Y.email})]},Y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay usuarios registrados"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Solicitudes pendientes"}),g.length>0?g.slice(0,3).map(Y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Y.username||"Sin nombre"}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-purple-900 text-purple-400",children:Y.role||"usuario"})]}),e.jsx("p",{className:"text-sm text-gray-400",children:Y.email})]},Y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay solicitudes pendientes"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Retiros pendientes"}),z.length>0?z.slice(0,3).map(Y=>e.jsxs("div",{className:"border-b border-gray-600 py-3 last:border-0 hover:bg-gray-600 transition-colors rounded-lg px-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-medium text-white",children:Y.provider||"Sin proveedor"}),e.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-900 text-yellow-400",children:["S/ ",(Y.amount||0).toFixed(2)]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Método: ",Y.method||"No especificado"]})]},Y.id)):e.jsx("p",{className:"text-gray-400 py-2",children:"No hay retiros pendientes"})]})]})]});case"usuarios":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Solicitudes de registro"}),g.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Acciones"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:g.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900 text-cyan-400",children:Y.role||"usuario"})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>w(Y.id),disabled:E[Y.id],className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:bg-green-800",title:"Aceptar",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(td,{size:16})}),e.jsx("button",{onClick:()=>V(Y.id),disabled:E[Y.id],className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:bg-red-800",title:"Rechazar",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white rounded-full border-t-transparent"}):e.jsx(le,{size:16})})]})})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay solicitudes de registro pendientes"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-white",children:["Todos los usuarios (",x,")"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar usuarios...",className:"px-4 py-2 rounded-full bg-gray-700 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 transition-all text-sm",value:Te,onChange:Y=>Le(Y.target.value)}),e.jsx(_0,{className:"absolute right-3 top-2.5 text-gray-400"})]})]}),S.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Saldo"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:S.filter(Y=>(Y.username||"").toLowerCase().includes(Te.toLowerCase())||(Y.email||"").toLowerCase().includes(Te.toLowerCase())).map(Y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.username||"Sin nombre"}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.email}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-cyan-900 text-cyan-400",children:Y.role||"usuario"})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(Y.balance||0).toFixed(2)]})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ql,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay usuarios registrados"})]})]})]});case"recargas":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Recargas pendientes"}),v.length>0?e.jsx("div",{className:"space-y-4",children:v.map(Y=>e.jsxs("div",{className:"border border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"bg-gray-700 px-4 py-3 border-b border-gray-600 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-900 rounded-full flex items-center justify-center text-cyan-400",children:e.jsx(ds,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:Y.username||"Sin nombre"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",p(Y.requestedAt)]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(Y.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>F(Y.id),disabled:E[Y.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-green-800 transition-colors",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(td,{size:18})," Aprobar Recarga"]})}),e.jsx("button",{onClick:()=>te(Y.id),disabled:E[Y.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-red-800 transition-colors",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Recarga"]})})]})})]},Y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay recargas pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Historial de recargas"}),H.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Usuario"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:H.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.username||"Sin nombre"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(Y.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.status==="aprobado"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:Y.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:p(Y.updatedAt)})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de recargas"})]})]})]});case"retiros":return e.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Solicitudes de retiro"}),z.length>0?e.jsx("div",{className:"space-y-4",children:z.map(Y=>e.jsxs("div",{className:"border border-gray-600 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"bg-gray-700 px-4 py-3 border-b border-gray-600 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-900 rounded-full flex items-center justify-center text-yellow-400",children:e.jsx(ds,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-white",children:Y.provider||"Sin proveedor"}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Email: ",Y.providerEmail||"No disponible"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Solicitado: ",p(Y.createdAt)]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Método: ",Y.method||"No especificado"]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Cuenta: ",Y.account||"No especificada"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-medium text-white",children:["S/ ",(Y.amount||0).toFixed(2)]})})]}),e.jsx("div",{className:"p-4 bg-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:()=>m(Y.id),disabled:E[Y.id],className:"flex-1 bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-green-800 transition-colors",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(td,{size:18})," Aprobar Retiro"]})}),e.jsx("button",{onClick:()=>P(Y.id),disabled:E[Y.id],className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 px-4 rounded-lg flex items-center justify-center gap-2 disabled:bg-red-800 transition-colors",children:E[Y.id]?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent"}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:18})," Rechazar Retiro"]})})]})})]},Y.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("h4",{className:"text-lg font-medium text-gray-300",children:"No hay retiros pendientes"}),e.jsx("p",{className:"text-gray-400",children:"Todas las solicitudes han sido procesadas"})]})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Historial de retiros"}),W.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Proveedor"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Monto"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Estado"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Fecha"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Método"})]})}),e.jsx("tbody",{className:"bg-gray-800 divide-y divide-gray-600",children:W.map(Y=>e.jsxs("tr",{className:"hover:bg-gray-700 transition-colors",children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:Y.provider||"Sin proveedor"}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap text-white",children:["S/ ",(Y.amount||0).toFixed(2)]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Y.status==="approved"?"bg-green-900 text-green-400":"bg-red-900 text-red-400"}`,children:Y.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:p(Y.updatedAt)}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-gray-300",children:Y.method||"No especificado"})]},Y.id))})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ds,{className:"mx-auto text-4xl text-gray-400 mb-3"}),e.jsx("p",{className:"text-gray-300",children:"No hay historial de retiros"})]})]})]});case"ganancias":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-6xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Reporte de ganancias"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias hoy"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",d.day.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por usuario)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias esta semana"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",d.week.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(25% del total de usuarios)"})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 text-center",children:[e.jsx("h4",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Ganancias este mes"}),e.jsxs("p",{className:"text-3xl font-bold text-white",children:["S/ ",d.month.toFixed(2)]}),e.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"(5 soles por cada usuario)"})]})]}),e.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-6 shadow-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white",children:"Resumen de ganancias"}),e.jsxs("span",{className:"px-3 py-1 bg-cyan-900 text-cyan-400 rounded-full text-sm",children:["Total: S/ ",d.total.toFixed(2)]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-600",children:[e.jsx("thead",{className:"bg-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Concepto"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Valor"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Cálculo"})]})}),e.jsxs("tbody",{className:"bg-gray-700 divide-y divide-gray-600",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias por usuario"}),e.jsx("td",{className:"px-4 py-3 text-white",children:"S/ 5.00"}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Fijo por cada usuario registrado"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Total usuarios"}),e.jsx("td",{className:"px-4 py-3 text-white",children:x}),e.jsx("td",{className:"px-4 py-3 text-gray-400",children:"Usuarios activos en el sistema"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-gray-300",children:"Ganancias totales"}),e.jsxs("td",{className:"px-4 py-3 text-white",children:["S/ ",d.total.toFixed(2)]}),e.jsxs("td",{className:"px-4 py-3 text-gray-400",children:[x," usuarios × S/ 5.00"]})]})]})]})})]})]});case"configuracion":return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md max-w-2xl mx-auto",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Configuración de cuenta"}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nombre de usuario"}),e.jsx("input",{type:"text",value:i,onChange:Y=>o(Y.target.value),className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Correo electrónico"}),e.jsx("input",{type:"email",value:l,readOnly:!0,className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-gray-400 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 mb-1",children:"Nueva contraseña (opcional)"}),e.jsx("input",{type:"password",name:"password",placeholder:"Nueva contraseña",className:"w-full px-4 py-2 border border-gray-600 bg-gray-700 text-white rounded-lg focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500"})]}),e.jsx("button",{type:"submit",disabled:E.config,className:"w-full py-3 px-4 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium mt-4 transition-colors disabled:bg-cyan-800",children:E.config?e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white rounded-full border-t-transparent mx-auto"}):"Guardar cambios"})]})]});default:return e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg shadow-md text-center max-w-2xl mx-auto",children:[e.jsx(lt,{className:"mx-auto text-4xl text-yellow-500 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Sección no encontrada"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"La sección que estás buscando no existe o no está disponible."}),e.jsx("button",{onClick:()=>a("inicio"),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700",children:"Volver al inicio"})]})}};return e.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200",children:[e.jsx("div",{className:"md:hidden fixed top-4 left-4 z-50",children:e.jsx("button",{onClick:()=>t(!s),className:"p-2 rounded-lg bg-gray-800 hover:bg-gray-700 focus:outline-none",children:e.jsx(wt,{className:"text-xl"})})}),e.jsx("aside",{className:`fixed inset-y-0 left-0 transform ${s?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 bg-gray-800 overflow-y-auto`,children:e.jsxs("div",{className:"p-4 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-xl font-bold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"md:hidden p-1 rounded-lg hover:bg-gray-700",children:e.jsx(le,{className:"text-lg"})})]}),e.jsxs("div",{className:"flex items-center space-x-3 mb-8 p-3 bg-gray-700 rounded-lg",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center text-white font-bold",children:i.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:i}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:l})]})]}),e.jsxs("nav",{className:"flex-1 space-y-1",children:[e.jsxs("button",{onClick:()=>a("inicio"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="inicio"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(_u,{})," ",e.jsx("span",{children:"Inicio"})]}),e.jsxs("button",{onClick:()=>a("recargas"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="recargas"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(ds,{})," ",e.jsx("span",{children:"Recargas"})]}),e.jsxs("button",{onClick:()=>a("retiros"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="retiros"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(ZC,{})," ",e.jsx("span",{children:"Retiros"})]}),e.jsxs("button",{onClick:()=>a("usuarios"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="usuarios"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(ql,{})," ",e.jsx("span",{children:"Usuarios"})]}),e.jsxs("button",{onClick:()=>a("ganancias"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="ganancias"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(th,{})," ",e.jsx("span",{children:"Ganancias"})]}),e.jsxs("button",{onClick:()=>a("configuracion"),className:`w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${r==="configuracion"?"bg-cyan-900 text-white":"text-gray-300 hover:bg-gray-700"}`,children:[e.jsx(go,{})," ",e.jsx("span",{children:"Configuración"})]})]}),e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("button",{onClick:M,className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",children:[e.jsx(gt,{})," ",e.jsx("span",{children:"Cerrar sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 p-4 pt-20 md:pt-4",children:O()}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>t(!1)}),e.jsx(WD,{isOpen:de.isOpen,message:de.message,type:de.type,onClose:()=>ge({isOpen:!1,message:"",type:"success"})})]})},HD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Netflix")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",accountType:p.accountType||"No especificado",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,netflix:M.length}))},w=>{D("Error al cargar productos de Netflix"),console.error(w)}),m=pe(Z(C,"netflix_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"netflix"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"netflix"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Netflix`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Netflix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Netflix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Netflix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},QD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Disney")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",accountType:p.accountType||"No especificado",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,disney:M.length}))},w=>{D("Error al cargar productos de Disney"),console.error(w)}),m=pe(Z(C,"disney_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"disney"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"disney"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Disney`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Disney+...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-blue-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9f3046f1e8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Disney+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas, series y contenido exclusivo con nuestras cuentas premium de Disney+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-blue-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.accountType})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},KD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Max")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",accountType:p.accountType||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,max:M.length}))},w=>{D("Error al cargar productos de Max"),console.error(w)}),m=pe(Z(C,"max_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"max"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"max"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Max`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-purple-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-purple-500 text-white rounded-full hover:bg-purple-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-purple-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-purple-400 focus:border-purple-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-purple-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-purple-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-purple-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-purple-600/80 hover:bg-purple-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-purple-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-purple-500 text-white hover:bg-purple-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-purple-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-purple-600/30 text-white border border-purple-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-purple-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType||"Premium"," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-purple-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700":"bg-purple-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-purple-400 focus:border-purple-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-purple-400 focus:ring-purple-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-purple-400 hover:text-purple-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este RIDODO, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-purple-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},YD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Spotify")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,spotify:M.length}))},w=>{D("Error al cargar productos de Spotify"),console.error(w)}),m=pe(Z(C,"spotify_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"spotify"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"spotify"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Spotify`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Spotify...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-400 focus:border-green-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-green-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-green-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Spotify"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha tu música favorita sin límites con nuestras cuentas premium de Spotify"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-400 focus:border-green-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-400 focus:ring-green-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},JD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Prime Video")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",accountType:p.accountType||"No especificado",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,primevideo:M.length}))},w=>{D("Error al cargar productos de Prime Video"),console.error(w)}),m=pe(Z(C,"primevideo_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"primevideo"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"primevideo"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms,accountType:n.accountType})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider,accountType:n.accountType}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Prime Video`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Prime Video...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-yellow-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-600/80 hover:bg-yellow-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-yellow-500 text-white hover:bg-yellow-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-600/30 text-white border border-yellow-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-yellow-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1596755094514-40be00b5601e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-yellow-400 mb-3 drop-shadow-lg",children:"Cuentas Premium de Prime Video"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus películas y series favoritas con nuestras cuentas premium de Prime Video"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-yellow-400",size:16}),e.jsxs("span",{className:"text-gray-400",children:[n.accountType," "]})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-yellow-500 to-yellow-600 hover:from-yellow-600 hover:to-yellow-700":"bg-yellow-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Tipo de cuenta:"}),e.jsx("p",{className:"text-gray-300",children:v.accountType})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms,accountType:v.accountType})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Tipo de cuenta: ",v.accountType]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},XD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Vix")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,vix:M.length}))},w=>{D("Error al cargar productos de Vix"),console.error(w)}),m=pe(Z(C,"vix_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"vix"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vix"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Vix`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Vix...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-red-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Vix"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus series y películas favoritas con nuestras cuentas premium de Vix"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},ZD=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Canva")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,canva:M.length}))},w=>{D("Error al cargar productos de Canva"),console.error(w)}),m=pe(Z(C,"canva_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"canva"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"canva"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Canva`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-teal-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-teal-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Canva...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-400 focus:border-teal-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-teal-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-teal-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-teal-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321310764-9f6b8b7f9a0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Canva"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea diseños impresionantes con nuestras cuentas premium de Canva Pro"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-teal-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-teal-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-400 focus:border-teal-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-400 focus:ring-teal-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},eA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","ChatGPT")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,chatgpt:M.length}))},w=>{D("Error al cargar productos de ChatGPT"),console.error(w)}),m=pe(Z(C,"chatgpt_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"chatgpt"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"chatgpt"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=ChatGPT`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-teal-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-teal-500 text-white rounded-full hover:bg-teal-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-teal-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en ChatGPT...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-teal-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-teal-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-teal-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-teal-600/80 hover:bg-teal-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-teal-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-teal-500 text-white hover:bg-teal-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-teal-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-teal-600/30 text-white border border-teal-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-teal-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-teal-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de ChatGPT"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Potencia tu creatividad y productividad con nuestras cuentas premium de ChatGPT"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-teal-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-teal-500 to-teal-600 hover:from-teal-600 hover:to-teal-700":"bg-teal-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-teal-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-teal-500 focus:ring-teal-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-teal-400 hover:text-teal-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-teal-500 text-white rounded-xl hover:bg-teal-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-teal-500 text-white rounded-xl hover:bg-teal-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-teal-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},tA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Crunchyroll")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,crunchyroll:M.length}))},w=>{D("Error al cargar productos de Crunchyroll"),console.error(w)}),m=pe(Z(C,"crunchyroll_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"crunchyroll"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"crunchyroll"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Crunchyroll`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-orange-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Crunchyroll...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-orange-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1618336753974-8d9c4c6c6e38?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Crunchyroll"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de anime, manga y series exclusivas con nuestras cuentas premium de Crunchyroll"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-'arrivo truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-orange-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-orange-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700":"bg-orange-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-orange-400 focus:border-orange-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-orange-400 focus:ring-orange-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-orange-400 hover:text-orange-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-orange-500 text-white rounded-xl hover:bg-orange-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-orange-500 text-white rounded-xl hover:bg-orange-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-orange-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},sA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Redes Sociales")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,redessociales:M.length}))},w=>{D("Error al cargar productos de Redes Sociales"),console.error(w)}),m=pe(Z(C,"redessociales_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"redessociales"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"redessociales"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Redes Sociales`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Redes Sociales...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-pink-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-pink-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Redes Sociales"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Conecta y destaca con nuestras cuentas premium de redes sociales"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-pink-400 hover:text-pink-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},rA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=se=>{const n=Number(se);return isNaN(n)?"0.00":n.toFixed(2)};j.useEffect(()=>{const se=vt(Oe,async n=>{if(n)try{const y=await Ue($(C,"users",n.uid));if(y.exists()){const m=y.data();c({id:n.uid,name:m.username||"Usuario",email:n.email,orders:m.orders||[],role:m.role||"user"}),f(Number(m.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(y){D("Error al cargar datos del usuario"),console.error(y)}else c(null),f(0);I(!1)});return()=>se()},[]),j.useEffect(()=>{const se=pe(Z(C,"products"),fe("category","==","Apple Music")),n=we(se,async te=>{const w=te.docs.map(M=>{const b=M.data();return{id:M.id,...b,price:Number(b.price)||0,stock:Number(b.availableAccounts)||0,accountDetails:b.details||"Detalles no disponibles",terms:b.terms||"Términos del proveedor",provider:b.provider||"Proveedor no especificado",providerId:b.providerId||"",providerPhone:b.providerPhone||"",acceptsOrders:b.status==="A pedido",duration:b.duration||"1 mes",type:b.type||"Premium",status:b.status||"En stock"}}),V=await Promise.all(w.map(async M=>{if(!M.provider||M.provider==="Proveedor no especificado")try{if(M.providerId){const b=await Ue($(C,"users",M.providerId));if(b.exists())return{...M,provider:b.data().username||b.data().email||M.provider,providerPhone:b.data().phoneNumber||M.providerPhone}}}catch(b){console.error("Error al cargar datos del proveedor:",b)}return M}));a(V),q(M=>({...M,applemusic:V.length}))},te=>{D("Error al cargar productos de Apple Music"),console.error(te)}),y=pe(Z(C,"applemusic_accounts"),fe("status","==","available")),m=we(y,te=>{const w=te.docs.map(V=>({id:V.id,...V.data(),productId:V.data().productId||"",providerId:V.data().providerId||""}));o(w)},te=>{console.error("Error al cargar cuentas:",te)}),F=["Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas","Netflix"].map(te=>{const w=te.toLowerCase().replace(/\s+/g,""),V=pe(Z(C,"products"),fe("category","==",te));return we(V,M=>{q(b=>({...b,[w]:M.docs.length}))},M=>{console.error(`Error al cargar productos de ${te}:`,M)})});return()=>{n(),m(),F.forEach(te=>te())}},[]);const Ae=se=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<se.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!se.providerId||se.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:se,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const se=g.product;if(!se.providerId||se.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let n=null;se.status==="En stock"?n=await Ze(C,async y=>{const m=$(C,"products",se.id),P=await y.get(m);if(!P.exists())throw new Error("Producto no encontrado");if(P.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const te=Z(C,`products/${se.id}/accounts`),w=pe(te,fe("status","==","available"),It(1)),V=await dt(w);if(V.empty)throw new Error("No hay cuentas disponibles en la subcolección");const M=V.docs[0],b=M.ref,p=M.data(),O=$(C,"users",l.id),Y=await y.get(O);if(!Y.exists())throw new Error("Usuario no encontrado");let J=null,ie=se.providerPhone||"";if(se.providerId&&!ie){const xe=$(C,"users",se.providerId);J=await y.get(xe),J.exists()&&(ie=J.data().phoneNumber||"")}y.update(b,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),y.update(m,{availableAccounts:Ge(-1),stock:Ge(-1)});const ae=(Number(Y.data().balance)||0)-se.price;if(ae<0)throw new Error("Saldo insuficiente");const ce=Y.data().orders||[],ue={productId:se.id,productName:se.name,price:se.price,provider:se.provider,providerId:se.providerId,providerPhone:ie,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:p.email||"No proporcionado",password:p.password||"No proporcionado",profile:p.profile||"No proporcionado"},terms:se.terms,type:"applemusic"};y.update(O,{balance:ae,orders:[...ce,ue]});const be=$(Z(C,"sales"));if(y.set(be,{...ue,provider:se.provider,providerId:se.providerId,providerPhone:ie,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:p.email||"No proporcionado",password:p.password||"No proporcionado",profile:p.profile||"No proporcionado"}}),J&&J.exists()){const xe=J.data().sales||[],ze={saleId:be.id,productId:se.id,productName:se.name,price:se.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:p.email||"No proporcionado",password:p.password||"No proporcionado",profile:p.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed"};y.update($(C,"users",se.providerId),{sales:[...xe,ze]})}return p}):await Ze(C,async y=>{const m=$(C,"users",l.id),P=await y.get(m);if(!P.exists())throw new Error("Usuario no encontrado");let F=null,te=se.providerPhone||"";if(se.providerId&&!te){const O=$(C,"users",se.providerId);F=await y.get(O),F.exists()&&(te=F.data().phoneNumber||"")}const V=(Number(P.data().balance)||0)-se.price;if(V<0)throw new Error("Saldo insuficiente");const M=P.data().orders||[],b={productId:se.id,productName:se.name,price:se.price,provider:se.provider,providerId:se.providerId,providerPhone:te,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:se.terms,type:"applemusic"};y.update(m,{balance:V,orders:[...M,b]});const p=$(Z(C,"sales"));if(y.set(p,{...b,provider:se.provider,providerId:se.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"pending"}),F&&F.exists()){const O=F.data().sales||[],Y={saleId:p.id,productId:se.id,productName:se.name,price:se.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending"};y.update($(C,"users",se.providerId),{sales:[...O,Y]})}}),f(y=>y-se.price),c(y=>({...y,orders:[...y.orders,{...g,status:se.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:se.status==="En stock"?{email:(n==null?void 0:n.email)||"No proporcionado",password:(n==null?void 0:n.password)||"No proporcionado",profile:(n==null?void 0:n.profile)||"No proporcionado"}:null}]})),L(null),A({message:se.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(se){D(se.message||"Error al procesar la compra"),console.error("Error en la compra:",se)}finally{I(!1)}},Te=se=>{_({name:se.name,accountDetails:se.accountDetails,provider:se.provider,terms:se.terms})},Le=se=>{_({name:se.name,terms:se.terms,provider:se.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=se=>{se.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Apple Music`)},me=r.filter(se=>se.name.toLowerCase().includes(B.toLowerCase())),Q=se=>se.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"A pedido"})}):se.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wider",children:["En stock: ",se.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-32 h-10 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-8 translate-y-4 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Agotado"})});return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-blue-950 text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:se=>X(se.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-cyan-600/30 text-white border border-cyan-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-cyan-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-blue-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Apple Music"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita con nuestras cuentas premium de Apple Music"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 gap-4 sm:gap-6 w-full",children:me.map(se=>e.jsxs("div",{className:"bg-gray-800/70 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 w-full border border-gray-700/50 flex flex-col p-4",children:[e.jsxs("div",{className:"relative w-full aspect-square min-h-48 max-h-96 overflow-hidden bg-gray-900",children:[e.jsx("img",{src:se.image||"https://via.placeholder.com/300",alt:se.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-110"}),Q(se)]}),e.jsxs("div",{className:"p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-3",children:se.name}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-4",children:[e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Proveedor:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:se.provider})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Duración:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:se.duration||"1 mes"})]}),e.jsxs("p",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-gray-400",children:"Tipo:"}),e.jsx("span",{className:"ml-2 text-gray-200",children:se.type||"Premium"})]})]}),e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(se.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mb-3",children:[e.jsxs("button",{onClick:()=>Te(se),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(St,{className:"mr-2"})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(se),className:"flex-1 py-2 px-4 bg-gray-800/50 hover:bg-gray-700/50 text-white rounded-full text-sm flex items-center justify-center transition-all border border-gray-700/50",children:[e.jsx(We,{className:"mr-2"})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(se),disabled:se.status==="En stock"&&se.stock<=0,className:`w-full py-3 rounded-full flex items-center justify-center transition-all text-white font-medium text-sm ${se.status==="A pedido"||se.stock>0?"bg-cyan-500 hover:bg-cyan-600":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2"}),se.status==="A pedido"?"Pedir":se.stock>0?"Comprar":"Agotado"]})]})]},se.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:se=>L(n=>({...n,customerName:se.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:se=>L(n=>({...n,phoneNumber:se.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:["removing duplicate code here for brevity",e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:v.accountDetails})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},aA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Apple Tv")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,appletv:M.length}))},w=>{D("Error al cargar productos de Apple TV"),console.error(w)}),m=pe(Z(C,"appletv_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"appletv"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"appletv"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Apple Tv`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-gray-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-gray-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-gray-400 focus:border-gray-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-gray-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-gray-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-gray-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-gray-600/80 hover:bg-gray-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-gray-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-gray-500 text-white hover:bg-gray-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-gray-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-gray-600/30 text-white border border-gray-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-400"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1485846234645-a62644f84728?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Apple TV+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de series y películas originales con Apple TV+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Apple TV+ Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-gray-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-gray-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700":"bg-gray-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-gray-400 focus:border-gray-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-gray-400 focus:ring-gray-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-gray-400 hover:text-gray-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripción:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu suscripción."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu suscripción durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la suscripción adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},nA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Iptv")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,iptv:M.length}))},w=>{D("Error al cargar productos de IPTV"),console.error(w)}),m=pe(Z(C,"iptv_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"iptv"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"iptv"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=IPTV`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-cyan-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-cyan-500 text-white rounded-full hover:bg-cyan-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-cyan-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en IPTV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-cyan-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-cyan-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-cyan-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-cyan-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-cyan-500 text-white hover:bg-cyan-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-cyan-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-cyan-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-cyan-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-cyan-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1522869635100-9f4c5e86aa37?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Suscripciones Premium de IPTV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de una amplia variedad de canales y contenido en vivo con nuestras suscripciones premium de IPTV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4"}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-cyan-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-600 to-cyan-500 hover:from-blue-700 hover:to-cyan-600":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-cyan-400 focus:border-cyan-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-cyan-400 focus:ring-cyan-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-cyan-400 hover:text-cyan-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-cyan-500 text-white rounded-xl hover:bg-cyan-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},iA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Flujo Tv")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,flujotv:M.length}))},w=>{D("Error al cargar productos de Flujo TV"),console.error(w)}),m=pe(Z(C,"flujotv_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"flujotv"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"flujotv"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Flujo Tv`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Flujo TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Flujo TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus programas y películas favoritas con nuestras cuentas premium de Flujo TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-red-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-500 focus:ring-red-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-500 hover:text-red-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"ConcurrentModificationException justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},lA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Viki Rakuten")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,vikirakuten:M.length}))},w=>{D("Error al cargar productos de Viki Rakuten"),console.error(w)}),m=pe(Z(C,"vikirakuten_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"vikirakuten"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vikirakuten"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Viki Rakuten`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Viki Rakuten...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-pink-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Viki Rakuten"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de los mejores dramas asiáticos y entretenimiento global con nuestras cuentas premium de Viki Rakuten"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},oA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Pornhub")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,pornhub:M.length}))},w=>{D("Error al cargar productos de Pornhub"),console.error(w)}),m=pe(Z(C,"pornhub_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"pornhub"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"pornhub"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Pornhub`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-700 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-700 text-white rounded-full hover:bg-red-800 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-700 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Pornhub...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-700 focus:border-red-700 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-700 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-700"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-700",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-700/80 hover:bg-red-800 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-700 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-700 text-white hover:bg-red-800 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-700",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-700/30 text-white border border-red-700/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-700/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Pornhub"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a contenido exclusivo con nuestras cuentas premium de Pornhub"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-700",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-700 to-red-800 hover:from-red-800 hover:to-red-900":"bg-red-700/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-700 focus:border-red-700 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-700 focus:ring-red-700 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-700 hover:text-red-600 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-700 text-white rounded-xl hover:bg-red-800 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border salinity-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-700 text-white rounded-xl hover:bg-red-800 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-700",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},cA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Paramount")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,paramount:M.length}))},w=>{D("Error al cargar productos de Paramount"),console.error(w)}),m=pe(Z(C,"paramount_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"paramount"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"paramount"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Paramount`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-400 text-white rounded-full hover:bg-blue-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Paramount...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-blue-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-blue-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-400/80 hover:bg-blue-500 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-blue-400 text-white hover:bg-blue-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-400/30 text-white border border-blue-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-400/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Paramount+"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de películas y series exclusivas con nuestras cuentas premium de Paramount+"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-400 to-blue-600 hover:from-blue-500 hover:to-blue-700":"bg-blue-400/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-400 focus:ring-blue-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-blue-400 hover:text-blue-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-blue-400 text-white rounded-xl hover:bg-blue-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-blue-400 text-white rounded-xl hover:bg-blue-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},dA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Licencias")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,licencias:M.length}))},w=>{D("Error al cargar productos de Licencias"),console.error(w)}),m=pe(Z(C,"licencias_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"licencias"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"licencias"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Licencias`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-full hover:bg-blue-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Licencias...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-blue-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Licencias Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Accede a licencias de software premium para potenciar tu productividad y creatividad"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Licencias Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la licencia:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu licencia."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu licencia durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la licencia adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},uA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Capcut")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,capcut:M.length}))},w=>{D("Error al cargar productos de Capcut"),console.error(w)}),m=pe(Z(C,"capcut_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"capcut"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"capcut"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Capcut`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-700 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Capcut...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-500/80 hover:bg-green-600 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-500/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1620114890640-79fcbbc1dd7e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Capcut"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Crea videos profesionales con nuestras cuentas premium de Capcut"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800":"bg-green-500/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},xA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Duolingo")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,duolingo:M.length}))},w=>{D("Error al cargar productos de Duolingo"),console.error(w)}),m=pe(Z(C,"duolingo_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"duolingo"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"duolingo"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Duolingo`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Duolingo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-blue-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-500"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Duolingo Premium"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Aprende idiomas de forma divertida y efectiva con Duolingo Plus"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes de Duolingo Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Plus"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la suscripción:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu suscripción."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu suscripción durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la suscripción adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},mA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Dgo")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,dgo:M.length}))},w=>{D("Error al cargar productos de Dgo"),console.error(w)}),m=pe(Z(C,"dgo_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"dgo"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"dgo"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Dgo`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-blue-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-blue-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Dgo...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-blue-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-blue-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-blue-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-blue-600/80 hover:bg-blue-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-blue-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-blue-600 text-white hover:bg-blue-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-blue-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-blue-600/30 text-white border border-blue-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Dgo"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de TV en vivo y streaming con nuestras cuentas premium de DirecTV GO"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-blue-500 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800":"bg-blue-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-blue-500 focus:ring-blue-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-blue-500 hover:text-blue-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-blue-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},hA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Liga Max")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,ligamax:M.length}))},w=>{D("Error al cargar productos de Liga Max"),console.error(w)}),m=pe(Z(C,"ligamax_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"ligamax"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"ligamax"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Liga Max`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Liga Max...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-green-500 text-white hover:bg-green-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-teal-500"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-500"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-500"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-green-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Liga Max"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Vive la emoción del deporte con nuestras cuentas premium de Liga Max"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-green-400 hover:text-green-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este período, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},pA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Movistar Play")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,movistarplay:M.length}))},w=>{D("Error al cargar productos de Movistar Play"),console.error(w)}),m=pe(Z(C,"movistarplay_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"movistarplay"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"movistarplay"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Movistar Play`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-green-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-green-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Movistar Play...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-green-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-green-500"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-green-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-green-600/80 hover:bg-green-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-green-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-green-600 text-white hover:bg-green-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-green-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-green-600/30 text-white border border-green-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1534972195531-d756b9bfa9f2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Movistar Play"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de entretenimiento sin límites con nuestras cuentas premium de Movistar Play"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-500 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-green-500",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800":"bg-green-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-green-500 focus:ring-green-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-green-500 hover:text-green-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-green-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},fA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Youtube")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,youtube:M.length}))},w=>{D("Error al cargar productos de YouTube"),console.error(w)}),m=pe(Z(C,"youtube_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"youtube"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"youtube"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Youtube`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-600 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-600 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en YouTube...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-600 focus:border-red-600 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-600 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-600"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-600",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-600 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-600 text-white hover:bg-red-700 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-600",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-500"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-500"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-green-600"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-600/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1611162617210-b5d9e2a75fe3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de YouTube"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de videos sin anuncios y contenido exclusivo con nuestras cuentas premium de YouTube"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-red-600 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-600",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-600 focus:border-red-600 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-600 focus:ring-red-600 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-600 hover:text-red-500 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-600 text-white rounded-xl hover:bg-red-700 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-600",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},gA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState(null),[l,c]=j.useState(0),[x,f]=j.useState(!0),[N,I]=j.useState(null),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(!1),[z,R]=j.useState(!1),[H,K]=j.useState(null),[W,A]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[d,q]=j.useState(""),B=ut(),X=Q=>{const se=Number(Q);return isNaN(se)?"0.00":se.toFixed(2)};j.useEffect(()=>{const Q=vt(Oe,async se=>{if(se)try{const n=await Ue($(C,"users",se.uid));if(n.exists()){const y=n.data();o({id:se.uid,name:y.username||"Usuario",email:se.email,orders:y.orders||[],role:y.role||"user"}),c(Number(y.balance)||0)}else I("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(n){I("Error al cargar datos del usuario"),console.error(n)}else o(null),c(0);f(!1)});return()=>Q()},[]),j.useEffect(()=>{const Q=pe(Z(C,"products"),fe("category","==","Deezer")),se=we(Q,async m=>{const P=m.docs.map(te=>{const w=te.data();return{id:te.id,...w,price:Number(w.price)||0,stock:Number(w.availableAccounts)||0,accountDetails:w.details||"Detalles no disponibles",terms:w.terms||"Términos del proveedor",provider:w.provider||"Proveedor no especificado",providerId:w.providerId||"",providerPhone:w.providerPhone||"",acceptsOrders:w.status==="A pedido",duration:w.duration||"1 mes",type:w.type||"Premium",status:w.status||"En stock",image:w.image||"https://via.placeholder.com/300",renewal:w.renewal||!1,renewalPrice:Number(w.renewalPrice)||Number(w.price)*.9}}),F=await Promise.all(P.map(async te=>{if(!te.provider||te.provider==="Proveedor no especificado")try{if(te.providerId){const w=await Ue($(C,"users",te.providerId));if(w.exists())return{...te,provider:w.data().username||w.data().email||te.provider,providerPhone:w.data().phoneNumber||te.providerPhone}}}catch(w){console.error("Error al cargar datos del proveedor:",w)}return te}));a(F),A(te=>({...te,deezer:F.length}))},m=>{I("Error al cargar productos de Deezer"),console.error(m)}),y=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(m=>{const P=m.toLowerCase().replace(/\s+/g,""),F=pe(Z(C,"products"),fe("category","==",m));return we(F,te=>{A(w=>({...w,[P]:te.docs.length}))},te=>{console.error(`Error al cargar productos de ${m}:`,te)})});return()=>{se(),y.forEach(m=>m())}},[]);const E=Q=>{if(!i){K({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>B("/login")});return}if(l<Q.price){K({message:"Saldo insuficiente para realizar esta compra."});return}if(!Q.providerId||Q.providerId===""){K({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}D({product:Q,customerName:i.name,phoneNumber:""})},U=async()=>{if(!document.getElementById("termsCheck").checked){I("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(S.phoneNumber)){I("El número de WhatsApp debe tener 9 dígitos");return}try{f(!0);const Q=S.product;if(!Q.providerId||Q.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let se=null;Q.status==="En stock"?se=await Ze(C,async n=>{const y=$(C,"products",Q.id),m=await n.get(y);if(!m.exists())throw new Error("Producto no encontrado");if(m.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const F=Z(C,`products/${Q.id}/accounts`),te=pe(F,fe("status","==","available"),It(1)),w=await dt(te);if(w.empty)throw new Error("No hay cuentas disponibles en la subcolección");const V=w.docs[0],M=V.ref,b=V.data(),p=$(C,"users",i.id),O=await n.get(p);if(!O.exists())throw new Error("Usuario no encontrado");const Y=$(C,"users",Q.providerId),J=await n.get(Y);if(!J.exists())throw new Error("Proveedor no encontrado");let ie=Q.providerPhone||"";ie||(ie=J.data().phoneNumber||""),n.update(M,{status:"unavailable",assignedTo:i.id,assignedAt:new Date().toISOString()}),n.update(y,{availableAccounts:Ge(-1),stock:Ge(-1)});const ae=(Number(O.data().balance)||0)-Q.price;if(ae<0)throw new Error("Saldo insuficiente");const ce=O.data().orders||[],ue={productId:Q.id,productName:Q.name,price:Q.price,provider:Q.provider,providerId:Q.providerId,providerPhone:ie,status:"active",customerName:S.customerName,customerId:i.id,phoneNumber:S.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},terms:Q.terms,type:"deezer"};n.update(p,{balance:ae,orders:[...ce,ue]});const xe=(Number(J.data().balance)||0)+Q.price,ze=J.data().sales||[],ke={saleId:$(Z(C,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,customerId:i.id,customerName:S.customerName,customerPhone:S.phoneNumber,accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:Q.terms};n.update(Y,{balance:xe,sales:[...ze,ke]});const Re=$(Z(C,"sales"));return n.set(Re,{...ue,provider:Q.provider,providerId:Q.providerId,providerPhone:ie,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:b.email||"No proporcionado",password:b.password||"No proporcionado",profile:b.profile||"No proporcionado"},saleId:ke.saleId,terms:Q.terms}),b}):await Ze(C,async n=>{const y=$(C,"users",i.id),m=await n.get(y);if(!m.exists())throw new Error("Usuario no encontrado");const P=$(C,"users",Q.providerId),F=await n.get(P);if(!F.exists())throw new Error("Proveedor no encontrado");let te=Q.providerPhone||"";te||(te=F.data().phoneNumber||"");const V=(Number(m.data().balance)||0)-Q.price;if(V<0)throw new Error("Saldo insuficiente");const M=m.data().orders||[],b={productId:Q.id,productName:Q.name,price:Q.price,provider:Q.provider,providerId:Q.providerId,providerPhone:te,status:"pending",customerName:S.customerName,customerId:i.id,phoneNumber:S.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:Q.terms,type:"deezer"};n.update(y,{balance:V,orders:[...M,b]});const O=(Number(F.data().balance)||0)+Q.price,Y=F.data().sales||[],J={saleId:$(Z(C,"sales")).id,productId:Q.id,productName:Q.name,price:Q.price,customerId:i.id,customerName:S.customerName,customerPhone:S.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:Q.terms};n.update(P,{balance:O,sales:[...Y,J]});const ie=$(Z(C,"sales"));n.set(ie,{...b,provider:Q.provider,providerId:Q.providerId,providerPhone:te,saleDate:new Date().toISOString(),status:"pending",saleId:J.saleId,terms:Q.terms})}),c(n=>n-Q.price),o(n=>({...n,orders:[...n.orders,{...S,status:Q.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:Q.status==="En stock"?{email:(se==null?void 0:se.email)||"No proporcionado",password:(se==null?void 0:se.password)||"No proporcionado",profile:(se==null?void 0:se.profile)||"No proporcionado"}:null}]})),D(null),K({message:Q.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(Q){I(Q.message||"Error al procesar la compra"),console.error("Error en la compra:",Q)}finally{f(!1)}},Ae=Q=>{L({name:Q.name,accountDetails:Q.accountDetails,provider:Q.provider,terms:Q.terms})},Se=Q=>{L({name:Q.name,terms:Q.terms,provider:Q.provider}),_(!0)},Te=()=>{if(!i){B("/login");return}(i==null?void 0:i.role)==="user"?B("/dashboard/user"):(i==null?void 0:i.role)==="affiliate"?B("/dashboard/affiliate"):(i==null?void 0:i.role)==="provider"?B("/dashboard/provider"):(i==null?void 0:i.role)==="admin"&&B("/dashboard/admin")},Le=Q=>{Q.preventDefault(),d.trim()&&B(`/search?q=${encodeURIComponent(d)}&category=Deezer`)},de=r.filter(Q=>Q.name.toLowerCase().includes(d.toLowerCase())),ge=Q=>Q.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Q.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",Q.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-gray-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),me=Q=>{if(!Q||typeof Q!="string")return"30 días";const se=Q.match(/(\d+)\s*(mes|meses)/i);if(se)return`${parseInt(se[1],10)*30} días`;const n=Q.match(/(\d+)\s*(día|días|dia|dias)/i);if(n)return`${parseInt(n[1],10)} días`;const y=Q.match(/(\d+)/);return y?`${parseInt(y[1],10)} días`:"30 días"};return x?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-pink-500 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:N}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("style",{children:`
          @keyframes fadeIn {
            from {
              opacity: 0;
              transform: translateY(10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.3s ease-in-out;
          }
        `}),e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-pink-500 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Deezer...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-all placeholder-gray-500",value:d,onChange:Q=>q(Q.target.value)}),e.jsx("button",{onClick:Le,className:"absolute right-3 text-gray-400 hover:text-pink-500 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:i?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-pink-500"})," ",i.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",l.toFixed(2)]}),e.jsx("button",{onClick:Te,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-pink-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),B("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-pink-600/80 hover:bg-pink-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>B("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-pink-500 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>B("/register"),className:"px-4 py-2 rounded-full bg-pink-500 text-white hover:bg-pink-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-pink-500",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-pink-600/30 text-white border border-pink-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-pink-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:W.buscapersonas})]})]}),i&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-pink-500/30 flex items-center justify-center text-white font-bold text-lg",children:i.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:i.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",l.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Deezer"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tu música favorita sin límites con nuestras cuentas premium de Deezer"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>R(!0),className:"text-sm sm:text-base text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos Generales"})]}),de.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:de.map(Q=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:Q.image,alt:Q.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),ge(Q)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:Q.name}),e.jsx("div",{className:"flex items-center mb-2",children:Q.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",X(Q.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:Q.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:me(Q.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:Q.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-pink-500",size:16}),e.jsx("span",{className:"text-gray-400",children:Q.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",X(Q.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Ae(Q),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Se(Q),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>E(Q),disabled:Q.status==="En stock"&&Q.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${Q.status==="A pedido"||Q.stock>0?"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700":"bg-pink-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),Q.status==="A pedido"?"Pedir":Q.stock>0?"Comprar":"Agotado"]})]})]},Q.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),S&&i&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:S.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>D(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:S.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",X(S.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",S.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",S.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:S.customerName,onChange:Q=>D(se=>({...se,customerName:Q.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:S.phoneNumber,onChange:Q=>D(se=>({...se,phoneNumber:Q.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-pink-500 focus:border-pink-500 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-pink-500 focus:ring-pink-500 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>_(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-pink-500 hover:text-pink-400 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>D(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:U,disabled:x,className:"px-4 py-2 bg-pink-500 text-white rounded-xl hover:bg-pink-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[x&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:S.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{H.onClose&&H.onClose(),K(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:H.message}),e.jsx("button",{onClick:()=>{H.onClose&&H.onClose(),K(null)},className:"w-full py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Aceptar"})]})})}),g&&!v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.name}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:g.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof g.accountDetails=="string"?g.accountDetails:g.accountDetails?JSON.stringify(g.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{L(null),_(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),v&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",g.name]}),e.jsx("button",{onClick:()=>{_(!1),L({name:g.name,accountDetails:g.accountDetails,provider:g.provider,terms:g.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",g.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:g.terms})}),e.jsx("button",{onClick:()=>{_(!1),R(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>R(!1),className:"w-full mt-6 py-3 bg-pink-500 text-white rounded-xl hover:bg-pink-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-pink-500",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},yA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Tidal")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"HiFi",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,tidal:M.length}))},w=>{D("Error al cargar productos de Tidal"),console.error(w)}),m=pe(Z(C,"tidal_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"tidal"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"tidal"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Tidal`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Tidal...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white camera text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Tidal"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Escucha música en alta fidelidad con nuestras cuentas premium de Tidal"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg/issue-1-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"HiFi"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},bA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Vpn")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Standard",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,vpn:M.length}))},w=>{D("Error al cargar productos de VPN"),console.error(w)}),m=pe(Z(C,"vpn_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"vpn"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"vpn"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Vpn`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-red-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en VPN...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-red-400 focus:border-red-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-red-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-red-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-red-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-red-600/80 hover:bg-red-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-red-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-red-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-red-600/30 text-white border border-red-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios Premium de VPN"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Navega con seguridad y privacidad con nuestras cuentas premium de VPN"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Standard"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-red-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700":"bg-red-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-red-400 focus:border-red-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-red-400 focus:ring-red-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-red-400 hover:text-red-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3.5 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-red-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},jA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","Win Tv")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,wintv:M.length}))},w=>{D("Error al cargar productos de Win TV"),console.error(w)}),m=pe(Z(C,"wintv_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"wintv"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"wintv"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Win Tv`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-orange-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-orange-500 text-white rounded-full hover:bg-orange-600 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-orange-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Win TV...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-orange-400 focus:border-orange-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-orange-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-orange-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-orange-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-orange-600/80 hover:bg-orange-700 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-orange-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-orange-500 text-white hover:bg-orange-600 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-orange-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-orange-600/30 text-white border border-orange-500/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-400"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-orange-500/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Cuentas Premium de Win TV"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Disfruta de tus eventos deportivos favoritos con nuestras cuentas premium de Win TV"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-green-400 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-400 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-amber-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700":"bg-amber-600/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-amber-400 focus:border-amber-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-amber-400 focus:ring-amber-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-amber-400 hover:text-amber-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-amber-500 text-white rounded-xl hover:bg-amber-600 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-amber-500 text-white rounded-xl hover:bg-amber-600 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-amber-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})},vA=()=>{const[s,t]=j.useState(!1),[r,a]=j.useState([]),[i,o]=j.useState([]),[l,c]=j.useState(null),[x,f]=j.useState(0),[N,I]=j.useState(!0),[S,D]=j.useState(null),[g,L]=j.useState(null),[v,_]=j.useState(null),[z,R]=j.useState(!1),[H,K]=j.useState(!1),[W,A]=j.useState(null),[d,q]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[B,X]=j.useState(""),E=ut(),U=n=>{const y=Number(n);return isNaN(y)?"0.00":y.toFixed(2)};j.useEffect(()=>{const n=vt(Oe,async y=>{if(y)try{const m=await Ue($(C,"users",y.uid));if(m.exists()){const P=m.data();c({id:y.uid,name:P.username||"Usuario",email:y.email,orders:P.orders||[],role:P.role||"user"}),f(Number(P.balance)||0)}else D("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(m){D("Error al cargar datos del usuario"),console.error(m)}else c(null),f(0);I(!1)});return()=>n()},[]),j.useEffect(()=>{const n=pe(Z(C,"products"),fe("category","==","BuscaPersonas")),y=we(n,async w=>{const V=w.docs.map(b=>{const p=b.data();return{id:b.id,...p,price:Number(p.price)||0,stock:Number(p.availableAccounts)||0,accountDetails:p.details||"Detalles no disponibles",terms:p.terms||"Términos del proveedor",provider:p.provider||"Proveedor no especificado",providerId:p.providerId||"",providerPhone:p.providerPhone||"",acceptsOrders:p.status==="A pedido",duration:p.duration||"1 mes",type:p.type||"Premium",status:p.status||"En stock",image:p.image||"https://via.placeholder.com/300",renewal:p.renewal||!1,renewalPrice:Number(p.renewalPrice)||Number(p.price)*.9}}),M=await Promise.all(V.map(async b=>{if(!b.provider||b.provider==="Proveedor no especificado")try{if(b.providerId){const p=await Ue($(C,"users",b.providerId));if(p.exists())return{...b,provider:p.data().username||p.data().email||b.provider,providerPhone:p.data().phoneNumber||b.providerPhone}}}catch(p){console.error("Error al cargar datos del proveedor:",p)}return b}));a(M),q(b=>({...b,buscapersonas:M.length}))},w=>{D("Error al cargar productos de Busca Personas"),console.error(w)}),m=pe(Z(C,"buscapersonas_accounts"),fe("status","==","available")),P=we(m,w=>{const V=w.docs.map(M=>({id:M.id,...M.data(),productId:M.data().productId||"",providerId:M.data().providerId||""}));o(V)},w=>{console.error("Error al cargar cuentas:",w)}),te=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(w=>{const V=w.toLowerCase().replace(/\s+/g,""),M=pe(Z(C,"products"),fe("category","==",w));return we(M,b=>{q(p=>({...p,[V]:b.docs.length}))},b=>{console.error(`Error al cargar productos de ${w}:`,b)})});return()=>{y(),P(),te.forEach(w=>w())}},[]);const Ae=n=>{if(!l){A({message:"Por favor, inicia sesión para realizar una compra.",onClose:()=>E("/login")});return}if(x<n.price){A({message:"Saldo insuficiente para realizar esta compra."});return}if(!n.providerId||n.providerId===""){A({message:"Este producto no tiene un proveedor asociado. Contacta al administrador."});return}L({product:n,customerName:l.name,phoneNumber:""})},Se=async()=>{if(!document.getElementById("termsCheck").checked){D("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(g.phoneNumber)){D("El número de WhatsApp debe tener 9 dígitos");return}try{I(!0);const n=g.product;if(!n.providerId||n.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let y=null;n.status==="En stock"?y=await Ze(C,async m=>{const P=$(C,"products",n.id),F=await m.get(P);if(!F.exists())throw new Error("Producto no encontrado");if(F.data().availableAccounts<=0)throw new Error("No hay cuentas disponibles para este producto");const w=Z(C,`products/${n.id}/accounts`),V=pe(w,fe("status","==","available"),It(1)),M=await dt(V);if(M.empty)throw new Error("No hay cuentas disponibles en la subcolección");const b=M.docs[0],p=b.ref,O=b.data(),Y=$(C,"users",l.id),J=await m.get(Y);if(!J.exists())throw new Error("Usuario no encontrado");const ie=$(C,"users",n.providerId),ee=await m.get(ie);if(!ee.exists())throw new Error("Proveedor no encontrado");let ae=n.providerPhone||"";ae||(ae=ee.data().phoneNumber||""),m.update(p,{status:"unavailable",assignedTo:l.id,assignedAt:new Date().toISOString()}),m.update(P,{availableAccounts:Ge(-1),stock:Ge(-1)});const ue=(Number(J.data().balance)||0)-n.price;if(ue<0)throw new Error("Saldo insuficiente");const be=J.data().orders||[],xe={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:ae,status:"active",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},terms:n.terms,type:"buscapersonas"};m.update(Y,{balance:ue,orders:[...be,xe]});const ke=(Number(ee.data().balance)||0)+n.price,Re=ee.data().sales||[],ye={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:n.terms};m.update(ie,{balance:ke,sales:[...Re,ye]});const Ie=$(Z(C,"sales"));return m.set(Ie,{...xe,provider:n.provider,providerId:n.providerId,providerPhone:ae,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:O.email||"No proporcionado",password:O.password||"No proporcionado",profile:O.profile||"No proporcionado"},saleId:ye.saleId,terms:n.terms}),O}):await Ze(C,async m=>{const P=$(C,"users",l.id),F=await m.get(P);if(!F.exists())throw new Error("Usuario no encontrado");const te=$(C,"users",n.providerId),w=await m.get(te);if(!w.exists())throw new Error("Proveedor no encontrado");let V=n.providerPhone||"";V||(V=w.data().phoneNumber||"");const b=(Number(F.data().balance)||0)-n.price;if(b<0)throw new Error("Saldo insuficiente");const p=F.data().orders||[],O={productId:n.id,productName:n.name,price:n.price,provider:n.provider,providerId:n.providerId,providerPhone:V,status:"pending",customerName:g.customerName,customerId:l.id,phoneNumber:g.phoneNumber,createdAt:new Date().toISOString(),accountDetails:null,terms:n.terms,type:"buscapersonas"};m.update(P,{balance:b,orders:[...p,O]});const J=(Number(w.data().balance)||0)+n.price,ie=w.data().sales||[],ee={saleId:$(Z(C,"sales")).id,productId:n.id,productName:n.name,price:n.price,customerId:l.id,customerName:g.customerName,customerPhone:g.phoneNumber,accountDetails:null,saleDate:new Date().toISOString(),status:"pending",terms:n.terms};m.update(te,{balance:J,sales:[...ie,ee]});const ae=$(Z(C,"sales"));m.set(ae,{...O,provider:n.provider,providerId:n.providerId,providerPhone:V,saleDate:new Date().toISOString(),status:"pending",saleId:ee.saleId,terms:n.terms})}),f(m=>m-n.price),c(m=>({...m,orders:[...m.orders,{...g,status:n.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:n.status==="En stock"?{email:(y==null?void 0:y.email)||"No proporcionado",password:(y==null?void 0:y.password)||"No proporcionado",profile:(y==null?void 0:y.profile)||"No proporcionado"}:null}]})),L(null),A({message:n.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(n){D(n.message||"Error al procesar la compra"),console.error("Error en la compra:",n)}finally{I(!1)}},Te=n=>{_({name:n.name,accountDetails:n.accountDetails,provider:n.provider,terms:n.terms})},Le=n=>{_({name:n.name,terms:n.terms,provider:n.provider}),R(!0)},de=()=>{if(!l){E("/login");return}(l==null?void 0:l.role)==="user"?E("/dashboard/user"):(l==null?void 0:l.role)==="affiliate"?E("/dashboard/affiliate"):(l==null?void 0:l.role)==="provider"?E("/dashboard/provider"):(l==null?void 0:l.role)==="admin"&&E("/dashboard/admin")},ge=n=>{n.preventDefault(),B.trim()&&E(`/search?q=${encodeURIComponent(B)}&category=Busca Personas`)},me=r.filter(n=>n.name.toLowerCase().includes(B.toLowerCase())),Q=n=>n.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):n.stock>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-400 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",n.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-600 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),se=n=>{if(!n||typeof n!="string")return"30 días";const y=n.match(/(\d+)\s*(mes|meses)/i);if(y)return`${parseInt(y[1],10)*30} días`;const m=n.match(/(\d+)\s*(día|días|dia|dias)/i);if(m)return`${parseInt(m[1],10)} días`;const P=n.match(/(\d+)/);return P?`${parseInt(P[1],10)} días`:"30 días"};return N?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200",children:[e.jsx(Ye,{className:"animate-spin text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):S?e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-b from-gray-900 to-black p-4",children:[e.jsx(lt,{className:"text-5xl text-yellow-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:S}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-yellow-400 text-white rounded-full hover:bg-yellow-500 transition-all shadow-lg",children:"Recargar"})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black text-gray-200 flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-900/80 backdrop-blur-md border-b border-gray-800/50",children:e.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between flex-wrap",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t(!s),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all md:hidden",children:e.jsx(wt,{size:24})}),e.jsxs(h,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-10 w-auto"}),e.jsx("span",{className:"text-xl font-semibold text-yellow-400 hidden sm:block",children:"BlackStreaming"})]})]}),e.jsxs("div",{className:"flex items-center relative w-full sm:w-auto sm:max-w-xs md:max-w-md mt-3 sm:mt-0 order-3 sm:order-2 sm:mx-3",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Busca Personas...",className:"w-full px-4 py-2 rounded-full bg-gray-800/50 text-gray-200 border border-gray-700 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all placeholder-gray-500",value:B,onChange:n=>X(n.target.value)}),e.jsx("button",{onClick:ge,className:"absolute right-3 text-gray-400 hover:text-yellow-400 transition-all",children:e.jsx(He,{size:20})})]}),e.jsx("div",{className:"flex items-center space-x-2 order-2 sm:order-3",children:l?e.jsxs("div",{className:"flex items-center space-x-2 md:space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-300 hidden sm:flex items-center",children:[e.jsx(Be,{className:"mr-2 text-yellow-400"})," ",l.name]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-200 bg-gray-800/50 px-3 py-1 rounded-full",children:["S/ ",x.toFixed(2)]}),e.jsx("button",{onClick:de,className:"p-2 rounded-full bg-gray-800/50 hover:bg-gray-700/50 transition-all",title:"Dashboard",children:e.jsx(Be,{className:"text-yellow-400",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),E("/")},className:"flex items-center space-x-1 px-3 py-2 rounded-full bg-yellow-400/80 hover:bg-yellow-500 transition-all text-sm text-white",children:[e.jsx(gt,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>E("/login"),className:"px-4 py-2 text-sm text-gray-200 hover:text-yellow-400 transition-all",children:"Ingresar"}),e.jsx("button",{onClick:()=>E("/register"),className:"px-4 py-2 rounded-full bg-yellow-400 text-white hover:bg-yellow-500 transition-all text-sm",children:"Registrarse"})]})})]})}),e.jsxs("div",{className:"flex flex-1 relative",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 w-56 sm:w-64 bg-gray-900/90 backdrop-blur-sm text-white shadow-2xl transform ${s?"translate-x-0":"-translate-x-full"} transition-transform duration-300 ease-in-out z-50 md:static md:z-40 md:translate-x-0 border-r border-gray-800/50`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 md:hidden",children:[e.jsx("span",{className:"text-xl font-semibold text-yellow-400",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>t(!1),className:"text-gray-200 hover:bg-gray-700/50 p-2 rounded-full transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[e.jsxs(h,{to:"/netflix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-red-400"}),e.jsx("span",{children:"Netflix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.netflix})]}),e.jsxs(h,{to:"/spotify",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-green-400"}),e.jsx("span",{children:"Spotify"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.spotify})]}),e.jsxs(h,{to:"/disney",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-400"}),e.jsx("span",{children:"Disney+"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.disney})]}),e.jsxs(h,{to:"/max",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-purple-400"}),e.jsx("span",{children:"Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.max})]}),e.jsxs(h,{to:"/primevideo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-blue-500"}),e.jsx("span",{children:"Prime Video"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.primevideo})]}),e.jsxs(h,{to:"/vix",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-400"}),e.jsx("span",{children:"Vix"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vix})]}),e.jsxs(h,{to:"/crunchyroll",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-orange-400"}),e.jsx("span",{children:"Crunchyroll"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.crunchyroll})]}),e.jsxs(h,{to:"/canva",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-teal-400"}),e.jsx("span",{children:"Canva"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.canva})]}),e.jsxs(h,{to:"/chatgpt",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_t,{className:"text-gray-400"}),e.jsx("span",{children:"ChatGPT"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.chatgpt})]}),e.jsxs(h,{to:"/redessociales",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-pink-400"}),e.jsx("span",{children:"Redes Sociales"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.redessociales})]}),e.jsxs(h,{to:"/dgo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-600"}),e.jsx("span",{children:"Dgo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.dgo})]}),e.jsxs(h,{to:"/ligamax",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{className:"text-green-600"}),e.jsx("span",{children:"Liga Max"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.ligamax})]}),e.jsxs(h,{to:"/movistarplay",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-500"}),e.jsx("span",{children:"Movistar Play"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.movistarplay})]}),e.jsxs(h,{to:"/youtube",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-600"}),e.jsx("span",{children:"Youtube"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.youtube})]}),e.jsxs(h,{to:"/deezer",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-purple-500"}),e.jsx("span",{children:"Deezer"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.deezer})]}),e.jsxs(h,{to:"/tidal",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-black"}),e.jsx("span",{children:"Tidal"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.tidal})]}),e.jsxs(h,{to:"/vpn",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{className:"text-gray-500"}),e.jsx("span",{children:"Vpn"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vpn})]}),e.jsxs(h,{to:"/wintv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-orange-500"}),e.jsx("span",{children:"Win Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.wintv})]}),e.jsxs(h,{to:"/applemusic",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ve,{className:"text-gray-600"}),e.jsx("span",{children:"Apple Music"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.applemusic})]}),e.jsxs(h,{to:"/appletv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-gray-700"}),e.jsx("span",{children:"Apple Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.appletv})]}),e.jsxs(h,{to:"/iptv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-blue-700"}),e.jsx("span",{children:"Iptv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.iptv})]}),e.jsxs(h,{to:"/flujotv",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{className:"text-red-500"}),e.jsx("span",{children:"Flujo Tv"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.flujotv})]}),e.jsxs(h,{to:"/vikirakuten",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-pink-500"}),e.jsx("span",{children:"Viki Rakuten"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.vikirakuten})]}),e.jsxs(h,{to:"/pornhub",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pe,{className:"text-red-700"}),e.jsx("span",{children:"Pornhub"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.pornhub})]}),e.jsxs(h,{to:"/paramount",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_e,{className:"text-blue-400"}),e.jsx("span",{children:"Paramount"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.paramount})]}),e.jsxs(h,{to:"/licencias",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(We,{className:"text-gray-500"}),e.jsx("span",{children:"Licencias"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.licencias})]}),e.jsxs(h,{to:"/capcut",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{className:"text-green-500"}),e.jsx("span",{children:"Capcut"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.capcut})]}),e.jsxs(h,{to:"/duolingo",className:"flex items-center justify-between px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800/50 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qe,{className:"text-green-400"}),e.jsx("span",{children:"Duolingo"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.duolingo})]}),e.jsxs(h,{to:"/buscapersonas",className:"flex items-center justify-between px-4 py-3 rounded-xl bg-yellow-400/30 text-white border border-yellow-400/30",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(He,{className:"text-yellow-400"}),e.jsx("span",{children:"Busca Personas"})]}),e.jsx("span",{className:"bg-gray-800/50 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:d.buscapersonas})]})]}),l&&e.jsx("div",{className:"p-4 border-t border-gray-800/50",children:e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-800/50 rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-400/30 flex items-center justify-center text-white font-bold text-lg",children:l.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-white",children:l.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Saldo: S/ ",x.toFixed(2)]})]})]})})]})}),e.jsxs("main",{className:"flex-1 transition-all duration-300 p-4 sm:p-6 md:pt-4 md:ml-64 min-h-screen overflow-x-hidden",children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1516321318423-f06f85e504b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-900/80 to-black/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Servicios de Busca Personas"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-200 max-w-2xl mx-auto drop-shadow-md",children:"Encuentra la información que necesitas con nuestros servicios premium"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Planes Disponibles"}),e.jsx("button",{onClick:()=>K(!0),className:"text-sm sm:text-base text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos Generales"})]}),me.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:"text-gray-300 text-lg sm:text-xl",children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full",children:me.map(n=>e.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-xl shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-1 transition-all duration-300 w-full border border-gray-700/50 flex flex-col",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden bg-gray-900",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-contain transition-transform duration-500 hover:scale-105"}),Q(n)]}),e.jsxs("div",{className:"p-4 sm:p-5 flex flex-col flex-grow",children:[e.jsx("h3",{className:"font-semibold text-lg sm:text-xl text-white mb-2 truncate",children:n.name}),e.jsx("div",{className:"flex items-center mb-2",children:n.renewal?e.jsxs("p",{className:"text-yellow-300 text-sm",children:["Renovación - S/ ",U(n.renewalPrice)]}):e.jsx("p",{className:"text-yellow-300 text-sm",children:"Sin renovación"})}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Mt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400 truncate",children:n.provider})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Ct,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:se(n.duration||"1 mes")})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(Rt,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.type||"Premium"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700/50 p-2 rounded-md",children:[e.jsx(At,{className:"text-yellow-400",size:16}),e.jsx("span",{className:"text-gray-400",children:n.status})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-auto mb-3",children:e.jsxs("span",{className:"text-white font-bold text-xl sm:text-2xl",children:["S/ ",U(n.price)]})}),e.jsxs("div",{className:"flex justify-center items-center gap-3 mb-3",children:[e.jsxs("button",{onClick:()=>Te(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(St,{className:"mr-2",size:14})," Detalles"]}),e.jsxs("button",{onClick:()=>Le(n),className:"flex-1 py-2 px-3 bg-gray-700/50 hover:bg-gray-600/50 text-white rounded-md text-sm flex items-center justify-center transition-all border border-gray-600/50",children:[e.jsx(We,{className:"mr-2",size:14})," Términos"]})]}),e.jsxs("button",{onClick:()=>Ae(n),disabled:n.status==="En stock"&&n.stock<=0,className:`w-full py-3 rounded-md flex items-center justify-center transition-all text-white font-medium text-sm ${n.status==="A pedido"||n.stock>0?"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700":"bg-yellow-400/50 cursor-not-allowed"}`,children:[e.jsx(mt,{className:"mr-2",size:16}),n.status==="A pedido"?"Pedir":n.stock>0?"Comprar":"Agotado"]})]})]},n.id))})]})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 md:hidden",onClick:()=>t(!1)})]}),g&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"}),e.jsx("button",{onClick:()=>L(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"mb-6 p-4 bg-gray-700/50 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-lg text-white",children:g.product.name}),e.jsxs("p",{className:"text-white font-bold text-xl sm:text-2xl mt-1",children:["S/ ",U(g.product.price)]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-2",children:["Proveedor: ",g.product.provider]}),e.jsxs("p",{className:"text-sm text-gray-300 mt-1",children:["Estado: ",g.product.status]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nombre completo"}),e.jsx("input",{type:"text",value:g.customerName,onChange:n=>L(y=>({...y,customerName:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",value:g.phoneNumber,onChange:n=>L(y=>({...y,phoneNumber:n.target.value})),className:"w-full px-4 py-2 bg-gray-700/50 border border-gray-600/50 rounded-xl focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 text-white transition-all",placeholder:"Ej. 999888777",required:!0})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",id:"termsCheck",className:"mt-1 mr-3 bg-gray-700 border-gray-600 text-yellow-400 focus:ring-yellow-400 rounded",required:!0}),e.jsxs("label",{htmlFor:"termsCheck",className:"text-sm text-gray-300",children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>R(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Términos"})," ","y"," ",e.jsx("button",{type:"button",onClick:()=>K(!0),className:"text-yellow-400 hover:text-yellow-300 transition-all underline underline-offset-4",children:"Condiciones Generales"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-8",children:[e.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 border border-gray-600/50 rounded-xl text-gray-300 hover:bg-gray-700/50 transition-all",children:"Cancelar"}),e.jsxs("button",{onClick:Se,disabled:N,className:"px-4 py-2 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 disabled:bg-gray-700/50 disabled:text-gray-400 flex items-center transition-all",children:[N&&e.jsx(Ye,{className:"animate-spin mr-2"}),e.jsx("span",{children:g.product.status==="A pedido"?"Confirmar Pedido":"Confirmar Compra"})]})]})]})})}),W&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Notificación"}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("p",{className:"text-gray-300 text-center mb-6",children:W.message}),e.jsx("button",{onClick:()=>{W.onClose&&W.onClose(),A(null)},className:"w-full py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Aceptar"})]})})}),v&&!z&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-md border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:v.name}),e.jsx("button",{onClick:()=>_(null),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Proveedor:"}),e.jsx("p",{className:"text-gray-300",children:v.provider||"No disponible"})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-medium text-white mb-2",children:"Detalles de la cuenta:"}),e.jsx("div",{className:"p-3 bg-gray-800/50 rounded-lg",children:e.jsx("pre",{className:"text-sm text-gray-300 whitespace-pre-wrap",children:typeof v.accountDetails=="string"?v.accountDetails:v.accountDetails?JSON.stringify(v.accountDetails,null,2):"No disponible"})})]})]}),e.jsx("button",{onClick:()=>{_(null),R(!0)},className:"w-full mt-6 py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 transition-all border border-gray-600/50",children:"Ver Términos Específicos"})]})})}),z&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-700/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:["Términos - ",v.name]}),e.jsx("button",{onClick:()=>{R(!1),_({name:v.name,accountDetails:v.accountDetails,provider:v.provider,terms:v.terms})},className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsxs("div",{className:"text-gray-300",children:[e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsxs("h3",{className:"font-semibold text-white mb-2",children:["Proveedor: ",v.provider]})}),e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Términos específicos:"}),e.jsx("div",{className:"bg-gray-700/50 p-4 rounded-xl mb-4 border border-gray-600/50",children:e.jsx("pre",{className:"whitespace-pre-wrap text-gray-300",children:v.terms})}),e.jsx("button",{onClick:()=>{R(!1),K(!0)},className:"w-full py-2 bg-gray-700/50 text-white rounded-xl hover:bg-gray-600/50 mb-4 transition-all border border-gray-600/50",children:"Ver Términos Generales"})]})]})})}),H&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4 sm:p-6",children:e.jsx("div",{className:"bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-y-auto border border-gray-600/50 animate-fadeIn",children:e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-white",children:"Términos y Condiciones Generales"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-white transition-all",children:e.jsx(le,{size:24})})]}),e.jsx("div",{className:"text-gray-300",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"1. Proceso de Compra"}),e.jsx("p",{children:"Al realizar una compra, el proveedor se contactará contigo dentro de las próximas 24 horas hábiles para entregarte los accesos a tu cuenta."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"2. Garantía"}),e.jsx("p",{children:"Todos los productos tienen una garantía de 7 días. Si tienes problemas con tu cuenta durante este periodo, el proveedor está obligado a resolverlos o reembolsarte."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"3. Uso Responsable"}),e.jsx("p",{children:"El cliente es responsable del uso que dé a la cuenta adquirida. No nos hacemos responsables por suspensiones o baneos por mal uso."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"4. Soporte"}),e.jsx("p",{children:"El soporte se realizará directamente con el proveedor mediante el número de WhatsApp proporcionado."})]}),e.jsxs("div",{className:"bg-gray-700/50 p-4 sm:p-5 rounded-xl border border-gray-600/50",children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"5. Renovaciones"}),e.jsx("p",{children:"Las renovaciones son manuales y deben solicitarse al proveedor antes de que finalice el período contratado."})]})]})}),e.jsx("button",{onClick:()=>K(!1),className:"w-full mt-6 py-3 bg-yellow-400 text-white rounded-xl hover:bg-yellow-500 transition-all",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-900/80 backdrop-blur-md border-t border-gray-800/50 py-6",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4 md:flex-row md:justify-between md:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8 w-auto"}),e.jsx("span",{className:"text-sm font-semibold text-yellow-400",children:"BlackStreaming"})]}),e.jsxs("div",{className:"text-sm text-gray-400 text-center",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("div",{className:"text-sm text-gray-400 text-center",children:"Desarrollado por Saiph"})]})})})]})};j.memo(()=>{const[s,t]=j.useState(null),[r,a]=j.useState(0),[i,o]=j.useState(!0),[l,c]=j.useState(null),[x,f]=j.useState(!1),[N,I]=j.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0}),[S,D]=j.useState(""),g=ut();j.useEffect(()=>{const _=vt(Oe,async z=>{if(z)try{const R=await Ue($(C,"users",z.uid));if(R.exists()){const H=R.data();t({id:z.uid,name:H.username||"Usuario",email:z.email,orders:H.orders||[],role:H.role||"user"}),a(Number(H.balance)||0)}else c("Usuario no encontrado"),console.error("Usuario no encontrado en la base de datos")}catch(R){c("Error al cargar datos"),console.error(R)}else t(null),a(0);o(!1)});return()=>_()},[]),j.useEffect(()=>{const z=[{name:"Netflix",key:"netflix"},{name:"Spotify",key:"spotify"},{name:"Disney",key:"disney"},{name:"Max",key:"max"},{name:"Prime Video",key:"primevideo"},{name:"Vix",key:"vix"},{name:"Crunchyroll",key:"crunchyroll"},{name:"Canva",key:"canva"},{name:"ChatGPT",key:"chatgpt"},{name:"Redes Sociales",key:"redessociales"}].map(({name:R,key:H})=>{const K=pe(Z(C,"products"),fe("category","==",R));return we(K,W=>{I(A=>({...A,[H]:W.docs.length}))},W=>console.error(`Error loading ${R}:`,W))});return()=>z.forEach(R=>R())},[]);const L=()=>{if(!s)return g("/login");g({user:"/dashboard/user",affiliate:"/dashboard/affiliate",provider:"/dashboard/provider",admin:"/dashboard/admin"}[s.role]||"/dashboard/user")},v=_=>{_.preventDefault(),S.trim()&&g(`/search?q=${encodeURIComponent(S)}`)};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:[e.jsx(Wx,{className:"animate-spin text-4xl text-cyan-500"}),e.jsx("span",{className:"ml-2 text-white",children:"Cargando..."})]}):l?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 p-4",children:[e.jsx(Wx,{className:"text-5xl text-red-500 mb-4"}),e.jsx("p",{className:"text-xl text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-400 mb-6",children:l}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Reintentar"})]}):e.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-gray-800/80 backdrop-blur-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(h,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-8"}),e.jsx("span",{className:"text-lg font-bold text-cyan-500 hidden sm:block",children:"BlackStreaming"})]})}),e.jsx("form",{onSubmit:v,className:"flex-1 max-w-md mx-4",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos...",className:"w-full py-2 px-4 rounded-lg bg-gray-700 text-white border border-gray-600 focus:ring-2 focus:ring-cyan-500 focus:border-transparent",value:S,onChange:_=>D(_.target.value)}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-cyan-500",children:e.jsx(He,{size:20})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:block text-sm text-gray-300",children:s.name}),e.jsxs("span",{className:"px-3 py-1 bg-gray-700 rounded-lg text-sm",children:["S/ ",r.toFixed(2)]}),e.jsx("button",{onClick:L,className:"p-2 hover:bg-gray-700 rounded-lg",title:"Dashboard",children:e.jsx(Be,{className:"text-cyan-500",size:20})}),e.jsxs("button",{onClick:()=>{Oe.signOut(),g("/")},className:"flex items-center gap-1 px-3 py-2 bg-red-600 hover:bg-red-700 rounded-lg text-sm",children:[e.jsx(gt,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Salir"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g("/login"),className:"px-3 py-2 text-sm hover:text-cyan-500",children:"Ingresar"}),e.jsx("button",{onClick:()=>g("/register"),className:"px-3 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 text-sm",children:"Registrarse"})]})})]})}),e.jsx("main",{className:"flex-1 p-6 flex items-center justify-center",children:e.jsxs("div",{className:"max-w-lg text-center",children:[e.jsx("div",{className:"p-4 bg-gray-800 rounded-full inline-flex mb-6",children:e.jsx(Wx,{className:"text-4xl text-cyan-500"})}),e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"En Mantenimiento"}),e.jsx("p",{className:"text-gray-300 mb-6",children:"Estamos mejorando nuestra plataforma para ti."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[e.jsx(Ct,{className:"text-yellow-500"}),e.jsx("span",{children:"Volveremos pronto."})]}),e.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"¿Qué estamos haciendo?"}),e.jsxs("ul",{className:"text-left space-y-2 text-gray-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Corrección de errores en el sistema de pedidos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Solución de fallos en el retiro de dinero"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Arreglo de errores al pasar del sistema al pedido"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del proveedor"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Actualización del dashboard del usuario"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Refuerzo de la seguridad general del sitio"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-cyan-500",children:"•"}),"Mejora en la visualización y diseño"]})]}),e.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-cyan-500 hover:text-cyan-400 underline",children:"Términos Generales"})]})]})}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-gray-800 rounded-lg max-w-lg w-full max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Términos y Condiciones"}),e.jsx("button",{onClick:()=>f(!1),className:"hover:text-gray-300",children:e.jsx(FiX,{size:24})})]}),e.jsx("div",{className:"space-y-4 text-gray-300",children:[{title:"Proceso de Compra",text:"El proveedor te contactará en 24 horas hábiles para los accesos."},{title:"Garantía",text:"7 días de garantía. El proveedor resolverá problemas o reembolsará."},{title:"Uso Responsable",text:"No nos responsabilizamos por suspensiones por mal uso."},{title:"Soporte",text:"Contacta al proveedor vía WhatsApp."},{title:"Renovaciones",text:"Solicita renovaciones manuales antes del fin del período."}].map(({title:_,text:z},R)=>e.jsxs("div",{className:"p-4 bg-gray-700 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:_}),e.jsx("p",{children:z})]},R))}),e.jsx("button",{onClick:()=>f(!1),className:"w-full mt-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600",children:"Cerrar"})]})})}),e.jsx("footer",{className:"bg-gray-800 py-6",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:qe,alt:"BlackStreaming",className:"h-6"}),e.jsx("span",{className:"text-sm font-semibold text-cyan-500",children:"BlackStreaming"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["© ",new Date().getFullYear()," BlackStreaming. Todos los derechos reservados."]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Desarrollado por Saiph"})]})})]})});const NA=()=>e.jsx(dC,{children:e.jsxs(e.Fragment,{children:[e.jsx(xt,{path:"/",element:e.jsx(LD,{})}),e.jsx(xt,{path:"/login",element:e.jsx(VD,{})}),e.jsx(xt,{path:"/register",element:e.jsx(FD,{})}),e.jsx(xt,{path:"/dashboard/user",element:e.jsx(UD,{})}),e.jsx(xt,{path:"/dashboard/affiliate",element:e.jsx($D,{})}),e.jsx(xt,{path:"/dashboard/provider",element:e.jsx(qD,{})}),e.jsx(xt,{path:"/dashboard/admin",element:e.jsx(GD,{})}),e.jsx(xt,{path:"/netflix",element:e.jsx(HD,{})}),e.jsx(xt,{path:"/disney",element:e.jsx(QD,{})}),e.jsx(xt,{path:"/max",element:e.jsx(KD,{})}),e.jsx(xt,{path:"/spotify",element:e.jsx(YD,{})}),e.jsx(xt,{path:"/primevideo",element:e.jsx(JD,{})}),e.jsx(xt,{path:"/vix",element:e.jsx(XD,{})}),e.jsx(xt,{path:"/canva",element:e.jsx(ZD,{})}),e.jsx(xt,{path:"/chatgpt",element:e.jsx(eA,{})}),e.jsx(xt,{path:"/crunchyroll",element:e.jsx(tA,{})}),e.jsx(xt,{path:"/redessociales",element:e.jsx(sA,{})}),e.jsx(xt,{path:"/applemusic",element:e.jsx(rA,{})}),e.jsx(xt,{path:"/appletv",element:e.jsx(aA,{})}),e.jsx(xt,{path:"/iptv",element:e.jsx(nA,{})}),e.jsx(xt,{path:"/flujotv",element:e.jsx(iA,{})}),e.jsx(xt,{path:"/vikirakuten",element:e.jsx(lA,{})}),e.jsx(xt,{path:"/pornhub",element:e.jsx(oA,{})}),e.jsx(xt,{path:"/paramount",element:e.jsx(cA,{})}),e.jsx(xt,{path:"/licencias",element:e.jsx(dA,{})}),e.jsx(xt,{path:"/capcut",element:e.jsx(uA,{})}),e.jsx(xt,{path:"/duolingo",element:e.jsx(xA,{})}),e.jsx(xt,{path:"/dgo",element:e.jsx(mA,{})}),e.jsx(xt,{path:"/ligamax",element:e.jsx(hA,{})}),e.jsx(xt,{path:"/movistarplay",element:e.jsx(pA,{})}),e.jsx(xt,{path:"/youtube",element:e.jsx(fA,{})}),e.jsx(xt,{path:"/deezer",element:e.jsx(gA,{})}),e.jsx(xt,{path:"/tidal",element:e.jsx(yA,{})}),e.jsx(xt,{path:"/vpn",element:e.jsx(bA,{})}),e.jsx(xt,{path:"/wintv",element:e.jsx(jA,{})}),e.jsx(xt,{path:"/buscapersonas",element:e.jsx(vA,{})})]})});im.createRoot(document.getElementById("root")).render(e.jsx(La.StrictMode,{children:e.jsx(RC,{children:e.jsx(NA,{})})}));
