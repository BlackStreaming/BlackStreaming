import{j as e,r as t,u as wa,F as ye,o as Na,q as G,w as oe,c as S,a as le,b as Be,d as p,e as k,l as Ca,g as Ee,s as ie,i as Me,f as $a,h as Re,k as fe,m as ne,n as A,p as ve,t as Ue,v as qe,x as Le,y as Sa,z as Oe,A as He,B as Da,C as Ve,D as Pa,E as n,G as Ia,H as Ge,I as Ta,J as Aa,K as _e,L as Fa,M as za,N as T,O as Qe,P as je,Q as _,R as We,S as Ye,T as O,U as Ba,V as Ea,W as Ma,X as Ra,Y as Ua,Z as qa,_ as La,$ as Oa,a0 as Ha,a1 as Ke,a2 as Va,a3 as N}from"./index-CaDB5g2o.js";const Je=t.createContext({theme:"dark",toggleTheme:()=>{}}),Ga=({children:F})=>{const[f,D]=t.useState(()=>localStorage.getItem("theme")||"dark"),$=t.useCallback(()=>{const v=f==="dark"?"light":"dark";D(v),localStorage.setItem("theme",v)},[f]);return t.useEffect(()=>{document.documentElement.classList.toggle("dark",f==="dark")},[f]),e.jsx(Je.Provider,{value:{theme:f,toggleTheme:$},children:F})},Xe=t.memo(({isOpen:F,message:f,onClose:D,theme:$})=>e.jsx(T,{children:F&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:D,role:"dialog","aria-labelledby":"modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${$==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${$==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:v=>v.stopPropagation(),children:[e.jsx("button",{onClick:D,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close notification",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"modal-title",className:`text-xl font-bold mb-4 ${$==="dark"?"text-white":"text-gray-900"}`,children:"Notificación"}),e.jsx("p",{className:`text-sm ${$==="dark"?"text-gray-300":"text-gray-700"}`,children:f})]})})}));Xe.propTypes={isOpen:N.bool.isRequired,message:N.string.isRequired,onClose:N.func.isRequired,theme:N.string.isRequired};const Ze=t.memo(({show:F,onClose:f,notifications:D,theme:$})=>{const v=$==="dark",J={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3,ease:"easeOut"}},hover:{scale:1.03,transition:{duration:.2}}},o=w=>w.toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return e.jsx(T,{children:F&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:f,role:"dialog","aria-labelledby":"notifications-title",children:e.jsxs(n.div,{variants:J,initial:"hidden",animate:"visible",exit:"hidden",className:`w-full max-w-md mx-4 ${v?"bg-gray-900/95 border-gray-700/50":"bg-white/95 border-gray-200/50"} rounded-2xl shadow-2xl p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md`,onClick:w=>w.stopPropagation(),children:[e.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar notificaciones",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"notifications-title",className:`text-2xl font-bold mb-6 ${v?"text-white":"text-gray-900"} bg-clip-text text-transparent bg-gradient-to-r ${v?"from-blue-400 to-purple-600":"from-blue-600 to-purple-800"}`,children:"Notificaciones"}),D.length>0?D.map(w=>e.jsxs(n.div,{variants:J,initial:"hidden",animate:"visible",whileHover:"hover",className:`border-b py-3 last:border-0 rounded-xl px-2 transition-all duration-300 ${v?"border-gray-600/50 hover:bg-gray-700/50":"border-gray-300/50 hover:bg-gray-200/50"}`,children:[e.jsx("p",{className:`${v?"text-gray-300":"text-gray-700"}`,children:w.message}),e.jsx("p",{className:`text-xs mt-1 ${v?"text-gray-400":"text-gray-500"}`,children:o(w.updatedAt?.toDate?.()||new Date)})]},w.id)):e.jsx("p",{className:`py-2 ${v?"text-gray-400":"text-gray-500"}`,children:"No hay notificaciones"})]})})})});Ze.propTypes={show:N.bool.isRequired,onClose:N.func.isRequired,notifications:N.arrayOf(N.shape({id:N.string.isRequired,message:N.string.isRequired,updatedAt:N.object})).isRequired,theme:N.string.isRequired};const ea=()=>{const[F,f]=t.useState(!1),[D,$]=t.useState([]),[v,J]=t.useState([]),[o,w]=t.useState(null),[Q,ce]=t.useState(0),[de,ke]=t.useState(null),[X,ue]=t.useState(!0),[Z,H]=t.useState(null),[u,z]=t.useState(null),[P,I]=t.useState(null),[we,W]=t.useState(!1),[aa,ee]=t.useState(!1),[ae,B]=t.useState(null),[d,Ne]=t.useState({netflix:0,spotify:0,disney:0,max:0,primevideo:0,vix:0,crunchyroll:0,canva:0,chatgpt:0,redessociales:0,dgo:0,ligamax:0,movistarplay:0,youtube:0,deezer:0,tidal:0,vpn:0,wintv:0,applemusic:0,appletv:0,iptv:0,flujotv:0,vikirakuten:0,pornhub:0,paramount:0,licencias:0,capcut:0,duolingo:0,buscapersonas:0}),[V,Ce]=t.useState(""),[$e,ra]=t.useState({}),[ta,sa]=t.useState(!1),[me,xe]=t.useState(!1),[pe,E]=t.useState(!1),[oa,be]=t.useState(!1),[re,Se]=t.useState([]),j=wa(),{theme:r,toggleTheme:la}=t.useContext(Je),ia=t.useRef(null),na=t.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);t.useEffect(()=>{const a=()=>{sa(window.scrollY>300)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const ge=t.useCallback(a=>{const c=Number(a);return isNaN(c)?"0.00":c.toFixed(2)},[]),ca=t.useCallback(a=>{const c=Math.floor(a),s=a%1>=.5,x=5-c-(s?1:0);return e.jsxs("div",{className:"flex items-center space-x-1",children:[[...Array(c)].map((h,C)=>e.jsx(ye,{className:"text-yellow-400",size:16,fill:"currentColor"},`full-${C}`)),s&&e.jsx(ye,{className:"text-yellow-400",size:16,fill:"url(#half-gradient)",children:e.jsx("defs",{children:e.jsxs("linearGradient",{id:"half-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"50%",stopColor:"#FFD700"}),e.jsx("stop",{offset:"50%",stopColor:r==="dark"?"#4B0000":"#D1D5DB"})]})})}),[...Array(x)].map((h,C)=>e.jsx(ye,{className:r==="dark"?"text-gray-600":"text-gray-400",size:16},`empty-${C}`))]})},[r]);t.useEffect(()=>{const a=Na(Re,async c=>{if(w(c),c)try{const s=await Ke(k(p,"users",c.uid));if(s.exists()){const x=s.data();w({id:c.uid,name:x.username||"Usuario",email:c.email,orders:x.orders||[],role:x.role||"user",phone:x.phone||"",username:x.username||"Usuario"}),ce(Number(x.balance)||0),ke(x.role||"user"),da(c.uid)}else H("Usuario no encontrado en la base de datos"),console.error("Usuario no encontrado en la base de datos")}catch(s){H("Error al cargar datos del usuario"),console.error(s)}else w(null),ce(0),ke(null),Se([]);ue(!1)});return()=>a()},[]);const da=async a=>{try{const c=G(S(p,"users",a,"notifications"),Va("updatedAt","desc")),x=(await Ee(c)).docs.map(h=>({id:h.id,message:h.data().message||"Sin mensaje",updatedAt:h.data().updatedAt}));Se(x)}catch(c){console.error("Error fetching notifications:",c)}};t.useEffect(()=>{const a=G(S(p,"products"),oe("category","==","AppleMusic")),c=le(a,async m=>{const y=m.docs.map(l=>{const i=l.data();return{id:l.id,...i,price:Number(i.price)||0,stock:Number(i.stock||i.available||0),accountDetails:i.email||i.details||"Detalles no disponibles",terms:i.terms||"Términos del proveedor",provider:i.provider||"Proveedor no especificado",providerId:i.providerId||"",providerPhone:i.providerPhone||"",acceptsOrders:i.status==="A pedido",duration:i.duration||"1 mes",accountType:i.accountType||"No especificado",status:i.status||"En stock",image:i.image||"https://via.placeholder.com/300",renewal:i.renewal||!1,renewalPrice:Number(i.renewalPrice)||Number(i.price)*.9}}),b=await Promise.all(y.map(async l=>{let i={provider:l.provider,providerPhone:l.providerPhone};if(!l.provider||l.provider==="Proveedor no especificado")try{if(l.providerId){const g=await Ke(k(p,"users",l.providerId));g.exists()&&(i={provider:g.data().username||g.data().email||l.provider,providerPhone:g.data().phoneNumber||l.providerPhone})}}catch(g){console.error("Error al cargar datos del proveedor:",g)}return{...l,...i}}));$(b),Ne(l=>({...l,applemusic:b.length}))},m=>{H("Error al cargar productos de Apple Music"),console.error(m)}),s=G(S(p,"ratings")),x=le(s,m=>{const y={};m.forEach(l=>{const i=l.data(),g=i.providerId;y[g]||(y[g]=[]),y[g].push(Number(i.rating)||0)});const b={};Object.keys(y).forEach(l=>{const i=y[l],g=i.length?i.reduce((U,q)=>U+q,0)/i.length:1;b[l]=Math.min(Math.max(g,1),5)}),ra(b)},m=>{console.error("Error al cargar calificaciones de proveedores:",m)}),h=G(S(p,"applemusic_accounts"),oe("status","==","available")),C=le(h,m=>{const y=m.docs.map(b=>({id:b.id,...b.data(),productId:b.data().productId||"",providerId:b.data().providerId||""}));J(y)},m=>{console.error("Error al cargar cuentas:",m)}),R=["Netflix","Spotify","Disney","Max","Prime Video","Vix","Crunchyroll","Canva","ChatGPT","Redes Sociales","Dgo","Liga Max","Movistar Play","Youtube","Deezer","Tidal","Vpn","Win Tv","Apple Music","Apple Tv","Iptv","Flujo Tv","Viki Rakuten","Pornhub","Paramount","Licencias","Capcut","Duolingo","Busca Personas"].map(m=>{const y=m.toLowerCase().replace(/\s+/g,""),b=G(S(p,"products"),oe("category","==",m));return le(b,l=>{Ne(i=>({...i,[y]:l.docs.length}))},l=>{console.error(`Error al cargar productos de ${m}:`,l)})});return()=>{c(),x(),C(),R.forEach(m=>m())}},[]);const ua=t.useCallback(a=>{if(!o){B({message:"Por favor, inicia sesión para realizar una compra en BlackStreaming.",onClose:()=>j("/login")});return}if(de==="provider"){B({message:"Los proveedores no pueden realizar compras en BlackStreaming."});return}if(Q<a.price){B({message:"Saldo insuficiente para realizar esta compra."});return}if(!a.providerId||a.providerId===""){B({message:"Este producto no tiene un proveedor asociado. Contacta al administrador de BlackStreaming."});return}z({product:a,customerName:o.name,phoneNumber:""})},[o,Q,j]),ma=t.useCallback(async()=>{if(!document.getElementById("termsCheck").checked){H("Debes aceptar los términos y condiciones");return}if(!/^\d{9}$/.test(u.phoneNumber)){H("El número de WhatsApp debe tener 9 dígitos");return}try{ue(!0);const a=u.product;if(!a.providerId||a.providerId==="")throw new Error("El producto no tiene un proveedor asociado");let c=null;a.status==="En stock"?c=await Be(p,async s=>{const x=k(p,"products",a.id),h=await s.get(x);if(!h.exists())throw new Error("Producto no encontrado");const C=h.data();if(C.availableAccounts<=0&&C.stock<=0)throw new Error("No hay cuentas disponibles para este producto");const M=S(p,`products/${a.id}/accounts`),R=G(M,oe("status","==","available"),Ca(1)),m=await Ee(R);if(m.empty)throw new Error("No hay cuentas disponibles en la subcolección");const y=m.docs[0],b=y.ref,l=y.data(),i=k(p,"users",o.id),g=await s.get(i);if(!g.exists())throw new Error("Usuario no encontrado");const U=k(p,"users",a.providerId),q=await s.get(U);if(!q.exists())throw new Error("Proveedor no encontrado");const Y=k(p,"providerBalances",a.providerId),se=await s.get(Y);let K=0;se.exists()?K=parseFloat(se.data().balance)||0:s.set(Y,{balance:0,provider:a.providerId,updatedAt:ie()});let L=a.providerPhone||"";L||(L=q.data().phoneNumber||""),s.update(b,{status:"unavailable",assignedTo:o.id,assignedAt:new Date().toISOString()}),s.update(x,{availableAccounts:Me(-1),stock:Me(-1)});const Ae=(Number(g.data().balance)||0)-a.price;if(Ae<0)throw new Error("Saldo insuficiente");const ya=g.data().orders||[],Fe={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:L,status:"active",customerName:u.customerName,customerId:o.id,phoneNumber:u.phoneNumber,buyerName:o.name,buyerId:o.id,buyerPhone:o.phone,createdAt:new Date().toISOString(),accountDetails:{email:l.email||"No proporcionado",password:l.password||"No proporcionado",profile:l.profile||"No proporcionado",pin:l.pin||"No proporcionado"},terms:a.terms,type:"applemusic"};s.update(i,{balance:Ae,orders:[...ya,Fe]});const fa=(Number(q.data().balance)||0)+a.price,va=q.data().sales||[],ze={saleId:k(S(p,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:L,customerId:o.id,customerName:u.customerName,customerPhone:u.phoneNumber,buyerName:o.name,buyerId:o.id,buyerPhone:o.phone,accountDetails:{email:l.email||"No proporcionado",password:l.password||"No proporcionado",profile:l.profile||"No proporcionado",pin:l.pin||"No proporcionado"},saleDate:new Date().toISOString(),status:"completed",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};s.update(U,{balance:fa,sales:[...va,ze]});const ja=K+a.price;s.set(Y,{balance:ja,provider:a.providerId,updatedAt:ie()},{merge:!0});const ka=k(S(p,"sales"));return s.set(ka,{...Fe,provider:a.provider,providerId:a.providerId,providerPhone:L,saleDate:new Date().toISOString(),status:"completed",accountDetails:{email:l.email||"No proporcionado",password:l.password||"No proporcionado",profile:l.profile||"No proporcionado",pin:l.pin||"No proporcionado"},saleId:ze.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image}),l}):await Be(p,async s=>{const x=k(p,"users",o.id),h=await s.get(x);if(!h.exists())throw new Error("Usuario no encontrado");const C=k(p,"users",a.providerId),M=await s.get(C);if(!M.exists())throw new Error("Proveedor no encontrado");const R=k(p,"providerBalances",a.providerId),m=await s.get(R);let y=0;m.exists()?y=parseFloat(m.data().balance)||0:s.set(R,{balance:0,provider:a.providerId,updatedAt:ie()});let b=a.providerPhone||"";b||(b=M.data().phoneNumber||"");const i=(Number(h.data().balance)||0)-a.price;if(i<0)throw new Error("Saldo insuficiente");const g=h.data().orders||[],U={productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:b,status:"pending",customerName:u.customerName,customerId:o.id,phoneNumber:u.phoneNumber,buyerName:o.name,buyerId:o.id,buyerPhone:o.phone,createdAt:new Date().toISOString(),accountDetails:null,terms:a.terms,type:"applemusic"};s.update(x,{balance:i,orders:[...g,U]});const Y=(Number(M.data().balance)||0)+a.price,se=M.data().sales||[],K={saleId:k(S(p,"sales")).id,productId:a.id,productName:a.name,price:a.price,renewalPrice:a.renewalPrice,provider:a.provider,providerId:a.providerId,providerPhone:b,customerId:o.id,customerName:u.customerName,customerPhone:u.phoneNumber,buyerName:o.name,buyerId:o.id,buyerPhone:o.phone,accountDetails:null,status:"pending",terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image};s.update(C,{balance:Y,sales:[...se,K]});const L=y+a.price;s.set(R,{balance:L,provider:a.providerId,updatedAt:ie()},{merge:!0});const Te=k(S(p,"sales"));s.set(Te,{...U,provider:a.provider,providerId:a.providerId,providerPhone:b,saleDate:new Date().toISOString(),status:"pending",saleId:K.saleId,terms:a.terms,generalDetails:a.accountDetails,productUrl:a.image})}),ce(s=>s-a.price),w(s=>({...s,orders:[...s.orders,{...u,status:a.status==="En stock"?"active":"pending",createdAt:new Date().toISOString(),accountDetails:a.status==="En stock"?{email:c?.email||"No proporcionado",password:c?.password||"No proporcionado",profile:c?.profile||"No proporcionado",pin:c?.pin||"No proporcionado"}:null}]})),z(null),B({message:a.status==="En stock"?"¡Compra realizada con éxito! El proveedor se contactará contigo con los detalles de acceso.":"¡Pedido realizado con éxito! El proveedor se contactará contigo para coordinar los detalles."})}catch(a){H(a.message||"Error al procesar la compra"),console.error("Error en la compra:",a)}finally{ue(!1)}},[u,o]),xa=t.useCallback(a=>{I({name:a.name,accountDetails:a.accountDetails,provider:a.provider,terms:a.terms,accountType:a.accountType})},[]),pa=t.useCallback(a=>{I({name:a.name,terms:a.terms,provider:a.provider,accountType:a.accountType}),W(!0)},[]),De=t.useCallback(()=>{if(!o){j("/login");return}switch(de){case"admin":j("/dashboard/admin");break;case"provider":j("/dashboard/provider");break;case"affiliate":j("/dashboard/affiliate");break;default:j("/dashboard/user")}},[o,de,j]),te=t.useCallback(a=>{a.preventDefault(),V.trim()&&j(`/search?q=${encodeURIComponent(V)}&category=Apple Music`)},[V,j]),he=t.useCallback(async()=>{try{await $a(Re),j("/")}catch(a){console.error("Error al cerrar sesión:",a),B({message:a.message||"Error al cerrar sesión"})}},[j]),ba=t.useCallback(a=>{if(!a||typeof a!="string")return"30 días";const c=a.match(/(\d+)\s*(mes|meses)/i);if(c)return`${parseInt(c[1],10)*30} días`;const s=a.match(/(\d+)\s*(día|días|dia|dias)/i);if(s)return`${parseInt(s[1],10)} días`;const x=a.match(/(\d+)/);return x?`${parseInt(x[1],10)} días`:"30 días"},[]),ga=t.useCallback(a=>a.status==="A pedido"?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-yellow-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"A pedido"})}):Number(a.stock)>0?e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-green-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsxs("span",{className:"text-xs font-bold uppercase tracking-tight",children:["Stock: ",a.stock]})}):e.jsx("div",{className:"absolute top-0 left-0 w-24 h-8 bg-red-500/80 text-white flex items-center justify-center transform -rotate-45 -translate-x-6 translate-y-3 shadow-md rounded-br-lg",children:e.jsx("span",{className:"text-xs font-bold uppercase tracking-tight",children:"Agotado"})}),[]),Pe=D.filter(a=>a.name.toLowerCase().includes(V.toLowerCase())),ha=t.useCallback(a=>a?a.split(" ").map(s=>s[0]).join("").slice(0,2).toUpperCase():"U",[]),Ie=[{id:"netflix",label:"Netflix",icon:fe,count:d.netflix},{id:"spotify",label:"Spotify",icon:ne,count:d.spotify},{id:"disney",label:"Disney+",icon:A,count:d.disney},{id:"max",label:"Max",icon:ve,count:d.max},{id:"primevideo",label:"Prime Video",icon:Ue,count:d.primevideo},{id:"vix",label:"Vix",icon:A,count:d.vix},{id:"crunchyroll",label:"Crunchyroll",icon:qe,count:d.crunchyroll},{id:"canva",label:"Canva",icon:Le,count:d.canva},{id:"chatgpt",label:"ChatGPT",icon:Sa,count:d.chatgpt},{id:"redessociales",label:"Redes Sociales",icon:Oe,count:d.redessociales},{id:"dgo",label:"Dgo",icon:A,count:d.dgo},{id:"ligamax",label:"Liga Max",icon:Ue,count:d.ligamax},{id:"movistarplay",label:"Movistar Play",icon:A,count:d.movistarplay},{id:"youtube",label:"Youtube",icon:ve,count:d.youtube},{id:"deezer",label:"Deezer",icon:ne,count:d.deezer},{id:"tidal",label:"Tidal",icon:ne,count:d.tidal},{id:"vpn",label:"Vpn",icon:Oe,count:d.vpn},{id:"wintv",label:"Win Tv",icon:A,count:d.wintv},{id:"applemusic",label:"Apple Music",icon:ne,count:d.applemusic},{id:"appletv",label:"Apple Tv",icon:A,count:d.appletv},{id:"iptv",label:"Iptv",icon:A,count:d.iptv},{id:"flujotv",label:"Flujo Tv",icon:A,count:d.flujotv},{id:"vikirakuten",label:"Viki Rakuten",icon:fe,count:d.vikirakuten},{id:"pornhub",label:"Pornhub",icon:ve,count:d.pornhub},{id:"paramount",label:"Paramount",icon:fe,count:d.paramount},{id:"licencias",label:"Licencias",icon:He,count:d.licencias},{id:"capcut",label:"Capcut",icon:Le,count:d.capcut},{id:"duolingo",label:"Duolingo",icon:qe,count:d.duolingo},{id:"buscapersonas",label:"Busca Personas",icon:Da,count:d.buscapersonas}];return X?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"}`,children:[e.jsx(Ve,{className:"animate-spin text-5xl text-blue-500 mb-4"}),e.jsx("p",{className:"text-lg font-medium text-gray-300",children:"Cargando..."})]}):Z?e.jsxs("div",{className:`flex flex-col items-center justify-center min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"} p-4`,children:[e.jsx(Pa,{className:"text-5xl text-red-400 mb-4"}),e.jsx("p",{className:"text-xl font-semibold text-white mb-2",children:"Error"}),e.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:Z}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-300",children:"Recargar"})]}):e.jsxs("div",{className:`min-h-screen font-inter transition-colors duration-300 ${r==="dark"?"bg-gradient-to-b from-gray-900 via-gray-800 to-black text-white":"bg-gradient-to-b from-gray-50 to-gray-50 text-gray-900"} relative overflow-x-hidden`,children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("style",{children:`
            .particles {
              position: absolute;
              width: 100%;
              height: 100%;
              background: transparent;
            }
            .particle {
              position: absolute;
              background: ${r==="dark"?"rgba(255, 255, 255, 0.15)":"rgba(0, 0, 0, 0.2)"};
              border-radius: 50%;
              animation: float 12s infinite linear;
            }
            @keyframes float {
              0% { transform: translateY(100vh) scale(0.4); opacity: 0.1; }
              100% { transform: translateY(-100vh) scale(0.8); opacity: 0.2; }
            }
          `}),e.jsx("div",{className:"particles",children:[...Array(15)].map((a,c)=>e.jsx("div",{className:"particle",style:{left:`${Math.random()*100}%`,width:`${Math.random()*2+1}px`,height:`${Math.random()*2+1}px`,animationDelay:`${Math.random()*8}s`}},c))})]}),e.jsxs("header",{className:`${r==="dark"?"bg-black/20":"bg-white/90"} backdrop-blur-xl py-4 px-4 sm:px-6 flex items-center justify-between shadow-lg fixed top-0 left-0 right-0 z-50 transition-all duration-300 md:ml-64`,children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(n.img,{src:Ia,alt:"Logo de BlackStreaming",className:`h-10 w-10 rounded-full border ${r==="dark"?"border-gray-700/50":"border-gray-200/50"} shadow-sm`,whileHover:{scale:1.1,rotate:10},transition:{type:"spring",stiffness:400},loading:"lazy"}),e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-extrabold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-600",children:"BlackStreaming"})]}),e.jsx("div",{className:"flex-1 mx-4 max-w-md hidden lg:block",children:e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",value:V,onChange:a=>Ce(a.target.value),className:`w-full py-2.5 px-5 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${r==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar en Apple Music",onKeyDown:a=>a.key==="Enter"&&te(a)}),e.jsx("button",{onClick:te,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${r==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:e.jsx(Ge,{size:18})})]})}),e.jsxs("nav",{className:"flex items-center space-x-3 relative",children:[e.jsx("button",{onClick:la,className:`p-2 rounded-full ${r==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Cambiar a tema ${r==="dark"?"claro":"oscuro"}`,children:r==="dark"?e.jsx(Ta,{size:20}):e.jsx(Aa,{size:20})}),o&&e.jsxs("button",{onClick:()=>be(!0),className:`p-2 rounded-full relative ${r==="dark"?"text-gray-300 hover:bg-gray-700/50 hover:text-white":"text-gray-600 hover:bg-gray-200/50 hover:text-black"} transition duration-300`,"aria-label":`Notificaciones (${re.length} nuevas)`,children:[e.jsx(_e,{size:20}),re.length>0&&e.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs rounded-full px-1.5 py-0.5",children:re.length})]}),e.jsx("button",{className:"lg:hidden p-2 rounded-full hover:bg-gray-700/50 transition duration-300",onClick:()=>E(!pe),"aria-label":"Abrir menú móvil","aria-expanded":pe,children:e.jsx(Fa,{size:20,className:r==="dark"?"text-gray-300":"text-gray-600"})}),e.jsx("div",{className:"hidden lg:flex items-center space-x-3",children:o?e.jsxs("div",{className:"relative flex items-center space-x-4",children:[e.jsx(n.div,{className:`flex items-center space-x-2 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,whileHover:{scale:1.05},children:e.jsxs("span",{className:"text-sm font-semibold",children:["S/. ",Q.toFixed(2)]})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>xe(!me),className:`flex items-center space-x-2 ${r==="dark"?"bg-gray-800/30 border-gray-600/30":"bg-gray-100/80 border-gray-200/30"} backdrop-blur-xl py-2 px-4 rounded-full hover:shadow-lg transition-all duration-300`,"aria-label":"Menú de usuario","aria-haspopup":"true","aria-expanded":me,children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-sm font-bold text-white shadow-sm",children:o.photoURL?e.jsx("img",{src:o.photoURL,alt:"Avatar de usuario",className:"h-full w-full rounded-full",loading:"lazy"}):ha(o.name||o.email)}),e.jsx("span",{className:`text-sm font-semibold ${r==="dark"?"text-gray-200":"text-gray-800"} truncate max-w-[120px]`,children:o.name||"Usuario"}),e.jsx(za,{className:`ml-1 ${r==="dark"?"text-gray-400":"text-gray-600"}`,size:14})]}),e.jsx(T,{children:me&&e.jsxs(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:`absolute right-0 mt-2 w-56 ${r==="dark"?"bg-gray-900/95 border-gray-600/30":"bg-white/95 border-gray-200/30"} backdrop-blur-xl rounded-lg shadow-xl py-3 z-50`,role:"menu",children:[e.jsxs("button",{onClick:()=>{De(),xe(!1)},className:`w-full text-left px-4 py-2 text-sm hover:${r==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ir al dashboard",children:[e.jsx(Qe,{className:"mr-2"})," Dashboard"]}),e.jsxs("button",{onClick:()=>{he(),xe(!1)},className:`w-full text-left px-4 py-2 text-sm hover:${r==="dark"?"bg-gray-800/80":"bg-gray-200/80"} flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[e.jsx(je,{className:"mr-2"})," Cerrar Sesión"]})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${r==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Iniciar sesión",children:[e.jsx(We,{className:"mr-2"})," Ingresar"]}),e.jsxs(_,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${r==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,"aria-label":"Registrarse",children:[e.jsx(Ye,{className:"mr-2"})," Registrarse"]})]})})]}),e.jsx(T,{children:pe&&e.jsx(n.nav,{initial:{opacity:0,x:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},className:`lg:hidden absolute top-full left-0 right-0 ${r==="dark"?"bg-gray-900/95":"bg-white/95"} backdrop-blur-xl shadow-lg z-40 p-6`,role:"menu","aria-label":"Menú móvil",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"text",placeholder:"Buscar en Apple Music...",value:V,onChange:a=>Ce(a.target.value),className:`w-full py-2.5 px-5 ${r==="dark"?"bg-gray-800/30 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-sm backdrop-blur-xl transition-all duration-300 group-hover:shadow-lg group-hover:${r==="dark"?"bg-gray-800/50":"bg-gray-100/90"}`,"aria-label":"Buscar en Apple Music",onKeyDown:a=>a.key==="Enter"&&te(a)}),e.jsx("button",{onClick:te,className:`absolute right-3 top-1/2 transform -translate-y-1/2 ${r==="dark"?"text-gray-400":"text-gray-600"} group-hover:text-blue-500 transition duration-300`,"aria-label":"Buscar",children:e.jsx(Ge,{size:18})})]}),o&&e.jsxs("button",{onClick:()=>{be(!0),E(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ver notificaciones",children:[e.jsx(_e,{className:"mr-2"})," Notificaciones"]}),e.jsxs("div",{className:"flex flex-col space-y-2 max-h-[50vh] overflow-y-auto",children:[e.jsx("h3",{className:`text-sm font-semibold ${r==="dark"?"text-gray-200":"text-gray-800"}`,children:"Categorías"}),Ie.map(a=>e.jsxs(_,{to:`/${a.id}`,onClick:()=>E(!1),className:`flex items-center justify-between space-x-3 px-4 py-2 rounded-xl transition-all duration-300 ${a.id==="applemusic"?"bg-blue-100 text-blue-600 border border-blue-300":r==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":a.id==="applemusic"?"page":void 0,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(a.icon,{className:"text-lg"}),e.jsx("span",{children:a.label})]}),e.jsx("span",{className:"bg-blue-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:a.count})]},a.id))]}),o?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} font-medium`,children:["Saldo: S/. ",Q.toFixed(2)]}),e.jsxs("button",{onClick:()=>{De(),E(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Ir al dashboard",children:[e.jsx(Qe,{className:"mr-2"})," Dashboard"]}),e.jsxs("button",{onClick:()=>{he(),E(!1)},className:`text-sm flex items-center ${r==="dark"?"text-gray-200 hover:text-white":"text-gray-800 hover:text-black"} transition duration-200`,role:"menuitem","aria-label":"Cerrar sesión",children:[e.jsx(je,{className:"mr-2"})," Cerrar Sesión"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{to:"/login",className:`bg-blue-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-blue-700/95 text-sm border ${r==="dark"?"border-blue-500/30":"border-blue-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>E(!1),role:"menuitem","aria-label":"Iniciar sesión",children:[e.jsx(We,{className:"mr-2"})," Ingresar"]}),e.jsxs(_,{to:"/register",className:`bg-green-600/90 backdrop-blur-xl py-2 px-4 rounded-full hover:bg-green-700/95 text-sm border ${r==="dark"?"border-green-500/30":"border-green-300/30"} hover:shadow-lg transition-all duration-300 flex items-center`,onClick:()=>E(!1),role:"menuitem","aria-label":"Registrarse",children:[e.jsx(Ye,{className:"mr-2"})," Registrarse"]})]})]})})})]}),e.jsx("aside",{ref:ia,className:`fixed inset-y-0 left-0 transform ${F?"translate-x-0":"-translate-x-full"} md:translate-x-0 transition-transform duration-300 ease-in-out z-40 w-64 ${r==="dark"?"bg-gray-900/90 border-gray-800/50":"bg-white border-gray-300"} backdrop-blur-md border-r md:shadow-md h-screen flex flex-col`,children:e.jsxs("div",{className:"p-4 flex flex-col min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("button",{onClick:()=>{j("/"),f(!1)},className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-400 hover:to-purple-500 transition-all duration-300","aria-label":"Go to BlackStreaming homepage",children:"BlackStreaming"}),e.jsx("button",{onClick:()=>f(!1),className:"md:hidden p-2 rounded-full hover:bg-gray-700/50 transition-all duration-300","aria-label":"Close menu",children:e.jsx(O,{className:"text-lg"})})]}),o&&e.jsxs("div",{className:`flex items-center space-x-3 mb-6 p-3 ${r==="dark"?"bg-gray-800/50 border-gray-700/50":"bg-gray-100 border-gray-300"} backdrop-blur-sm rounded-xl border`,children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-purple-600 flex items-center justify-center text-white font-bold",children:o.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${r==="dark"?"text-white":"text-gray-900"}`,children:o.name}),e.jsxs("p",{className:`text-xs ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:["Saldo: S/. ",Q.toFixed(2)]})]})]}),e.jsx("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:Ie.map(a=>e.jsxs(_,{to:`/${a.id}`,onClick:()=>f(!1),className:`w-full flex items-center justify-between space-x-3 px-4 py-3 rounded-xl transition-all duration-300 ${a.id==="applemusic"?"bg-blue-100 text-blue-600 border border-blue-300":r==="dark"?"text-gray-300 hover:bg-gray-800/50 hover:text-blue-400":"text-gray-800 hover:bg-gray-100 hover:text-blue-600"}`,role:"menuitem","aria-current":a.id==="applemusic"?"page":void 0,children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(a.icon,{className:"text-lg"}),e.jsx("span",{children:a.label})]}),e.jsx("span",{className:"bg-blue-500/20 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:a.count})]},a.id))}),o&&e.jsx("div",{className:"mt-auto pt-6",children:e.jsxs("button",{onClick:()=>{he(),f(!1)},className:`w-full flex items-center space-x-3 px-4 py-3 ${r==="dark"?"text-red-400 hover:bg-red-900/20 border-red-900/50":"text-red-600 hover:bg-red-100 border-red-300"} rounded-xl transition-all duration-300 border`,role:"menuitem","aria-label":"Sign out",children:[e.jsx(je,{className:"text-lg"}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})}),e.jsx("main",{className:"md:ml-64 pt-20 px-4 sm:px-6 lg:px-8 min-h-screen flex justify-center items-start overflow-y-auto",children:e.jsxs("div",{className:`bg-${r==="dark"?"black/50":"white"} backdrop-blur-md p-6 sm:p-8 lg:p-10 rounded-2xl shadow-md max-w-6xl mx-auto border ${r==="dark"?"border-gray-700/50":"border-gray-300"} w-full`,children:[e.jsxs("section",{className:"relative h-48 sm:h-56 md:h-64 bg-cover bg-center flex items-center justify-center overflow-hidden rounded-2xl shadow-lg mb-8",style:{backgroundImage:"url('https://images.unsplash.com/photo-1514320291840-2e0a9bf2a9ae?w=1350&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/80 to-gray-900/50"}),e.jsxs("div",{className:"relative z-10 text-center px-4",children:[e.jsx(n.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white mb-3 drop-shadow-lg",children:"Apple Music Premium"}),e.jsx(n.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:`text-base sm:text-lg md:text-xl ${r==="dark"?"text-gray-200":"text-gray-600"} max-w-2xl mx-auto drop-shadow-md`,children:"Disfruta de millones de canciones con Apple Music"})]})]}),e.jsxs("section",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 space-y-4 sm:space-y-0",children:[e.jsx("h2",{className:`text-2xl sm:text-3xl font-bold ${r==="dark"?"text-white":"text-gray-900"}`,children:"Planes Disponibles"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ee(!0),className:`text-sm sm:text-base ${r==="dark"?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-500"} transition-all underline underline-offset-4`,children:"Términos Generales"})]}),Pe.length===0?e.jsx("div",{className:"text-center py-16",children:e.jsx("p",{className:`text-lg sm:text-xl ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:"No se encontraron productos que coincidan con tu búsqueda"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 w-full",children:Pe.map(a=>e.jsxs(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.3},className:`relative group rounded-2xl overflow-hidden border-2 ${r==="dark"?"bg-gradient-to-br from-gray-800/60 to-black/60 border-blue-500/20":"bg-gradient-to-br from-gray-200/60 to-gray-300/60 border-purple-500/20"} shadow-xl hover:shadow-2xl transition-shadow duration-300 backdrop-blur-sm`,children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] overflow-hidden",children:[e.jsx(n.img,{whileHover:{scale:1.1},src:a.image,alt:a.name,className:"w-full h-full object-cover object-center transition-transform duration-500",style:{filter:"brightness(0.95)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-gray-900/20 to-transparent"}),ga(a)]}),e.jsxs("div",{className:"flex flex-col flex-grow p-4 pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:`uppercase font-bold tracking-wide text-xs ${r==="dark"?"text-blue-400 bg-blue-500/20":"text-purple-600 bg-purple-600/20"} px-2 py-0.5 rounded-md`,children:a.accountType}),e.jsxs("span",{className:`text-xs flex items-center gap-1 ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:[e.jsx(Ba,{className:"text-blue-500",size:13}),ba(a.duration)]})]}),e.jsx("h3",{className:`font-extrabold text-lg ${r==="dark"?"text-white":"text-gray-900"} mb-2 truncate leading-tight drop-shadow`,children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 mb-1.5",children:[ca($e[a.providerId]||1),e.jsx("span",{className:`ml-1 text-xs ${r==="dark"?"text-gray-400":"text-gray-600"}`,children:($e[a.providerId]||1).toFixed(1)})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`flex items-center text-xs ${r==="dark"?"text-gray-300":"text-gray-600"} gap-1`,children:[e.jsx(Ea,{className:"text-blue-500",size:13}),a.provider]}),e.jsxs("span",{className:`flex items-center text-xs ${r==="dark"?"text-gray-400":"text-gray-600"} gap-1`,children:[e.jsx(Ma,{className:"text-blue-500",size:13}),a.status]})]}),e.jsx("div",{className:"flex items-center mb-2",children:a.renewal?e.jsxs("span",{className:"text-green-500 text-xs font-medium",children:["Renovación S/. ",ge(a.renewalPrice)]}):e.jsx("span",{className:"text-yellow-500 text-xs font-medium",children:"Sin renovación"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[e.jsx("div",{className:"flex items-end justify-between mb-2",children:e.jsxs("span",{className:`font-bold text-xl tracking-tight drop-shadow ${r==="dark"?"text-blue-400":"text-purple-600"}`,children:["S/. ",ge(a.price)]})}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>xa(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${r==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(Ra,{size:14}),"Detalles"]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pa(a),className:`flex-1 flex items-center justify-center gap-1 py-1.5 px-3 rounded-lg ${r==="dark"?"bg-gray-800/60 hover:bg-blue-500/20":"bg-gray-200/60 hover:bg-purple-600/20"} text-gray-100 transition-all border border-blue-500/40 text-xs font-medium shadow-inner focus:outline-none backdrop-blur-sm`,children:[e.jsx(He,{className:"text-blue-500",size:14}),e.jsx("span",{children:"Términos"})]})]}),e.jsxs(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ua(a),className:`w-full py-2 px-3 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 shadow-lg transition-all duration-200 ${Number(a.stock)>0||a.status==="A pedido"?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white":"bg-gray-800/60 text-gray-400 cursor-not-allowed"}`,disabled:Number(a.stock)<=0&&a.status!=="A pedido",children:[e.jsx(Ua,{size:16}),a.status==="A pedido"?"Pedir Ahora":"Comprar"]})]})]})]},a.id))})]})]})}),e.jsx(T,{children:u&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>z(null),role:"dialog","aria-labelledby":"purchase-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>z(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar modal de compra",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"purchase-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Confirmar Compra"}),e.jsxs("p",{className:`mb-4 ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Estás a punto de comprar: ",e.jsx("strong",{children:u.product.name})]}),e.jsxs("p",{className:`mb-4 ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Precio: S/. ",ge(u.product.price)]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"customerName",className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Nombre"}),e.jsx("input",{id:"customerName",type:"text",value:u.customerName,onChange:a=>z({...u,customerName:a.target.value}),className:`w-full py-2 px-3 rounded-lg ${r==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,"aria-required":"true"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"phoneNumber",className:`block text-sm font-medium ${r==="dark"?"text-gray-300":"text-gray-700"} mb-1`,children:"Número de WhatsApp"}),e.jsx("input",{id:"phoneNumber",type:"tel",value:u.phoneNumber,onChange:a=>z({...u,phoneNumber:a.target.value}),className:`w-full py-2 px-3 rounded-lg ${r==="dark"?"bg-gray-800/50 border-gray-600/30 text-gray-200":"bg-gray-100/80 border-gray-200/30 text-gray-800"} focus:outline-none focus:ring-2 focus:ring-blue-500/50`,placeholder:"9 dígitos",pattern:"\\d{9}","aria-required":"true"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"termsCheck",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded","aria-required":"true"}),e.jsxs("span",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:["Acepto los"," ",e.jsx("button",{type:"button",onClick:()=>{W(!0),I({name:u.product.name,terms:u.product.terms,provider:u.product.provider,accountType:u.product.accountType})},className:"underline text-blue-500 hover:text-blue-400",children:"términos y condiciones"})]})]})}),Z&&e.jsx("p",{className:"text-red-400 text-sm mb-4",children:Z}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>z(null),className:`flex-1 py-2 px-4 rounded-xl ${r==="dark"?"bg-gray-700/50 hover:bg-gray-600/50 text-gray-200 border-gray-600/30":"bg-gray-200 hover:bg-gray-300 text-gray-800 border-gray-300"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cancelar compra",children:"Cancelar"}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ma,disabled:X,className:`flex-1 py-2 px-4 rounded-xl ${X?"bg-gray-500/50 cursor-not-allowed text-gray-400":r==="dark"?"bg-green-600/90 hover:bg-green-700/95 text-white border-green-500/30":"bg-green-500/90 hover:bg-green-600/95 text-white border-green-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300 flex items-center justify-center gap-2`,"aria-label":"Confirmar compra",children:X?e.jsxs(e.Fragment,{children:[e.jsx(Ve,{className:"animate-spin",size:16}),"Procesando..."]}):"Confirmar"})]})]})})}),e.jsx(T,{children:P&&!we&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>I(null),role:"dialog","aria-labelledby":"detail-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>I(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar detalles",children:e.jsx(O,{size:20})}),e.jsxs("h2",{id:"detail-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:["Detalles de ",P.name]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("strong",{children:"Tipo de Cuenta:"})," ",P.accountType]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Proveedor:"})," ",P.provider]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Detalles:"})," ",P.accountDetails]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I(null),className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar detalles",children:"Cerrar"})]})})}),e.jsx(T,{children:we&&P&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>{W(!1),I(null)},role:"dialog","aria-labelledby":"terms-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>{W(!1),I(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"terms-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Términos y Condiciones"}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:[e.jsx("strong",{children:"Producto:"})," ",P.name]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Proveedor:"})," ",P.provider]}),e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2`,children:[e.jsx("strong",{children:"Términos:"})," ",P.terms]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{W(!1),I(null)},className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos",children:"Cerrar"})]})})}),e.jsx(T,{children:aa&&e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",onClick:()=>ee(!1),role:"dialog","aria-labelledby":"general-terms-modal-title",children:e.jsxs(n.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.2},className:`w-full max-w-md mx-4 ${r==="dark"?"bg-gray-900/90":"bg-white"} rounded-2xl shadow-md p-6 relative max-h-[80vh] overflow-y-auto backdrop-blur-md border ${r==="dark"?"border-gray-700/50":"border-gray-300"}`,onClick:a=>a.stopPropagation(),children:[e.jsx("button",{onClick:()=>ee(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Cerrar términos generales",children:e.jsx(O,{size:20})}),e.jsx("h2",{id:"general-terms-modal-title",className:`text-xl font-bold mb-4 ${r==="dark"?"text-white":"text-gray-900"}`,children:"Términos Generales"}),e.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"}`,children:"Al adquirir cualquier producto en BlackStreaming, aceptas los siguientes términos generales:"}),e.jsxs("ul",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-700"} mt-2 list-disc pl-5`,children:[e.jsx("li",{children:"Los productos son proporcionados por terceros y BlackStreaming actúa como intermediario."}),e.jsx("li",{children:"El tiempo de entrega puede variar según el proveedor y el tipo de producto."}),e.jsx("li",{children:"Las cuentas compartidas deben usarse según las instrucciones del proveedor."}),e.jsx("li",{children:"No se permiten reembolsos una vez entregada la cuenta, salvo en casos de incumplimiento del proveedor."}),e.jsx("li",{children:"BlackStreaming no se responsabiliza por cambios en las políticas de las plataformas de streaming."})]}),e.jsx(n.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ee(!1),className:`mt-6 w-full py-2 px-4 rounded-xl ${r==="dark"?"bg-blue-600/90 hover:bg-blue-700/95 text-white border-blue-500/30":"bg-blue-500/90 hover:bg-blue-600/95 text-white border-blue-300/30"} backdrop-blur-md border text-sm font-medium transition-all duration-300`,"aria-label":"Cerrar términos generales",children:"Cerrar"})]})})}),e.jsx(Xe,{isOpen:!!ae,message:ae?.message||"",onClose:()=>{ae?.onClose&&ae.onClose(),B(null)},theme:r}),e.jsx(Ze,{show:oa,onClose:()=>be(!1),notifications:re,theme:r}),e.jsx(T,{children:ta&&e.jsx(n.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},transition:{duration:.3},onClick:na,className:`fixed bottom-6 right-6 p-3 rounded-full ${r==="dark"?"bg-blue-600/90":"bg-blue-500/90"} text-white shadow-lg hover:bg-blue-700/95 transition-all duration-300 z-40 backdrop-blur-md`,"aria-label":"Volver arriba",children:e.jsx(qa,{size:20})})}),e.jsx("footer",{className:`mt-12 py-8 ${r==="dark"?"bg-gray-900/50":"bg-gray-100"} backdrop-blur-md border-t ${r==="dark"?"border-gray-700/50":"border-gray-300"} md:ml-64`,children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="dark"?"text-white":"text-gray-900"} mb-4`,children:"BlackStreaming"}),e.jsx("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:"Tu plataforma confiable para cuentas premium de streaming a precios accesibles."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-lg font-semibold ${r==="dark"?"text-white":"text-gray-900"} mb-4`,children:"Síguenos"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Twitter",children:e.jsx(La,{size:24})}),e.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Instagram",children:e.jsx(Oa,{size:24})}),e.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:`${r==="dark"?"text-gray-300 hover:text-blue-400":"text-gray-600 hover:text-blue-600"} transition-colors duration-200`,"aria-label":"Facebook",children:e.jsx(Ha,{size:24})})]})]})]}),e.jsx("div",{className:`mt-8 pt-6 border-t ${r==="dark"?"border-gray-700/50":"border-gray-300"} text-center`,children:e.jsxs("p",{className:`text-sm ${r==="dark"?"text-gray-300":"text-gray-600"}`,children:["© ",new Date().getFullYear()," BlackStreaming. Desarrollado por Saiph."]})})]})})]})};ea.propTypes={};const Wa=()=>e.jsx(Ga,{children:e.jsx(ea,{})});export{Wa as default};
